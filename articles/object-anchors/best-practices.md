---
title: 推奨する運用方法
description: 改善された結果を得るための推奨されるベスト プラクティス
author: ariye
ms.author: crtreasu
ms.date: 09/10/2021
ms.topic: best-practice
ms.service: azure-object-anchors
ms.openlocfilehash: 119837282409719a194341467a5d8164a46431b9
ms.sourcegitcommit: 0770a7d91278043a83ccc597af25934854605e8b
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/13/2021
ms.locfileid: "124777585"
---
# <a name="best-practices"></a>ベスト プラクティス

最良の結果を得るために、これらの手順のいくつかを試してみることをお勧めします。

## <a name="conversion"></a>変換

- 物理オブジェクトのディメンションを確認します。 Azure Object Anchors は、最小ディメンションが、推奨されている 1 m から 10 m の範囲内のオブジェクトで最もうまく機能します。
- [**MeshLab**](https://www.meshlab.net/) のようなソフトウェアで 3D モデルを調べて、次の詳細を確認します。
  - 3D モデルに三角形のメッシュがあること、および外部サーフェス上の三角形が外側を向いていることを確認します。 つまり、頂点の向きが、法線が外の向きにおいて右手の法則に従うようになっている必要があります。
  - 3D モデルが、物理オブジェクトに対して適切なスケール ユニットで指定されていることを確認します。 ユニットは、"***センチメートル、デシメートル、フィート、インチ、キロメートル、メートル、ミリメートル、ヤード***" のいずれかである必要があります。
  - オブジェクトの実際の垂直方向に対応する公称の重力方向を確認します。 オブジェクトの下向きの垂直または重力が -Y の場合は、* **(0, -1, 0)** _ または _*_ (0, 0, -1)_** を -Z に使用します。その他の方向についても同様です。
  - 3D モデルが `.glb`、`.gltf`、`.ply`、`.fbx`、`.obj` のいずれかのサポートされた形式でエンコードされていることを確認します。
- このモデル変換サービスでは、サイズが大きく、LOD (詳細レベル) が高いモデルの処理には時間がかかることがあります。 効率を高めるために、3D モデルを前処理して内部の面を削除できます。

## <a name="detection"></a>検出

> [!VIDEO https://channel9.msdn.com/Shows/Docs-Mixed-Reality/Azure-Object-Anchors-Detection-and-Alignment-Best-Practices/player]

- 提供されているランタイム SDK には、物理オブジェクトを検索して検出するために、ユーザー指定の検索領域が必要です。 検索領域は、境界ボックス、球、視錐台、またはそれらを組み合わせたものにすることができます。 誤検出を回避するために、オブジェクトをカバーするのに十分な大きさの検索領域を設定します。 提供されているサンプル アプリを使用するときは、最も近いサーフェスから約 2 m 離れたところに立ってアプリを起動します。
- HoloLens 2 デバイスで Azure Object Anchors アプリを開始する前に、 **[設定]** アプリを使用してすべてのホログラムを削除します。
  **[システム]**  ->  **[ホログラム]** に移動して、 **[すべてのホログラムを削除]** を選択して新しいマップから開始します。

  ホログラムをクリアすると、オブジェクトが最近移動された場合は、現在の位置で適切に検出できるようになります。
- ホログラムを削除した後、アプリを起動する前に、HoloLens を装着して 1 - 2 m 離れたところから数回歩き回って、オブジェクトをスキャンします。

  オブジェクトと環境を事前にスキャンすると、以前のオブジェクトとスキャンから作成された残りのサーフェスをクリーンアップするのに役立ちます。
  そうしないと、アプリではゴースト サーフェスを認識し、3D モデルと、関連するホログラムが正しく配置されない可能性があります。 オブジェクトを事前にスキャンすることで、Azure Object Anchors 検出の待機時間も大幅に (30 秒から 5 秒) 短縮される可能性があります。
- 暗色や高反射のオブジェクトの場合は、複数の角度と複数の距離から、より近い範囲でオブジェクトをスキャンする必要があることがあります。
- サンプル アプリに示されているように、提供されているランタイム SDK には、ユーザーが検出を微調整するために使用できるいくつかのパラメーターが用意されています。 ほとんどのオブジェクトで既定のパラメーターが十分機能します。 特定のオブジェクト用に調整する必要がある場合は、次の推奨事項を参照してください。
  - 物理オブジェクトが大きい、暗色である、または光沢がある場合は、低いサーフェス カバレッジしきい値を使用します。
  - 自動車のような大きなオブジェクトでは、小さなスケール変更 (0.1 など) を考慮します。
  - オブジェクトが傾斜地にあるときは、オブジェクトのローカルの垂直方向と重力の間で度数に若干のずれが生じることを考慮します。

## <a name="next-steps"></a>次のステップ

このガイドでは、Azure Object Anchors を使用してオブジェクトを検出するときに最適な結果を得るためのいくつかのベスト プラクティスを学習しました。 関連記事を次に示します。

> [!div class="nextstepaction"]
> [オブジェクト検出のトラブルシューティング](./troubleshoot/object-detection.md)
