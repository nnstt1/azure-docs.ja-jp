---
title: Azure Video Analyzer の Visual Studio Code 拡張機能を使用する
description: このリファレンス記事では、Azure Video Analyzer のVisual Studio Code 拡張機能のさまざまな機能を使用する方法について説明します。
ms.service: azure-video-analyzer
ms.topic: reference
ms.date: 11/04/2021
ms.custom: ignite-fall-2021
ms.openlocfilehash: b0faa61b724420ad04cc489d51539c134569dd05
ms.sourcegitcommit: 677e8acc9a2e8b842e4aef4472599f9264e989e7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/11/2021
ms.locfileid: "132287117"
---
# <a name="visual-studio-code-extension-for-azure-video-analyzer"></a>Azure Video Analyzer の Visual Studio Code 拡張機能を使用する

Azure Video Analyzer は、ビデオ解析プログラムを構築しやすくするプラットフォームであり、関連付けられている Visual Studio Code 拡張機能は、そのプラットフォームの学習を容易にするツールです。  この記事は、拡張機能によって提供されるさまざまな機能のリファレンスです。  以下の基本について説明します。

* パイプライン トポロジ – JSON の作成、編集、削除、表示
* ライブ パイプライン – JSON の作成、アクティブ化、非アクティブ化、削除、表示
* パイプライン トポロジの編集 - モジュール、パラメーター、システム変数、接続、検証

エッジ デバイスに接続するように拡張機能を設定していない場合は、[Azure Video Analyzer の Visual Studio Code 拡張機能](./edge/use-visual-studio-code-extension.md)のクイックスタートに従 います。

## <a name="managing-pipelines-topology"></a>パイプライン トポロジの管理

トポロジを作成するには、モジュールの左側で `Pipelines topologies` を右クリックし `Create pipeline topology` を選択します。  これにより、新しい空のトポロジが開きます。  その後、上部の `Try sample topologies` ドロップダウンから選択するか、自分で構築することで、事前に作成されたトポロジのいずれかを読み込む方法があります。  

必要なすべての領域が完了したら、トポロジを右上の `Save` で保存する必要があります。  サンプル トポロジの場合は、必須フィールドを事前に入力する必要があります。  これにより、ライブ パイプラインの作成で使用できます。

既存のトポロジを編集するには、パイプライン トポロジの下の左側で、トポロジの名前を右クリックし `Edit pipeline topology` を選択します。

既存のトポロジを削除するには、パイプライン トポロジの下の左側で、トポロジの名前を右クリックし `Delete pipeline topology` を選択します。  ライブ パイプラインを最初に削除する必要があります。

既存のトポロジの背後にある基になる JSON を表示する場合は、パイプライン トポロジの下の左で、トポロジの名前を右クリックし `Show pipeline topology JSON` を選択します。

## <a name="live-pipelines"></a>ライブ パイプライン

ライブ パイプラインを作成するには、パイプライン トポロジの下の左側で、トポロジの名前を右クリックし `Create live pipeline` を選択します。  続行する前に、ライブ パイプライン名と必要なパラメーターを入力する必要があります。  右上の `Save` をクリックして非アクティブな状態で保存するか、または `Save and activate` をクリックしてライブ パイプラインを直ちに開始します。 

既存のライブ パイプラインをアクティブ化するには、パイプライン トポロジ下の左で、ライブ パイプラインの名前を右クリックし `Activate live pipeline` を選択します。

実行中のインスタンスを非アクティブ化するには、パイプライン トポロジ下の左で、ライブ パイプラインの名前を右クリックし `Deactivate live pipeline` を選択します。  ライブ パイプラインは削除されません。

既存のライブ パイプラインを削除するには、パイプライン トポロジ下の左で、ライブ パイプラインを右クリックし `Delete live pipeline` を選択します。  アクティブなライブ パイプラインを削除することはできません。

既存のライブ パイプラインの背後にある基になる JSON を表示する場合は、パイプライン トポロジの下の左で、ライブ パイプラインを右クリックし `Show live pipeline JSON` を選択します。

## <a name="editing-a-topology"></a>トポロジの編集 

パイプライン トポロジは、さまざまな要素で構成されています。 これらの要素の詳細については、 [パイプライン](pipeline.md) の概念に関するドキュメントを参照してください。 このセクションでは、トポロジを構築または編集するためのインターフェイスの部分について説明します。

### <a name="modules"></a>モジュール

モジュールは左側で使用でき、ソース、プロセッサ、およびシンクにグループ化されます。  トポロジに 1 つ追加するには、編集領域までドラッグします。

同じ開始パラメーターを持つ同じ種類の別のモジュールが必要な場合は、モジュールを右クリックして `Copy` を選択して、そのモジュールを複製でき ます。

トポロジからモジュールを削除する場合は、モジュールを右クリックし `Delete` を選択します。

### <a name="parameters"></a>パラメーター

モジュールの属性を編集するには、編集領域でその属性を左クリックします。  これにより、右側のペインにすべての要素の一覧が表示されます。  必須フィールドには赤いアスタリスクが付いています。  情報テキストには、各項目の名前による簡単な説明があります。

トポロジは、実質的に複数のライブ パイプラインを作成できるテンプレートです。作成時に入力する項目があります。  そのためには、パラメーターを使用します。  これをアクティブにするには、属性の右側にある 3 つのドットを右クリックし `Parameterize` を選択します。  ウィンドウが表示されます。

パラメーター化ウィンドウでは、ライブ パイプラインの作成時に入力した値として機能する新しいパラメーターを作成するか、既存のパラメーターから選択することができます。  新しく作成するには、名前と型を入力する必要があります。  必要に応じて既定値を入力できます。これは、変更が必要な場合のみです。  ライブ パイプラインが作成される場合は、既定値のないパラメーターだけが必要になります。  終了したら `Set` をクリックします。

既存のパラメーターを管理する場合は、上部の `Manage parameters` オプションを使用してこれを行います。  表示されるペインでは、新しいパラメーターを追加したり、既存のパラメーターを編集または削除したりできます。

### <a name="system-variable"></a>システム変数

一連のライブ パイプラインを作成する場合は、ファイルまたは出力の名前を付けるために変数を使用する必要がある可能性があります。  たとえば、ライブ パイプライン名と日付/時刻でビデオ クリップに名前を付け、それがどこから何時に来たのかを知りたい場合です。  Video Analyzer には、ここで役立つモジュールで使用できる 3 つのシステム変数が含まれています。

| システム変数        | 説明                                                  | 例              |
| :--------------------- | :----------------------------------------------------------- | :------------------- |
| System.Runtime.DateTime        | ISO8601 ファイルに準拠した形式の UTC 日付時刻 (基本表現 YYYYYMMDDThhmmss)。 | 20200222T173200Z     |
| System.TopologyName    | ユーザーが指定した実行中のパイプライン トポロジの名前。          | IngestAndRecord      |
| System.PipelineName    | ユーザーが指定した実行中のライブ パイプラインの名前。          | camera001            |

### <a name="connections"></a>接続 

トポロジを作成する場合は、さまざまなモジュールを一緒に接続する必要があります。  これは、接続を使用して行います。  モジュールの端にある円から、データを流す次のモジュールの円にドラッグします。  これにより、接続が生成されます。

既定では、接続は、あるモジュールから別のモジュールにすべてのデータを送信します。 オーディオ データまたはアプリケーション データのみを送信する場合は、接続を左クリックして出力の種類を編集できます。 選択可能な種類のデータには、ビデオ、オーディオ、アプリケーションなどがあります。 出力の種類を何も選択しないと、該当するすべてのデータが送信元ノードから送信されるものとして処理されます。
