---
title: 'クイックスタート: Azure portal を使用して Azure Attestation をセットアップする'
description: このクイックスタートでは、Azure portal を使用して構成証明プロバイダーをセットアップして構成する方法について説明します。
services: attestation
author: msmbaldwin
ms.service: attestation
ms.topic: overview
ms.date: 08/31/2020
ms.author: mbaldwin
ms.openlocfilehash: 2465e8eba55fcf459a1084a555d5bd3c91118822
ms.sourcegitcommit: 0046757af1da267fc2f0e88617c633524883795f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/13/2021
ms.locfileid: "121738660"
---
# <a name="quickstart-set-up-azure-attestation-by-using-the-azure-portal"></a>クイックスタート: Azure portal を使用して Azure Attestation をセットアップする

Azure Attestation は、このクイックスタートの手順に従って導入することができます。 Azure portal を使用して、構成証明プロバイダー、ポリシー署名者、ポリシーを管理する方法をご覧ください。

## <a name="prerequisites"></a>前提条件

Azure サブスクリプションをお持ちでない場合は、開始する前に [無料アカウント](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) を作成してください。

## <a name="attestation-provider"></a>構成証明プロバイダー

このセクションでは、構成証明プロバイダーを作成し、署名されていないポリシーまたは署名済みのポリシーを使用して構成します。 また、構成証明プロバイダーを表示したり削除したりする方法についても説明します。

### <a name="create-and-configure-the-provider-with-unsigned-policies"></a>署名されていないポリシーを使用してプロバイダーを作成、構成する

1. Azure portal のメニューまたはホーム ページに移動し、 **[リソースの作成]** を選択します。
1. 検索ボックスに「**attestation**」と入力します。
1. 結果リストから **[Microsoft Azure Attestation]** を選択します。
1. **[Microsoft Azure Attestation]** ページで **[作成]** を選択します。
1. **[Create attestation provider]\(構成証明プロバイダーの作成\)** ページで、次の情報を入力します。

   - **サブスクリプション**:サブスクリプションを選択します。
   - **リソース グループ**:既存のリソース グループを選択するか、または **[新規作成]** を選択してリソース グループの名前を入力します。
   - **[名前]** : 一意の名前を入力します。
   - **[場所]** :場所を選択します。
   - **[Policy signer certificates file]\(ポリシー署名者証明書ファイル\)** : 署名されていないポリシーを使用してプロバイダーを構成する場合、ポリシー署名者証明書ファイルはアップロードしません。

1. 必要な情報を入力したら、 **[確認と作成]** を選択します。
1. 検証の問題が発生した場合は、問題を解決したうえで、 **[作成]** を選択します。

### <a name="create-and-configure-the-provider-with-signed-policies"></a>署名済みのポリシーを使用してプロバイダーを作成、構成する

1. Azure portal のメニューまたはホーム ページに移動し、 **[リソースの作成]** を選択します。
1. 検索ボックスに「**attestation**」と入力します。
1. 結果リストから **[Microsoft Azure Attestation]** を選択します。
1. **[Microsoft Azure Attestation]** ページで **[作成]** を選択します。
1. **[Create attestation provider]\(構成証明プロバイダーの作成\)** ページで、次の情報を入力します。

   - **サブスクリプション**:サブスクリプションを選択します。
   - **リソース グループ**:既存のリソース グループを選択するか、または **[新規作成]** を選択してリソース グループの名前を入力します。
   - **[名前]** : 一意の名前を入力します。
   - **[場所]** :場所を選択します。
   - **[Policy signer certificates file]\(ポリシー署名者証明書ファイル\)** : 署名済みのポリシーを使用して構成証明プロバイダーを構成するには、ポリシー署名者証明書ファイルをアップロードします。 [ポリシー署名者証明書の例を参照](./policy-signer-examples.md)してください。

1. 必要な情報を入力したら、 **[確認と作成]** を選択します。
1. 検証の問題が発生した場合は、問題を解決したうえで、 **[作成]** を選択します。

### <a name="view-the-attestation-provider"></a>構成証明プロバイダーを表示する

1. Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1. フィルター ボックスに、構成証明プロバイダーの名前を入力し、それを選択します

### <a name="delete-the-attestation-provider"></a>構成証明プロバイダーを削除する

構成証明プロバイダーの削除には 2 とおりの方法があります。 次の操作を行うことができます。

1. Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1. フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1. チェック ボックスをオンにし、 **[削除]** を選択します。
1. 「**yes**」と入力し、 **[削除]** を選択します。

または、次のことができます。

1. Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1. フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1. 構成証明プロバイダーを選択し、概要ページに移動します
1. メニュー バーの **[削除]** を選択し、 **[はい]** を選択します。

## <a name="attestation-policy-signers"></a>構成証明ポリシーの署名者

ポリシー署名者証明書を表示、追加、削除するには、このセクションの手順に従います。

### <a name="view-the-policy-signer-certificates"></a>ポリシー署名者証明書を表示する

1. Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1. フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1. 構成証明プロバイダーを選択し、概要ページに移動します
1. 下部のペインまたはウィンドウの左側のリソース メニューで **[Policy signer certificates]\(ポリシー署名者証明書\)** を選択します。 認証用の証明書の選択を求めるプロンプトが表示される場合は、[キャンセル] をクリックして続行してください。
1. **[Download policy signer certificates]\(ポリシー署名者証明書のダウンロード\)** を選択します。 このボタンは、ポリシー署名要件なしで作成された構成証明プロバイダーでは無効になります。
1. ダウンロードされるテキスト ファイルにはすべて、JWS 形式の証明書があります。
1. 証明書の数とダウンロードされた証明書を確認します。

### <a name="add-the-policy-signer-certificate"></a>ポリシー署名者証明書を追加する

1.  Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1.  フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1.  構成証明プロバイダーを選択し、概要ページに移動します
1.  下部のペインまたはウィンドウの左側のリソース メニューで **[Policy signer certificates]\(ポリシー署名者証明書\)** を選択します。 認証用の証明書の選択を求めるプロンプトが表示される場合は、[キャンセル] をクリックして続行してください。
1.  上部のメニューにある **[追加]** を選択します。 このボタンは、ポリシー署名要件なしで作成された構成証明プロバイダーでは無効になります。
1.  ポリシー署名者証明書ファイルをアップロードし、 **[追加]** を選択します。 [ポリシー署名者証明書の例を参照](./policy-signer-examples.md)してください。

### <a name="delete-the-policy-signer-certificates"></a>ポリシー署名者証明書を削除する

1.  Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1.  フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1.  構成証明プロバイダーを選択し、概要ページに移動します
1.  下部のペインまたはウィンドウの左側のリソース メニューで **[Policy signer certificates]\(ポリシー署名者証明書\)** を選択します。 認証用の証明書の選択を求めるプロンプトが表示される場合は、[キャンセル] をクリックして続行してください。
1.  上部のメニューにある **[削除]** を選択します。 このボタンは、ポリシー署名要件なしで作成された構成証明プロバイダーでは無効になります。
1.  ポリシー署名者証明書ファイルをアップロードし、 **[削除]** を選択します。 [ポリシー署名者証明書の例を参照](./policy-signer-examples.md)してください。 

## <a name="attestation-policy"></a>構成証明ポリシー

このセクションでは、構成証明ポリシーを表示する方法のほか、ポリシー署名要件に基づいて作成されたポリシーとポリシー署名要件なしで作成されたポリシーを構成する方法について説明します。

### <a name="view-an-attestation-policy"></a>構成証明ポリシーを表示する

1.  Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1.  フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1.  構成証明プロバイダーを選択し、概要ページに移動します
1.  下部のペインまたはウィンドウの左側のリソース メニューで **[ポリシー]** を選択します。 認証用の証明書の選択を求めるプロンプトが表示される場合は、[キャンセル] をクリックして続行してください。
1.  目的の **[構成証明の種類]** を選択し、 **[現在のポリシー]** を表示します。

### <a name="configure-an-attestation-policy"></a>構成証明ポリシーを構成する

構成証明プロバイダーがポリシー署名要件なしで作成されている場合に、JWT 形式またはテキスト形式でポリシーをアップロードするには、次の手順に従います。

1. Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1. フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1. 構成証明プロバイダーを選択し、概要ページに移動します
1. 下部のペインまたはウィンドウの左側のリソース メニューで **[ポリシー]** を選択します。 認証用の証明書の選択を求めるプロンプトが表示される場合は、[キャンセル] をクリックして続行してください。
1. 上部のメニューにある **[構成]** を選択します。
1. **[Policy Format]\(ポリシーの形式\)** を **[JWT]** または **[テキスト]** として選択します。

   構成証明プロバイダーがポリシー署名要件なしで作成されている場合、ユーザーは、ポリシーを **JWT** または **テキスト** 形式でアップロードできます

      - JWT 形式を選択した場合、ポリシーの内容を含んだポリシー ファイルを **署名なしまたは署名付き JWT** 形式でアップロードし、 **[保存]** を選択します。 [ポリシーの例を参照](./policy-examples.md)してください。
      - テキスト形式を選択した場合は、**テキスト** 形式の内容を含んだポリシー ファイルをアップロードするか、テキスト領域にポリシーの内容を入力して **[保存]** を選択します。 [ポリシーの例を参照](./policy-examples.md)してください。

   ファイルのアップロード オプションには、ポリシーのプレビューがテキスト形式で表示されます。ポリシーのプレビューは編集できません。

1. 上部のメニューにある **[Refresh]\(最新の情報に更新\)** をクリックして、構成済みのポリシーを表示します


構成証明プロバイダーがポリシー署名要件付きで作成されている場合は、次の手順に従って、ポリシーを JWT 形式でアップロードします。

1.  Azure portal のメニューまたはホーム ページに移動し、 **[すべてのリソース]** を選択します。
1.  フィルター ボックスに、構成証明プロバイダーの名前を入力します。
1.  構成証明プロバイダーを選択し、概要ページに移動します
1.  下部のペインまたはウィンドウの左側のリソース メニューで **[ポリシー]** を選択します。
1.  上部のメニューにある **[構成]** を選択します。
1.  **署名付き JWT 形式** でポリシー ファイルをアップロードし、 **[保存]** を選択します。 [ポリシーの例を参照](./policy-examples.md)してください。

    構成証明プロバイダーがポリシー署名要件付きで作成されている場合、ユーザーは、**署名付き JWT 形式** でのみポリシーをアップロードできます

    ファイルのアップロード オプションには、ポリシーのプレビューがテキスト形式で表示されます。ポリシーのプレビューは編集できません。
    
1.  **[Refresh]\(最新の情報に更新\)** を選択して、構成済みのポリシーを表示します。

## <a name="next-steps"></a>次のステップ

- [構成証明ポリシーを作成して署名する方法](author-sign-policy.md)
- [コード サンプルを使用して SGX エンクレーブの構成証明を行う](/samples/browse/?expanded=azure&terms=attestation)

