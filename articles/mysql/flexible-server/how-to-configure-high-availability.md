---
title: ゾーン冗長の高可用性を管理する - Azure portal - Azure Database for MySQL フレキシブル サーバー
description: この記事では、Azure portal を使用して Azure Database for MySQL フレキシブル サーバーでのゾーン冗長の高可用性を有効または無効にする方法について説明します。
author: mksuni
ms.author: sumuth
ms.service: mysql
ms.topic: how-to
ms.date: 09/21/2020
ms.custom: references_regions
ms.openlocfilehash: 03597e324449cdb5d0530163c806d950dea5813a
ms.sourcegitcommit: 702df701fff4ec6cc39134aa607d023c766adec3
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2021
ms.locfileid: "131438153"
---
# <a name="manage-zone-redundant-high-availability-in-azure-database-for-mysql-flexible-server"></a>Azure Database for MySQL フレキシブル サーバーのゾーン冗長の高可用性を管理する 

[[!INCLUDE[applies-to-mysql-flexible-server](../includes/applies-to-mysql-flexible-server.md)]

この記事では、フレキシブル サーバーでゾーン冗長の高可用性構成を有効または無効にする方法について説明します。

高可用性機能では、別々のゾーンに物理的に分けられたプライマリ レプリカとスタンバイ レプリカをプロビジョニングします。 詳細については、[高可用性の概念に関するドキュメント](./concepts/../concepts-high-availability.md)を参照してください。

> [!IMPORTANT]
> ゾーン冗長の高可用性は、フレキシブル サーバーの作成時にのみ有効にできます。

このページでは、高可用性を有効または無効にする方法に関するガイドラインを示します。 この操作では、VNET 構成、ファイアウォール設定、バックアップ保有期間などの他の設定は変更されません。 同様に、高可用性の無効化はオンライン操作であり、アプリケーションの接続と操作に影響しません。

> [!IMPORTANT]
> ゾーン冗長の高可用性は、次の限定されたリージョンのセットで利用できます。東南アジア、米国西部 2、西ヨーロッパ、米国東部。  

## <a name="enable-high-availability-during-server-creation"></a>サーバーの作成時に高可用性を有効にする

このセクションでは、特に HA に関連するフィールドの詳細について説明します。 次の手順に従って、柔軟なサーバーの作成中に高可用性を展開できます。

1. [Azure portal](https://portal.azure.com/) で、フレキシブル サーバーを選択し、 **[作成]** を選択します。  **[サブスクリプション]** 、 **[リソース グループ]** 、 **[サーバー名]** 、 **[リージョン]** 、およびその他のフィールドなどの詳細の入力方法の詳細については、サーバー作成に関するハウツー ドキュメントをご覧ください。

2. [Availability option]\(可用性オプション\) で **[ゾーン冗長の高可用性]** のチェックボックスをオンにします。

3. デフォルトのコンピューティングとストレージを変更する場合は、 **[サーバーの構成]** を選択します。

4. [高可用性] オプションをオンにすると、バースト可能レベルは選択できなくなります。 **[汎用]** または **[メモリ最適化]** のどちらかのコンピューティング レベルを選択できます。

    > [!IMPORTANT]
    > ゾーン冗長の高可用性は、* **[汎用]** _ と_ *_[メモリ最適化]_**の価格レベルでのみサポートされています。

5. ドロップダウンから、選択に応じた **コンピューティング サイズ** を選択します。

6. スライディング バーを使用して GiB 単位で **ストレージ サイズ** を選択し、7 日から 35 日の範囲で **バックアップ保持期間** を選択します。   

## <a name="disable-high-availability"></a>高可用性を無効にする

次の手順に従って、既にゾーン冗長で構成されているフレキシブル サーバーの高可用性を無効にします。

1. [Azure portal](https://portal.azure.com/) で、既存の Azure Database for MySQL フレキシブル サーバーを選択します。

2. フレキシブル サーバーのページで、前面パネルから **[高可用性]** を選択して、[高可用性] ページを開きます。

3. **[ゾーン冗長の高可用性]** チェックボックスを選択してオプションをオフにし、 **[保存]** を選択して変更を保存します。

4. 高可用性を無効にすることを確認できる確認ダイアログが表示されます。

5. **[Disable HA]\(高可用性を無効にする\)** ボタンを選択して、高可用性を無効にします。

6. 高可用性のデプロイの使用停止が進行中であることを示す通知が表示されます。

## <a name="forced-failover"></a>強制フェールオーバー

プライマリからスタンバイ フレキシブル サーバーへのフェールオーバーを強制するには、次の手順に従います

1. [Azure portal](https://portal.azure.com/) で、高可用性機能が有効になっている既存の Azure Database for MySQL フレキシブル サーバーを選択します。

2. フレキシブル サーバーのページで、前面パネルから **[高可用性]** を選択して、[高可用性] ページを開きます。

3. **プライマリ可用性ゾーン** と **スタンバイ可用性ゾーン** を確認します

4. **[強制フェールオーバー]** を選択して、手動フェールオーバーの手順を開始します。 ポップアップが表示されると、プライマリの現在のワークロードと最後のチェックポイントの状態に応じて、フェールオーバーの予想時間がわかります。メッセージを読んで、[OK] を選択してください。

5. フェールオーバーが進行中であることを示す通知が表示されます。

6. スタンバイ サーバーへのフェールオーバーが成功すると、通知がポップアップ表示されます。

7. 新しい **プライマリ可用性ゾーン** と **スタンバイ可用性ゾーン** を確認します。

![強制フェールオーバーの方法](media/how-to-configure-high-availability/how-to-forced-failover.png) 

## <a name="next-steps"></a>次のステップ

- [ビジネス継続性](./concepts-business-continuity.md)について確認する
- [ゾーン冗長による高可用性](./concepts-high-availability.md)について確認する
