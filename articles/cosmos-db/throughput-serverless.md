---
title: Azure Cosmos DB でプロビジョニングされたスループットとサーバーレスのどちらかを選択する方法
description: ワークロードに対してプロビジョニングされたスループットとサーバーレスのどちらかを選択する方法について説明します。
author: ThomasWeiss
ms.author: thweiss
ms.service: cosmos-db
ms.topic: conceptual
ms.date: 05/25/2021
ms.openlocfilehash: 057004a7a322505b137c04b76c3407e4c36f6f89
ms.sourcegitcommit: 58e5d3f4a6cb44607e946f6b931345b6fe237e0e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/25/2021
ms.locfileid: "110378200"
---
# <a name="how-to-choose-between-provisioned-throughput-and-serverless"></a>プロビジョニングされたスループットとサーバーレスのどちらかを選択する方法
[!INCLUDE[appliesto-all-apis](includes/appliesto-all-apis.md)]

Azure Cosmos DB は、[プロビジョニングされたスループット](set-throughput.md)と[サーバーレス](serverless.md)の 2 つの異なる容量モードで利用できます。 どちらのモードでもまったく同じデータベース操作を実行できますが、これらの操作に対して課金される方法は大きく異なります。 次の動画では、これらのモードの主な違いと、さまざまな種類のワークロードにどのように適合するかについて説明します。

> [!VIDEO https://www.youtube.com/embed/CgYQo6uHyt0]

## <a name="detailed-comparison"></a>詳細な比較

| 条件 | プロビジョニング スループット | サーバーレス |
| --- | --- | --- |
| 最も適しているデータ | 予測可能なパフォーマンスが必要な持続したトラフィックを含むワークロード | 断続的または予測不可能なトラフィックを含み、平均対ピークのトラフィック比率の低いワークロード |
| しくみ | 各コンテナーに対して、1 秒あたりの[要求ユニット](request-units.md)数で表されるスループットの量をプロビジョニングします。 毎秒、この量の要求ユニットをデータベース操作に使用できます。 プロビジョニングされたスループットは、手動で更新することも、[自動スケール](provision-throughput-autoscale.md)で自動的に調整することもできます。 | コンテナーに対してデータベース操作を実行し、容量をプロビジョニングする必要はありません。 |
| 地理的分散 | 使用可能 (Azure リージョンの数に制限なし) | 使用不可 (サーバーレス アカウントは 1 つの Azure リージョンでのみ実行できます) |
| コンテナーあたりの最大ストレージ | 無制限 | 50 GB |
| パフォーマンス | SLA に記載されるポイント読み取りと書き込み 10 ms 未満の待機時間 | SLO に記載されるポイント読み取り 10 ms 未満、書き込み 30 ms 未満の待機時間 |
| 課金モデル | 消費された RU 数に関係なく、プロビジョニングされた RU/ 秒に対して 1 時間ごとに課金が行われます。 | データベース操作で消費される RU の量に対して時間単位で課金が行われます。 |

## <a name="estimating-your-expected-consumption"></a>予想される消費量の見積もり

状況によっては、特定のワークロードに対してプロビジョニングされたスループットとサーバーレスのどちらを選択する必要があるのかがはっきりしない可能性があります。 これを判断するために、全体の **予想される消費量** を見積もることができます。これは、1 か月間に消費する可能性がある RU の合計数です ([こちら](plan-manage-costs.md#estimating-serverless-costs)に記載される表を参考にして見積もることができます)

**例 1**: ワークロードは、最大 500 RU/秒までバーストし、1 か月間に合計 20,000,000 RU を消費することが予想されます。

- プロビジョニングされたスループット モードでは、500 RU/秒でコンテナーをプロビジョニングするため、$0.008 * 5 * 730 = **$29.20** の月額料金を支払うことになります
- サーバーレス モードでは、消費される RU に対する料金は $0.25 * 20 = **$5.00** になります

**例 2**: ワークロードは、最大 500 RU/秒までバーストし、1 か月間に合計 250,000,000 RU を消費することが予想されます。

- プロビジョニングされたスループット モードでは、500 RU/秒でコンテナーをプロビジョニングするため、$0.008 * 5 * 730 = **$29.20** の月額料金を支払うことになります
- サーバーレス モードでは、消費される RU に対する料金は $0.25 * 250 = **$62.50** になります

(これらの例では、ストレージ コストは考慮しておらず、2 つのモード間で同じとします)

> [!NOTE]
> 前の例で示したコストは、デモンストレーションのみを目的としています。 最新の価格情報については、[価格に関するページ](https://azure.microsoft.com/pricing/details/cosmos-db/)を参照してください。

## <a name="next-steps"></a>次のステップ

- [Azure Cosmos DB におけるスループットのプロビジョニング](set-throughput.md)について詳細を確認する
- [Azure Cosmos DB サーバーレス](serverless.md)について詳細を確認する
- [要求ユニット](request-units.md)の概念について理解を深める
