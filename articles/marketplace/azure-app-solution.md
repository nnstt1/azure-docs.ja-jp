---
title: ソリューション テンプレート プランを構成する
description: パートナー センターで Azure アプリケーション オファーのソリューション テンプレート プランを構成する (Azure Marketplace)。
author: aarathin
ms.author: aarathin
ms.reviewer: dannyevers
ms.service: marketplace
ms.subservice: partnercenter-marketplace-publisher
ms.topic: how-to
ms.date: 07/05/2021
ms.openlocfilehash: f9ca1bbb2bc8556f972a55720b874b08587b06f1
ms.sourcegitcommit: 2cff2a795ff39f7f0f427b5412869c65ca3d8515
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/10/2021
ms.locfileid: "113594962"
---
# <a name="configure-a-solution-template-plan"></a>ソリューション テンプレート プランを構成する

この記事は、Azure アプリケーション オファーのソリューション テンプレート プランにのみ適用されます。 マネージド アプリケーション プランを構成しようとしている場合は、「[マネージド アプリケーション プランを構成する](azure-app-managed.md)」に移動してください。

## <a name="re-use-technical-configuration-optional"></a>技術的な構成を再利用する (省略可能)

このオファー内で同じ種類のプランが複数作成されていて、それらの間で技術的な構成が同じである場合は、別のプランの技術的な構成を再利用できます。 このプランが公開された後にこの設定を変更することはできません。

技術的な構成を再利用するには:

1. **[This plan reuses the technical configuration from another plan of the same type]\(このプランでは同じ種類の別のプランの技術的な構成を再利用する\)** チェック ボックスをオンにします。
1. 表示された一覧から、目的の基本プランを選択します。

> [!NOTE]
> プランが現在再利用している場合、または同じ種類の別のプランの技術構成を再利用した場合は、その基本プランに移動して、以前に発行されたパッケージの履歴を表示します。

## <a name="choose-who-can-see-your-plan"></a>プランを表示できるユーザーを選択する

各プランは、すべてのユーザーに、あるいは特定の対象ユーザーにのみ表示されるように構成できます。 プライベート ユーザーには、Azure サブスクリプション ID を使用してアクセスを付与します。割り当てる各サブスクリプション ID の説明を含めるオプションがあります。 手動では最大 10 個のサブスクリプションを、CSV ファイルを使用すると最大 10,000 個のサブスクリプション ID を追加できます。 Azure サブスクリプション ID は GUID として表されます。文字は小文字にする必要があります。

> [!NOTE]
> プライベート プランを発行する場合は、後でその可視性をパブリックに変更できます。 ただし、パブリック プランを発行した後に、その可視性をプライベートに変更することはできません。

**[可用性]** タブの **[プランの可視性]** で、次のいずれかを行います。

- プランをパブリックにするには、 **[パブリック]** オプション ボタン ("_ラジオ ボタン_" とも呼ばれます) を選択します。
- プランをプライベートにするには、 **[プライベート]** オプション ボタンを選択してから、Azure サブスクリプション ID を手動または CSV ファイルで追加します。

    > [!NOTE]
    > プライベートまたは制限付きの対象ユーザーは、 **[プレビュー]** タブで定義したプレビュー対象ユーザーとは異なります。プレビュー対象ユーザーは、マーケットプレースで公開される "前の" オファーにアクセスできます。 プライベート対象ユーザーの選択は特定のプランにのみ適用されますが、プレビュー対象ユーザーは (プライベートであるかどうかに関係なく) 検証のためすべてのプランを表示できます。

### <a name="manually-add-azure-subscription-ids-for-a-private-plan"></a>プライベート プランの Azure サブスクリプション ID を手動で追加する

1. **[プランの可視性]** で、 **[プライベート]** オプション ボタンを選択します。
1. 表示される **[Azure サブスクリプション ID]** ボックスに、このプライベート プランへのアクセスを付与する対象ユーザーの Azure サブスクリプション ID を入力します。 少なくとも 1 つのサブスクリプション ID が必要です。
1. (省略可能) **[説明]** ボックスに、このユーザーの説明を入力します。
1. 別のサブスクリプション ID を追加するには、 **[ID の追加 (最大 10 個)]** リンクを選択し、手順 2 と 3 を繰り返します。

## <a name="use-a-csv-file-to-add-azure-subscription-ids-for-a-private-plan"></a>.CSV ファイルを使用してプライベート プラン用の Azure サブスクリプション ID を追加する

1. **[プランの可視性]** で、 **[プライベート]** オプション ボタンを選択します。
1. **[対象者のエクスポート (csv)]** リンクを選択します。
1. .CSV ファイルを開き、作成し、プライベート オファーへのアクセスを付与する Azure サブスクリプション ID を **[ID]** 列に追加します。
1. 必要に応じて、 **[説明]** 列に、各ユーザーの説明を入力します。
1. サブスクリプション ID が含まれる各行について、 **[種類]** 列に "SubscriptionId" を追加します。
1. .CSV ファイルを保存します。
1. **[可用性]** タブで、 **[プランの可視性]** の下にある **[対象者のインポート (csv)]** リンクを選択します。
1. 表示されるダイアログ ボックスで、 **[はい]** を選択します。
1. .CSV ファイルを選択して **[開く]** を選択します。 .CSV ファイルが正常にインポートされたことを示すメッセージが表示されます。

### <a name="hide-your-plan"></a>プランを非表示にする

別のソリューション テンプレートまたはマネージド アプリケーションを通して参照されたときに間接的にのみデプロイされることを意図しているソリューションテン プレートの場合は、 **[プランを非表示にする]** の下のチェック ボックスを選択し、ソリューション テンプレートを発行しても、直接検索して参照する顧客にそれが表示されないようにします。

**[下書きの保存]** を選択してから、次のセクション「技術的な構成を定義する」に進んでください。

## <a name="define-the-technical-configuration"></a>技術的な構成を定義する

**[技術的な構成]** タブでは、顧客によるプランのデプロイを可能にするデプロイ パッケージをアップロードし、そのパッケージのバージョン番号を指定します。

### <a name="assign-a-version-number-for-the-package"></a>パッケージのバージョン番号を割り当てる

**[バージョン]** ボックスに、技術的な構成の現在のバージョンを入力します。 このページに変更を発行するたびに、このバージョンをインクリメントします。 バージョン番号は、"整数.整数.整数" の形式で指定する必要があります。 たとえば、「 `1.0.2` 」のように入力します。

### <a name="upload-a-package-file"></a>パッケージ ファイルをアップロードする

**[パッケージ ファイル (.zip)]** で、パッケージ ファイルを灰色のボックスまでドラッグするか、 **[ファイルの参照]** リンクを選択します。

> [!NOTE]
> ファイルのアップロードで問題が発生した場合は、パートナー センターで使用されている `https://upload.xboxlive.com` サービスがローカル ネットワークでブロックされていないことを確認してください。

### <a name="previously-published-packages"></a>発行済みのパッケージ

オファーをライブで発行した後は、 **[技術的な構成]** ページに **[発行済みのパッケージ]** サブタブが表示されます。 このタブには、以前に発行された技術的な構成のすべてのバージョンが一覧表示されます。

## <a name="view-your-plans"></a>プランを表示する

- **[下書きの保存]** を選択し、ページの左上にある **[プランの概要]** を選択して、 **[プランの概要]** ページに戻ります。

1 つ以上のプランを作成すると、 **[プランの概要]** タブに、プラン名、プラン ID、プランの種類、可用性 (パブリックまたはプライベート)、現在の発行状態、使用できるすべてのアクションが表示されます。

**[プランの概要]** タブの **[アクション]** 列に表示されるアクションは、プランの状態によって異なり、たとえば次のようになります。

- プランの状態が **[下書き]** の場合、 **[アクション]** 列のリンクは **[ドラフトの削除]** になります。
- プランの状態が **[ライブ]** の場合、 **[アクション]** 列のリンクは **[Stop distribution]\(配布の停止\)** または **[Sync private audience]\(プライベート対象ユーザーの同期\)** のいずれかになります。 **[Sync private audience]\(プライベート対象ユーザーの同期)** リンクにより、オファーに対して行われた可能性のあるその他の更新を発行することなく、プライベートの対象ユーザーだけに変更が発行されます。
- このオファーに対して別のプランを作成するには、 **[プランの概要]** タブの上部にある **[+ 新しいプランの作成]** を選択します。 次に、「[Azure アプリケーション オファーのプランを作成する方法](azure-app-plans.md)」の手順を繰り返します。 それ以外の場合は、プランの作成が完了したら、次のセクションの「次のステップ」に進んでください。

## <a name="next-steps"></a>次のステップ

- [このオファーをテストして発行する](azure-app-test-publish.md)
- **Microsoft との共同販売** および/または **CSP による再販** プログラムを使用して、[このオファーを販売](azure-app-marketing.md)します
