---
title: Azure Australia でのバックアップとディザスター リカバリー
description: ASD Essential 8 に関連したオーストラリア政府機関向けの Microsoft Azure でのバックアップおよびディザスター リカバリー
author: emilyre
ms.service: azure-australia
ms.topic: conceptual
ms.date: 07/22/2019
ms.author: yvettep
ms.openlocfilehash: c685de3050d35f568c8921b99a078e1b2bd68f74
ms.sourcegitcommit: 677e8acc9a2e8b842e4aef4472599f9264e989e7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/11/2021
ms.locfileid: "132347997"
---
# <a name="backup-and-disaster-recovery-in-azure-australia"></a>Azure Australia でのバックアップとディザスター リカバリー

バックアップおよびディザスター リカバリーの計画と、それをサポートするインフラストラクチャを持つことは、すべての組織にとって重要です。 バックアップ ソリューションを持つことの重要性は、それが [Australian Cyber Security Center の Essential 8](https://acsc.gov.au/publications/protect/essential-eight-explained.htm) に含まれていることによって強調されています。

Microsoft Azure には、回復性を実現する Azure Backup と Azure Site Recovery という 2 つのサービスが用意されています。 これらのサービスを使用すると、さまざまな設計シナリオで、オンプレミスとクラウドの両方のデータを保護することができます。 Azure Backup と Azure Site Recovery は両方とも、共通のストレージおよび管理リソース (Azure Recovery Services コンテナー) を使用します。 このコンテナーは、Azure Backup と Azure Site Recovery のデータを管理、監視、および分離するために使用されます。

この記事では、Azure Backup と Azure Site Recovery を実装するための重要な設計要素を、[オーストラリア通信電子局 (ASD) の Information Security Manual (ISM) 統制](https://acsc.gov.au/infosec/ism/index.htm)に沿って詳しく説明します。

## <a name="azure-backup"></a>Azure Backup

![Azure Backup](media/backup-overview.png)

Azure Backup は、従来のオンプレミス バックアップ ソリューションに似ており、オンプレミスと Azure でホストされたデータの両方をバックアップする機能を提供します。 Azure Backup は、次のデータ型を Azure にバックアップするために使用できます。

* ファイルとフォルダー
* 次の場所にホストされている、サポートされている Windows オペレーティング システムと Linux オペレーティング システム
  * Hyper-V および VMWare ハイパーバイザー
  * 物理ハードウェア
* サポートされている Microsoft アプリケーション

### <a name="azure-site-recovery"></a>Azure Site Recovery

![Azure Site Recovery](media/asr-overview.png)

Azure Site Recovery は、単一の仮想マシンまたは多層アプリケーションで構成されるワークロードをレプリケートします。 レプリケーションは、オンプレミスから Azure、Azure リージョン間、または Azure Site Recovery によって調整されているオンプレミスの場所の間でサポートされます。 オンプレミスの仮想マシンは、Azure またはサポートされているオンプレミスのハイパーバイザーにレプリケートできます。 構成が完了すると、Azure Site Recovery は、レプリケーション、フェールオーバー、およびフェールバックを調整します。

## <a name="key-design-considerations"></a>設計上の主な考慮事項

バックアップまたはディザスター リカバリー ソリューションを実装する場合、提案されるソリューションでは次の点を考慮する必要があります。

* キャプチャされるデータのスコープとボリューム
* データが保持される期間
* このデータを安全に格納および管理する方法
* データが格納される地理的な場所
* 定期的なシステム テストの手順

ISM には、ソリューションの設計時に考慮する必要があるセキュリティ上の考慮事項に関するガイダンスが記載されています。 Microsoft Azure には、これらのセキュリティ上の考慮事項に対処する手段が提供されています。

### <a name="data-sovereignty"></a>データの主権

組織では、クラウドベースのストレージの場所を使用するときに、データ主権が確実に維持されるようにする必要があります。 Azure Policy には、Azure リソースを作成できる場所を制限する手段が用意されています。 組み込みの Azure Policy である "許可されている場所" を使用して、割り当てられた Azure Policy のスコープで作成されるすべての Azure リソースが、指定された地理的な場所でのみ作成できるようにします。

Azure リソースの地理的制限に対する Azure Policy 項目は、次のとおりです。

* allowedLocations
* allowedSingleLocation

これらのポリシーを使用すると、Azure 管理者は、指定された場所のリストや単一の地理的な場所に作成を制限できます。

### <a name="redundant-and-geographically-dispersed-storage"></a>地理的に分散した冗長ストレージ

Azure Recovery Service コンテナーに格納されるデータは、常に冗長ストレージに格納されます。 既定では、Recovery Service コンテナーは Azure Geographically Redundant Storage (GRS) を使用します。 GRS を使用して格納されたデータは、Recovery Service コンテナーの[セカンダリ ペア リージョン](../best-practices-availability-paired-regions.md)内の他の Azure データセンターにレプリケートされます。 このレプリケートされたデータは読み取り専用として格納され、Azure フェールオーバー イベントがある場合にのみ書き込み可能になります。 Azure データセンター内では、ハードウェアやメンテナンスに基づく停止の可能性を最小化するために、データは個別の障害ドメインとアップグレード ドメインの間でレプリケートされます。 GRS は、少なくとも年 99.99999999999999% の可用性を提供します。

Azure Recovery Services コンテナーは、ローカル冗長ストレージ (LRS) を使用するように構成できます。 LRS は、可用性の低下を犠牲にした低コストのストレージ オプションです。 この冗長性モデルは、別個の障害ドメインとアップグレード ドメインの間で同じレプリケーションを利用しますが、地理的リージョン間でレプリケートされません。 LRS ストレージに配置されているデータは、GRS ほど回復性があるとは言えませんが、年間 99.999999999% 以上の可用性を提供します。

テープ メディアなどの従来のオフサイト ストレージ テクノロジとは異なり、データの追加のコピーは自動的に作成されるため、追加の管理オーバーヘッドは必要ありません。

### <a name="restricted-access-and-activity-monitoring"></a>制限付きアクセスとアクティビティの監視

バックアップ データは、破損、変更、および未承認の削除から保護する必要があります。 Azure Backup と Azure Site Recovery はどちらも、共通の Azure 管理ファブリックを利用します。 このファブリックでは、Azure 内に配置されているリソースに対して、詳細な監査、ログ記録、および Azure ロールベースのアクセス制御 (Azure RBAC) を行うことができます。 バックアップ データへのアクセスは一部の管理スタッフに限定でき、バックアップ データに関連するすべての操作をログに記録して監査することができます。

Azure Backup と Azure Site Recovery には、組み込みのログ機能とレポート機能があります。 バックアップまたはレプリケーション中に発生した問題は、Azure 管理ファブリックを使用して管理者に報告されます。

Azure Recovery Services コンテナーには、次のような追加のデータ セキュリティ対策も用意されています。

* バックアップ データは、削除操作が発生してから 14 日間保持されます。
* "データの削除によるバックアップの停止" などの重要な操作に対するアラートと通知
* 重要な操作に対するセキュリティ PIN 要件
* 最小リテンション期間のチェックの実行

これらの最小リテンション期間のチェックには、次のものがあります。

* 日単位のリテンション期間の場合、最小 7 日間のリテンション期間
* 週単位のリテンション期間の場合、最小 4 週間のリテンション期間
* 月単位のリテンション期間の場合、最小 3 か月のリテンション期間
* 年単位のリテンション期間の場合、最小 1 年間のリテンション期間

Azure 内に格納されるすべてのバックアップ データは、Azure の Storage Service Encryption (SSE) を使用して保存時に暗号化されます。 これは新規と既存のすべてのストレージ アカウントに対して既定で有効にされ、無効にすることはできません。 暗号化されたデータは、取得中に自動的に暗号化解除されます。 既定では、SSE を使用して暗号化されたデータは、Microsoft によって提供および管理されるキーを使用して暗号化されます。 組織では、SSE で使用する独自の暗号化キーを提供して管理することを選択できます。 これにより、暗号化データに対するオプションのセキュリティ層が追加されます。 このキーは、お客様のオンプレミスまたは Azure Key Vault に安全に格納できます。

### <a name="secure-data-transport"></a>セキュリティ保護されたデータ転送

Azure Backup のデータは、転送中に AES 256 を使用して暗号化されます。 このデータは、バックアップが最初に構成されたときに管理スタッフによって作成されるパスフレーズを使用して保護されます。 Microsoft はこのパスフレーズにアクセスできないため、お客様はこのパスフレーズが安全に保存されるようにする必要があります。 データ転送は、セキュリティで保護された HTTPS 接続を介してオンプレミス環境と Azure Recovery Services コンテナーの間で行われます。  その後、Recovery Services コンテナー内のデータは、Azure SSE を使用して保存時に暗号化されます。

Azure Site Recovery データも常に転送中に暗号化されます。 レプリケートされたすべてのデータは、HTTPS と TLS を使用して Azure に安全に転送されます。 Azure のお客様が ExpressRoute 接続を使用して Azure に接続すると Azure Site Recovery データはこのプライベート接続を介して送信されます。  Azure のお客様が VPN 接続を使用して Azure に接続しているとき、データはオンプレミスと Recovery Services コンテナーの間でインターネット経由で安全にレプリケートされます。

このセキュリティで保護されたネットワーク データ転送により、テープ メディアなどの従来のオフサイト バックアップ ストレージ ソリューションを管理するためのセキュリティ リスクおよびリスク軽減要件が除去されます。

### <a name="data-retention-periods"></a>データ保有期間

最小のバックアップ リテンション期間を 3 か月にすることをお勧めしますが、通常はさらに長いリテンション期間が必要です。 Azure Backup は、最大 9999 個のバックアップ コピーを提供できます。 保護されたインスタンスとして 1 つの Azure Backup が毎日取得された場合、毎日のバックアップを 27 年分保持することができます。 保護されたインスタンスの個々の月次バックアップでは、833 年のリテンション期間が可能です。 バックアップ データが期限切れになり、時間の経過につれて保持されるバックアップの粒度が細かくなくなるにつれて、バックアップ データの合計保有期間が増加します。  Azure では、Azure Recovery Services コンテナーにデータを残しておく時間の長さは制限されておらず、インスタンスごとのバックアップの合計数のみが制限されます。 また、古いバックアップからの復元と新しいバックアップからの復元にはパフォーマンスの差がなく、それぞれの復元にかかる時間は同じです。

Azure Recovery Services コンテナーには、いくつかの既定のバックアップ ポリシーと保持ポリシーが用意されています。  管理スタッフは、カスタムのバックアップ ポリシーと保持ポリシーを作成することもできます。

![Azure バックアップ ポリシー](media/create-policy.png)

Azure のバックアップ ポリシーと保持ポリシーを構成するとき、バックアップの頻度と長期的なリテンション期間のバランスを取る必要があります。

### <a name="backup-and-restore-testing"></a>バックアップと復元のテスト

ISM では、復元またはフェールオーバーが必要なときに保護されたデータが有効であることを確認するために、バックアップ データのテストを推奨しています。 Azure Backup と Azure Site Recovery には、保護されたデータをバックアップまたはレプリケートした後にテストする機能も用意されています。 Azure Backup によって管理されるデータを指定の場所に復元でき、データの整合性を検証できます。

Azure Site Recovery には、フェールオーバー テストを実行する機能が組み込まれています。 Recovery Services コンテナーにレプリケートされたワークロードは、指定された Azure 環境に復元できます。 ターゲットの復元環境は、テストの実行中に実稼働システムに影響を与えないように、任意の運用環境から完全に分離することができます。 テストが完了したら、運用コストを削減するために、テスト環境とすべてのリソースを直ちに削除できます。

フェールオーバーのテストと検証は、Azure プラットフォームに組み込まれている Azure Automation サービスを使用して自動化できます。 これにより、フェールオーバー テストを自動的に実行するようにスケジュールし、データが Azure に正常にレプリケートされるようにすることができます。

## <a name="next-steps"></a>次のステップ

[Azure Policy でセキュリティを確保する](azure-policy.md)ことに関する記事を確認してください。
