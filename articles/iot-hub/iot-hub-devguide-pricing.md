---
title: Azure IoT Hub の価格について | Microsoft Docs
description: 開発者ガイド - 体系例を含む IoT Hub での課金および価格体系に関する情報。
author: eross-msft
ms.author: lizross
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 03/11/2019
ms.custom:
- amqp
- mqtt
ms.openlocfilehash: 53dfcfbb04f729125db580a2f4f06ae5bb272bf3
ms.sourcegitcommit: 05c8e50a5df87707b6c687c6d4a2133dc1af6583
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/16/2021
ms.locfileid: "132548921"
---
# <a name="azure-iot-hub-pricing-information"></a>Azure IoT Hub の価格情報

[Azure IoT Hub の価格](https://azure.microsoft.com/pricing/details/iot-hub) IoT Hub に関するさまざまな SKU と料金の一般的な情報を提供します。 この記事では、さまざまな IoT Hub 機能が IoT Hub によるメッセージとして課金される方法の詳細について説明します。

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-partial.md)]

## <a name="charges-per-operation"></a>操作ごとの料金

| Operation | 課金情報 | 
| --------- | ------------------- |
| ID レジストリの操作 <br/> (作成、取得、一覧表示、更新、削除) | 課金されません。 |
| デバイスからクラウドへのメッセージ | 正常に送信されたメッセージは、IoT Hub に入った時点で 4 KB のチャンク単位で課金されます  (たとえば、6 KB のメッセージは 2 メッセージとして課金されます)。 |
| クラウドからデバイスへのメッセージ | 正常に送信されたメッセージは 4 KB のチャンク単位で課金されます (たとえば、6 KB のメッセージは 2 メッセージとして課金されます)。 |
| ファイルのアップロード | Azure ストレージへのファイル転送は、IoT Hub では課金されません。 ファイル転送の開始と完了のメッセージは、従量課金メッセージとして 4 KB 単位で課金されます。 たとえば、10 MB のファイルを転送するには、Azure Storage コストのほかに 2 メッセージとして課金されます。 |
| ダイレクト メソッド | 成功したメソッド要求は 4 KB のチャンク単位で課金され、応答は追加メッセージとして 4 KB のチャンク単位で課金されます。 デバイスの接続解除要求は、メッセージとして 4 KB のチャンク単位で課金されます。 たとえば、4 KB の本文があり、デバイスからは本文のない応答が返されるメソッドの場合、2 メッセージとして課金されます。 6 KB の本文があり、デバイスから 1 KB の応答が返されるメソッドの場合、要求の 2 メッセージ分と応答の 1 メッセージ分課金されます。 |
| デバイスおよびモジュール ツインの読み取り | デバイスまたはモジュールからのツインの読み取り、およびソリューション バックエンドからのツインの読み取りは、メッセージとして 4 KB のチャンク単位で課金されます。 たとえば、8 KB ツインの読み取りは 2 件のメッセージとして課金されます。 |
| デバイスおよびモジュール ツインの更新 (タグとプロパティ) | デバイスまたはモジュールからのツインの更新、およびソリューション バックエンドからのツインの更新は、メッセージとして 4 KB のチャンク単位で課金されます。 たとえば、12 KB ツインの読み取りは 3 件のメッセージとして課金されます。 |
| デバイス ツインとモジュール ツインのクエリ | クエリは、結果のサイズに応じて、メッセージとして 4 KB のチャンク単位で課金されます。 |
| ジョブ操作 <br/> (作成、更新、一覧表示、削除) | 課金されません。 |
| デバイスごとのジョブの操作 | ジョブの操作 (ツインの更新やメソッドなど) は通常どおり課金されます。 たとえば、ジョブが 1 KB の要求と本文が空白の応答による 1,000 回のメソッドの呼び出しとなる場合は、1,000 メッセージとして課金されます。 |
| キープアライブ メッセージ | AMQP または MQTT プロトコルを使用するとき、接続を確立するために交換されたメッセージと交渉中に交換されたメッセージについては課金されません。 |

> [!NOTE]
> すべてのサイズはバイト単位でのペイロードのサイズを考慮して計算されます (プロトコルのフレームは無視されます)。 プロパティと本文が含まれるメッセージの場合、サイズはプロトコルに依存しない方法で計算されます。 詳細は、[IoT Hub メッセージの形式](iot-hub-devguide-messages-construct.md)を参照してください。

## <a name="example-1"></a>例 1

デバイスは 1 分あたり 1 つ、1 KB の device-to-cloud メッセージを IoT Hub に送信し、そのメッセージが Azure Stream Analytics によって読み込まれます。 ソリューション バックエンドは 10 分ごとにメソッド (ペイロードは 512 バイト) をデバイス上で呼び出し、特定のアクションをトリガーします。 デバイスはメソッドに 200 バイトの結果で応答します。

デバイスは以下を使用します。

* device-to-cloud メッセージ用に、1 メッセージ * 60 分 * 24 時間 = 1440 メッセージ
* メソッド用に、2 つの要求と応答 * 1 時間あたり 6 回 * 24 時間 = 288 メッセージ

この計算により、1 日あたりの合計は 1728 メッセージとなります。

## <a name="example-2"></a>例 2:

デバイスは、1 時間ごとに 100 KB の device-to-cloud メッセージを 1 つ送信します。 デバイス ツインも、1 KB のペイロードで 4 時間ごとに更新されます。 ソリューション バックエンドは 1 日 1 回、14 KB のデバイス ツインを読み込んで 512 バイトのペイロードで更新し、構成を変更します。

デバイスは以下を使用します。

* device-to-cloud メッセージ用に、25 (100 KB / 4 KB) メッセージ * 24 時間
* デバイス ツインの更新用に、1 日あたり 2 メッセージ (1 KB / 0.5 KB) * 6 回

この計算により、1 日あたりの合計は 612 メッセージとなります。

ソリューション バックエンドはデバイス ツインを読み取るために 28 メッセージ (14 KB/0.5 KB) を使用し、さらにこれを更新するために 1 メッセージを使用するため、合計で 29 メッセージとなります。

合計で、デバイスとソリューション バックエンドは 1 日あたり 641 メッセージを使用します。
