---
title: アクセスおよびアクセス許可の概要
description: この記事では、Azure Purview のアクセス許可、アクセス制御、コレクションの概要について説明します。 ロールベースのアクセス制御 (RBAC) は Azure Purview 自体で管理されているので、このガイドでは、情報を保護するための基本について説明します。
author: viseshag
ms.author: viseshag
ms.service: purview
ms.topic: conceptual
ms.date: 09/27/2021
ms.openlocfilehash: c3cc01b4cc6863b2100a1948b66c811b32b6cb46
ms.sourcegitcommit: 0415f4d064530e0d7799fe295f1d8dc003f17202
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/17/2021
ms.locfileid: "132724674"
---
# <a name="access-control-in-azure-purview"></a>Azure Purview でのアクセスの制御

Azure Purview では、**コレクション** を使用して、ソース、資産、その他の成果物全体のアクセスを整理および管理します。 この記事では、Azure Purview アカウントでのコレクションとアクセス管理について説明します。

## <a name="collections"></a>コレクション

コレクションは、資産、ソース、その他の成果物を階層にグループ化して検出可能性を高め、アクセスの制御を管理するために Azure Purview が使用するツールです。 Purview のリソースへのすべてのアクセスは、Purview アカウント自体のコレクションから管理されます。

> [!NOTE]
> 2021 年 11 月 8 日現在、データ キュレーターは、"***分析情報***" を利用できます。 データ閲覧者は、分析情報へのアクセス権がありません。
>
>
## <a name="roles"></a>ロール

Azure Purview では、定義済みのロールのセットを使用して、アカウント内で誰が何にアクセスできるかを制御します。 現時点でのこれらのロールは次のとおりです。

- **コレクション管理者** - Azure Purview で他のユーザーにロールを割り当てたり、コレクションを管理する必要があるユーザー用のロールです。 コレクション管理者は、自分が管理者であるコレクションのロールにユーザーを追加することができます。 また、コレクションとその詳細を編集し、サブコレクションを追加することもできます。
- **データ キュレーター** - 資産の管理、カスタム分類の構成、用語集の用語の設定、分析情報の表示を行うためにデータ カタログへのアクセスを提供するロールです。 データ キュレーターは、資産の作成、読み取り、変更、移動、および削除を行うことができます。 また、資産に注釈を適用することもできます。
- **データ閲覧者** - データ資産、分類、分類ルール、コレクション、用語集の用語への読み取り専用アクセスを提供するロールです。
- **データ ソース管理者** - ユーザーがデータ ソースとスキャンを管理できるロールです。 データ ソース管理者ロールのユーザーは、Azure Purview Studio にアクセスできません。 このロールとデータ リーダー ロールまたはデータ管理者ロールを任意のコレクション スコープで組み合わせると、Azure Purview スタジオへのアクセスが可能になります。

## <a name="who-should-be-assigned-to-what-role"></a>ロールに割り当てられるユーザー

|ユーザー シナリオ|適切なロール|
|-------------|-----------------|
|資産を検索するのみで、何も編集する必要がない|データ リーダー|
|資産に関する情報の編集、分類の割り当て、用語集エントリへの関連付けなどを行う必要がある。|データ キュレーター|
|用語集を編集するか、新しい分類の定義を設定する必要がある|データ キュレーター|
|データ資産のガバナンス体制を理解するために分析情報を表示する必要がある|データ キュレーター|
|アプリケーションのサービス プリンシパルが Azure Purview にデータをプッシュする必要がある|データ キュレーター|
|Purview Studio を使用してスキャンを設定する必要がある|コレクションのデータ キュレーター、**または** ソースが登録されている場合は、データ キュレーター **および** データ ソース管理者|
|サービス プリンシパルまたはグループがカタログの情報にアクセスすることを許可せずに、Azure Purview でスキャンを設定し、監視する必要がある |データ ソース管理者|
|Azure Purview のロールにユーザーを割り当てる必要がある | コレクション管理者 |

:::image type="content" source="./media/catalog-permissions/collection-permissions-roles.png" alt-text="Purview ロールを示すグラフ" lightbox="./media/catalog-permissions/collection-permissions-roles.png":::

## <a name="understand-how-to-use-azure-purviews-roles-and-collections"></a>Azure Purview のロールとコレクションを使用する方法を理解する

すべてのアクセスの制御は、Purview のコレクションで管理されます。 Purview のコレクションは、[Purview Studio で確認できます](https://web.purview.azure.com/resource/)。 [Azure portal](https://portal.azure.com) で Purview アカウントを開き、[概要] ページで [Purview Studio] タイルを選択します。 そこから、左側のメニューのデータ マップに移動し、[コレクション] タブを選択します。

Azure Purview アカウントが作成されると、Purview アカウント自体と同じ名前のルート コレクションで始まります。 Purview アカウントの作成者は、このルート コレクションのコレクション管理者、データ ソース管理者、データ キュレーター、データ リーダーとして自動的に追加され、このコレクションを編集および管理できます。

ソース、資産、およびオブジェクトは、このルート コレクションに直接追加できますが、他のコレクションにも追加できます。 コレクションを追加すると、Purview アカウント全体でデータにアクセスできるユーザーをより細かく制御できます。

他のすべてのユーザーは、自分または自分が所属するグループに上記のロールのいずれかが与えられている場合にのみ、Azure Purview アカウント内の情報にアクセスできます。 つまり、作成者が[コレクション内の上記のロールの 1 つ以上に追加](how-to-create-and-manage-collections.md#add-role-assignments)されるまで、Azure Purview アカウントの作成時には、作成者のみがアカウントにアクセスしてその API を使用できます。

ユーザーは、コレクション管理者またはアクセス許可の継承によってのみコレクションに追加できます。 親コレクションのアクセス許可は、そのサブコレクションによって自動的に継承されます。 ただし、任意のコレクションに対して[アクセス許可の継承を制限](how-to-create-and-manage-collections.md#restrict-inheritance)することができます。 これを行った場合、そのサブコレクションは親コレクションから権限を継承しなくなるため、直接追加する必要があります。ただし、親コレクションから自動的に継承されたコレクション管理は削除できません。

Purview ロールは、purview アカウントのサブスクリプションに関連付けられている Azure Active Directory からユーザー、セキュリティ グループ、サービス プリンシパルに割り当てることができます。

## <a name="assign-permissions-to-your-users"></a>ユーザーにアクセス許可を割り当てる

Azure Purview アカウントを作成したら、まずコレクションを作成し、それらのコレクション内のロールにユーザーを割り当てます。

> [!NOTE]
> Purview Studio にアクセスし、アクセス許可をユーザーに割り当てることができるようにするために、サービス プリンシパルを使用して Azure Purview アカウントを作成した場合、ルート コレクションのコレクション管理者アクセス許可をユーザーに付与する必要があります。
> [この Azure CLI コマンド](/cli/azure/purview/account#az_purview_account_add_root_collection_admin)を使用できます。
>
>   ```azurecli
>   az purview account add-root-collection-admin --account-name --resource-group [--object-id]
>   ```
>

### <a name="create-collections"></a>コレクションを作成する

コレクションは、Purview アカウント内のソースの構造に合わせてカスタマイズでき、これらのリソースの整理されたストレージ ビンのように動作できます。 必要なコレクションについて検討する際は、ユーザーがどのように情報にアクセスまたは検出するかを検討する必要があります。 ソースは部門別に分かれていますか? これらの部門内に、一部の資産のみを検出する必要がある特殊なグループはありますか? すべてのユーザーが検出可能なソースはありますか?

これにより、データ マップを最も効果的に整理するために必要なコレクションとサブコレクションが通知されます。

新しいコレクションは、ドロップダウンから親コレクションを選択してデータ マップに直接追加することも、親からサブコレクションとして追加することもできます。 データ マップ ビューでは、すべてのソースと資産がコレクション順に表示され、一覧にソースのコレクションが一覧表示されます。

詳細な手順と情報については、[コレクションの作成と管理に関するガイド](how-to-create-and-manage-collections.md)に従ってください。

#### <a name="a-collections-example"></a>コレクションの例

コレクション、アクセス許可、および機能の基本を理解したところで、例を見てみましょう。

:::image type="content" source="./media/catalog-permissions/collection-example.png" alt-text="リージョンと部門別に分けられたサンプル コレクション階層を示すグラフ。" border="true":::

これは、組織がデータを構造化する 1 つの方法です。ルート コレクション (この例では Contoso) から始まり、コレクションは、リージョンに編成され、次に部門とサブ部門に編成されます。 データ ソースと資産をこれらのコレクションに追加して、これらのリージョンと部門別にデータ リソースを整理し、それらの行に沿ってアクセスの制御を管理することができます。 厳密なアクセス ガイドラインを持つ Revenue というサブ部門が 1 つあるので、アクセス許可を厳密に管理する必要があります。

[データ リーダー ロールは](#roles)、カタログ内の情報にアクセスできますが、管理や編集はできません。 したがって、上記の例では、ルート コレクションのグループにデータ リーダー アクセス許可を追加し、継承を許可すると、そのグループ内のすべてのユーザーに Purview ソースと資産に対するアクセス許可が付与されます。 これにより、そのグループ内のすべてのユーザーはこれらのリソースを検出できるようになりますが、編集はできません。 Revenue グループの[継承を制限](how-to-create-and-manage-collections.md#restrict-inheritance)すると、それらの資産へのアクセスが制御されます。 収益情報にアクセスする必要があるユーザーは、Revenue コレクションに個別に追加できます。
データ キュレーターとデータ ソース管理者ロールと同様に、これらのグループのアクセス許可は、割り当てられているコレクションから開始され、継承を制限していないサブコレクションに徐々に適用されます。 以下では、Americas サブコレクションのコレクション レベルで複数のグループにアクセス許可を割り当てています。

:::image type="content" source="./media/catalog-permissions/collection-permissions-example.png" alt-text="アクセス許可の分布を示すリージョンと部門別に分けられたサンプル コレクション階層を示すグラフ。" border="true":::

### <a name="add-users-to-roles"></a>ユーザーをロールに割り当てる

ロールの割り当ては、コレクションで管理されます。 [コレクション管理者ロール](#roles)を持つユーザーだけが、そのコレクションの他のユーザーにアクセス許可を付与できます。 新しいアクセス許可を追加する必要がある場合、コレクション管理者は [Purview Studio](https://web.purview.azure.com/resource/) にアクセスし、データ マップ、[コレクション] タブの順に移動して、ユーザーを追加する必要があるコレクションを選択します。 [ロールの割り当て] タブから、アクセス許可を必要とするユーザーを追加および管理できます。

詳細な手順については、[ロールの割り当てを追加する方法に関するガイド](how-to-create-and-manage-collections.md#add-role-assignments)を参照してください。

## <a name="next-steps"></a>次の手順

コレクションとアクセスの制御の基本を理解したところで、以下のガイドに従ってこれらのコレクションを作成および管理するか、Purview リソースへのソースの登録を開始します。

- [コレクションを作成して管理する方法](how-to-create-and-manage-collections.md)
- [Purview でサポートされているデータ ソース](purview-connector-overview.md)
