---
title: Azure Blob の運用バックアップの概要
description: Azure Blob の運用バックアップについて説明します。
ms.topic: conceptual
ms.date: 05/05/2021
ms.openlocfilehash: 5d6113108a41430e9d864ff05095be4d440989ee
ms.sourcegitcommit: 02d443532c4d2e9e449025908a05fb9c84eba039
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/06/2021
ms.locfileid: "108767241"
---
# <a name="overview-of-operational-backup-for-azure-blobs"></a>Azure Blob の運用バックアップの概要

BLOB の運用バックアップは、管理されたローカル データ保護ソリューションです。これを使用すると、破損、BLOB の削除、誤ったストレージ アカウントの削除などのさまざまなデータ損失のシナリオからブロック BLOB を保護できます。 データはソース ストレージ アカウント自体にローカルに格納され、必要に応じて選択した時点に復旧できます。 これにより、BLOB を保護するためのシンプルで安全かつコスト効率の高い手段が提供されます。

BLOB の運用バックアップは、他のバックアップ管理機能の中でも特に[バックアップ センター](backup-center-overview.md)と統合され、大規模なバックアップを管理、監視、運用、分析するための単一のウィンドウが提供されます。

## <a name="how-operational-backup-works"></a>運用バックアップのしくみ

BLOB の運用バックアップは、**ローカル バックアップ** ソリューションです。 そのため、バック アップデータはバックアップ コンテナーには転送されず、ソース ストレージ アカウント自体に格納されます。 ただし、バックアップ コンテナーは引き続きバックアップ管理の単位として機能します。 また、これは **継続的バックアップ** ソリューションです。つまり、バックアップをスケジュール設定する必要がなく、すべての変更内容が保持され、選択した時点の状態から復元できます。

運用バックアップでは、BLOB プラットフォームの機能を使用してデータが保護され、必要なときに回復できます。

- **ポイントインタイム リストア**: [BLOB のポイントインタイム リストア](../storage/blobs/point-in-time-restore-overview.md)により、BLOB データを以前の状態に復元できます。 次に、**論理的な削除**、**変更フィード**、**BLOB のバージョン管理** を使用して、指定した期間データが保持されます。 運用バックアップによって、指定した期間だけデータを保持する基になる機能に加えて、ポイントインタイム リストアの有効化が管理されます。

- **削除ロック**: 削除ロックにより、ストレージ アカウントが誤って削除されたり、承認されていないユーザーによって削除されたりすることを防ぎます。 運用バックアップを構成すると、削除ロックも自動的に適用され、ストレージ アカウントの削除によるデータ損失の可能性が減少します。

現在のソリューションの制限事項については、[サポート マトリックス](blob-backup-support-matrix.md)に関する記事を参照してください。

### <a name="protection"></a>保護

運用バックアップは **ストレージ アカウント** レベルで構成および管理され、ストレージ アカウント内のすべてのブロック BLOB に適用されます。 運用バックアップでは、**バックアップ ポリシー** を使用して、バックアップ データ (以前のバージョンや削除された BLOB を含む) を保持する期間が管理されます。このようにしてデータの復元が可能な期間が定義されます。 バックアップ ポリシーには、最大保持期間として 360 日、またはそれに相当する数の週 (51) または月 (11) を指定できます。

ストレージ アカウントのバックアップを構成し、保持期間が 'n' 日のバックアップ ポリシーを割り当てる場合、基になるプロパティは以下に示すように設定されます。 これらのプロパティは、ストレージ アカウントの BLOB サービスの **[データ保護]** タブで確認できます。

- **ポイントインタイム リストア**: バックアップ ポリシーで定義されているように、'n' 日に設定されます。 バックアップを構成する前に、ストレージ アカウントで、たとえば保持期間 'x' 日で既にポイントインタイム リストアが有効になっていた場合、ポイントインタイム リストアの期間は 2 つの値の大きい方 (max(n,x)) に設定されます。 ポイントインタイム リストアを既に有効にしていて、バックアップ ポリシーよりも長い保持期間を指定していた場合は、変更されないままとなります。

- **論理的な削除**: 'n+5' 日、つまり、バックアップ ポリシーで指定した期間に加えて 5 日間に設定されます。 運用バックアップ用に構成されているストレージ アカウントで、たとえば保持期間 'y' 日で既に論理的な削除が有効になっている場合、論理的な削除の保持期間は 2 つの値の最大値 (max(n+5,y)) に設定されます。 論理的な削除を既に有効にしていて、バックアップ ポリシーよりも長い保持期間を指定していた場合は、変更されないままとなります。

- **BLOB のバージョン管理と BLOB の変更フィード**: 運用バックアップ用に構成されているストレージ アカウントに対して、バージョン管理と変更フィードが有効になります。

- **削除ロック**: ストレージ アカウントに対する運用バックアップを構成すると、そのストレージ アカウントに対する削除ロックも適用されます。 バックアップによって適用される削除ロックは、ストレージ アカウントの **[ロック]** タブで確認できます。

保護するストレージ アカウントに対して、バックアップによるこれらのプロパティの有効化を許可するには、それぞれのストレージ アカウントに対する **[ストレージ アカウント バックアップの共同作成者]** ロールがバックアップ コンテナーに付与されている必要があります。

>[!NOTE]
>運用バックアップでは、ブロック BLOB に対する操作のみがサポートされ、コンテナーに対する操作は復元できません。 **Delete Container** 操作を呼び出してストレージ アカウントからコンテナーを削除した場合、復元操作を使ってそのコンテナーを復元することはできません。 データの保護と回復を強化するために、論理的な削除を有効にすることをお勧めします。

### <a name="management"></a>管理

ストレージ アカウントに対してバックアップを有効にすると、そのストレージ アカウントに対応するバックアップ インスタンスがバックアップ コンテナーに作成されます。 ユーザーはストレージ アカウントに対して、その対応するバックアップ インスタンスを使用して、復元の開始、監視、保護の停止など、任意のバックアップ関連の操作を実行できます。

運用バックアップはバックアップ センターとも直接統合され、バックアップでサポートされるその他すべてのワークロードと共に、すべてのストレージ アカウントの保護を一元的に管理するのに役立ちます。 バックアップ センターは、ジョブやバックアップおよび復元の状態の監視、コンプライアンスとガバナンスの確保、バックアップの使用状況の分析、データのバックアップと復元に関連する操作の実行など、すべてのバックアップ要件に対応する 1 つのウィンドウです。

### <a name="restore"></a>復元

回復ポイントが存在する任意の時点からデータを復元できます。 回復ポイントは、ストレージ アカウントが保護された状態になったときに作成され、バックアップ ポリシーによって定義された保持期間内である限り、データを復元するために使用できます (ストレージ アカウント内の BLOB サービスのポイントインタイム リストア機能についても同様)。 運用バックアップでは、BLOB のポイントインタイム リストアを使用して、回復ポイントからデータが復元されます。

運用バックアップでは、ストレージ アカウント内のすべてのブロック BLOB を復元するか、参照して特定のコンテナーを復元するか、またはプレフィックスの一致を使用して BLOB のサブセットを復元するかを選択できます。 すべての復元は、ソース ストレージ アカウントに対してのみ実行できます。

## <a name="pricing"></a>価格

BLOB の運用バックアップを使用する場合、管理料金やインスタンス料金は発生しません。 ただし、次の料金が発生します。

- 復元は BLOB のポイントインタイム リストアを使用して行われ、処理済みデータの量に基づいて料金が発生します。 詳細については、[ポイントインタイム リストアの価格](../storage/blobs/point-in-time-restore-overview.md#pricing-and-billing)に関する記事を参照してください。

- [BLOB の論理的な削除](../storage/blobs/soft-delete-blob-overview.md)、[Azure Blob Storage の変更フィードのサポート](../storage/blobs/storage-blob-change-feed.md)、および [BLOB のバージョン管理](../storage/blobs/versioning-overview.md)によるデータの保持。

## <a name="next-steps"></a>次のステップ

- [Azure BLOB のバックアップを構成して管理する](blob-backup-configure-manage.md)