### YamlMime:FAQ
metadata:
  title: Azure SQL Database ハイパースケールに関する FAQ
  description: ハイパースケール サービス レベルの SQL Database のデータベース (通常はハイパースケール データベースと呼ばれる) に関する顧客からの一般的な質問への回答。
  services: sql-database
  ms.service: sql-database
  ms.subservice: service-overview
  ms.custom: sqldbrb=1
  ms.devlang: 
  ms.topic: conceptual
  author: dimitri-furman
  ms.author: dfurman
  ms.reviewer: mathoma
  ms.date: 11/4/2021
  ms.openlocfilehash: 440cb18b41a37358fc170655783cc2f5c61bc01b
  ms.sourcegitcommit: 8946cfadd89ce8830ebfe358145fd37c0dc4d10e
  ms.translationtype: HT
  ms.contentlocale: ja-JP
  ms.lasthandoff: 11/05/2021
  ms.locfileid: "131843156"
title: Azure SQL Database ハイパースケールに関する FAQ
summary: >
  [!INCLUDE[appliesto-sqldb](../includes/appliesto-sqldb.md)]


  この記事では、Azure SQL Database ハイパースケール サービス レベル (以降、この FAQ ではハイパースケールと呼びます) のデータベースをご検討中のお客様向けに、よく寄せられる質問の回答を紹介します。 この記事では、ハイパースケールでサポートするシナリオと、ハイパースケールと互換性がある機能について説明します。


  - この FAQ は、ハイパースケール サービス レベルの概要を理解し、具体的な質問や懸案事項の回答を求める読者を対象としています。

  - この FAQ はガイドブックではなく、ハイパースケール データベースの使用方法に関する質問に回答するものでもありません。 ハイパースケールの概要については、[Azure SQL Database ハイパースケール](service-tier-hyperscale.md)に関する記事をご覧ください。
sections:
- name: 一般的な質問
  questions:
  - question: >
      Hyperscale データベースとはどのようなものですか?
    answer: >
      ハイパースケール データベースとは、ハイパースケール スケールアウト ストレージ テクノロジによって支えられている、ハイパースケール サービス レベルの SQL Database データベースです。 ハイパースケール データベースは最大 100 TB のデータをサポートし、高いスループットとパフォーマンスを実現すると同時に、ワークロード要件に適応するために迅速にスケーリングできます。 スケーリングは、アプリケーションにとって透過的に行われます。接続やクエリ処理などは他のすべての Azure SQL Database のデータベースと変わりません。
  - question: >
      Hyperscale はどのリソースの種類と購入モデルでサポートされていますか?
    answer: "ハイパースケール サービス レベルを利用できるのは、Azure SQL データベース において仮想コアベースの購入モデルを使用する単一のデータベースのみです。  \n"
  - question: >
      Hyperscale サービス レベルは、General Purpose および Business Critical サービス レベルとどのように違いますか?
    answer: >
      次の表で説明するように、仮想コアベースのサービス レベルは、データベースの可用性とストレージの種類、パフォーマンス、および最大サイズに基づいて区別されます。


      | | リソースの種類 | General Purpose |  ハイパースケール | Business Critical |

      |:---:|:---:|:---:|:---:|:---:|

      | **最適な用途** |All|予算重視のバランスの取れたコンピューティングおよびストレージ オプションを提供します。|ほとんどのビジネス ワークロード。 最大 100 TB のストレージ サイズの自動スケーリング、垂直および水平方向への高速コンピューティング スケーリング、データベースの高速復元。|トランザクション レートが高く IO 待ち時間が低い OLTP アプリケーション。 同期的に更新された複数のレプリカを使用して、最高の耐障害性と高速フェールオーバーを提供します。|

      |  **リソースの種類** ||SQL Database/SQL Managed Instance | 単一データベース | SQL Database/SQL Managed Instance |

      | **コンピューティング サイズ**|SQL Database* | 1 - 80 の仮想コア | 1 - 80 の仮想コア * | 1 - 80 の仮想コア |

      | **コンピューティング サイズ**|SQL Managed Instance | 8、16、24、32、40、64、80 の仮想コア | 該当なし | 8、16、24、32、40、64、80 の仮想コア |

      | **ストレージの種類** | All |Premium リモート ストレージ (インスタンスあたり) | ローカル SSD キャッシュを使用して切り離したストレージ (インスタンスあたり) | 超高速ローカル SSD ストレージ (インスタンスあたり) |

      | **ストレージ サイズ** | SQL Database *| 5 GB – 4 TB | 最大 100 TB | 5 GB – 4 TB |

      | **ストレージ サイズ** | SQL Managed Instance  | 32 GB – 8 TB | 該当なし | 32 GB – 4 TB |

      | **IOPS** | 単一データベース | 仮想コアあたり 500 IOPS (最大 7000 IOPS) | Hyperscale は、複数のレベルのキャッシュが存在する複数レベル アーキテクチャです。 有効な IOPS はワークロードによって異なります。 | 5000 IOPS (最大 200,000 IOPS)|

      | **IOPS** | SQL Managed Instance | ファイル サイズによって異なる | 該当なし | 1375 IOPS/仮想コア |

      |**可用性**|All|1 レプリカ、読み取りスケールアウトなし、ゾーン冗長 HA (プレビュー)、ローカル キャッシュなし | 複数のレプリカ、最大 4 読み取りスケールアウト、部分的ローカル キャッシュ | 3 レプリカ、1 読み取りスケールアウト、ゾーン冗長 HA、完全ローカル ストレージ |

      |**バックアップ**|All| geo 冗長、ゾーン冗長\*\*、またはローカル冗長\*\* のバックアップ ストレージの選択、1 から 35 日の保持期間 (既定値は 7 日) | geo 冗長、ゾーン冗長\*\*\*、またはローカル冗長\*\*\*のバックアップ ストレージの選択、7 日の保持期間。 | geo 冗長、ゾーン冗長\*\*、またはローカル冗長\*\* のバックアップ ストレージの選択、1 から 35 日の保持期間 (既定値は 7 日) |


      \* エラスティック プールはハイパースケール サービス レベルではサポートされていません


      \*\* プレビュー段階


      \*\*\* プレビュー段階、新しい Hyperscale データベースのみ
  - question: >
      Hyperscale サービス レベルを使用する必要があるのはどのようなユーザーですか?
    answer: >
      Hyperscale サービス レベルの対象として意図されているのは、大規模なオンプレミスの SQL Server データベースを備えていて、クラウドに移行することによりアプリケーションを最新化することを考えているお客様、または既に Azure SQL Database を使用しており、データベースのサイズを増大するために大幅な拡張を望むお客様です。 ハイパースケールでは、高いパフォーマンスと高いスケーラビリティを必要としているお客様も対象になります。 ハイパースケールで得られるのは次のとおりです。


      - 最大 100 TB のデータベース サイズ

      - データベース サイズにかかわらないデータベースの高速バックアップ (ストレージ スナップショットに基づいたバックアップ)

      - データベース サイズにかかわらないデータベースの高速復元 (ストレージ スナップショットに基づいた復元)

      - データベースのサイズと仮想コアの数にかかわらないログ スループットの向上

      - 1 つ以上の読み取り専用レプリカを使用した読み取りスケールアウト (読み取りオフロードやホット スタンバイに対応)。

      - コンピューティングの一定時間での迅速なスケールアップ (重いワークロードに対応するために性能を向上) と、その後の一定時間でのスケールダウン。 これは、たとえば P6 と P11 の間のスケールアップとスケール ダウンに似ていますが、さらに迅速に行われます。データ操作の規模ではないためです。
  - question: >
      現在 Hyperscale はどのリージョンでサポートされていますか?
    answer: >
      ハイパースケール サービス レベルは現在、[Azure SQL Database のハイパースケールの概要](service-tier-hyperscale.md#regions)のページに示されているリージョンで利用可能です。
  - question: >
      サーバーごとに複数の Hyperscale データベースを作成できますか?
    answer: >
      はい。 サーバーあたりのハイパースケール データベース数の詳細や制約について詳しくは、[サーバー上の単一データベースおよびプールされたデータベースの SQL Database のリソース制限](resource-limits-logical-server.md)に関するページをご覧ください。
  - question: >
      Hyperscale データベースにはどのようなパフォーマンス特性がありますか?
    answer: >
      ハイパースケール アーキテクチャは、大きなデータベース サイズをサポートする一方でハイ パフォーマンスとスループットを提供します。
  - question: >
      Hyperscale データベースのスケーラビリティとはどのようなものですか?
    answer: "ハイパースケールでは、ワークロードの需要に基づいて迅速なスケーラビリティを提供します。\n\n- **スケールアップ/スケールダウン**\n\n  ハイパースケールでは、CPU やメモリなどのリソースの観点で主要なコンピューティング サイズをスケールアップしてから、一定時間でスケールダウンできます。 ストレージは共有されるため、スケールアップとスケールダウンはデータ操作の規模ではありません。  \n- **スケールイン/スケールアウト**\n\n  ハイパースケールでは、読み取り要求を処理するために使用できる 1 つ以上の追加計算レプリカをプロビジョニングする機能も提供されます。 つまり、これらの追加計算レプリカを読み取り専用レプリカとして使用し、主なコンピューティングから読み取りワークロードをオフロードできます。 読み取り専用だけでなく、これらのレプリカは、プライマリからのフェールオーバーの場合にホット スタンバイとしても機能します。\n\n  これらの追加計算レプリカそれぞれのプロビジョニングは、オンライン操作であり、一定時間で行うことができます。 これらの追加読み取り専用計算レプリカに接続するには、接続文字列の `ApplicationIntent` 引数を `ReadOnly` に設定してください。 `ReadOnly` アプリケーション インテントを持つ接続はすべて、追加読み取り専用計算レプリカのいずれかに自動的にルーティングされます。\n"
- name: 具体的な質問
  questions:
  - question: >
      1 つのサーバーに Hyperscale と単一データベースを混在させることができますか?
    answer: >
      はい、できます。
  - question: >
      Hyperscale のためにアプリケーション プログラミング モデルを変更する必要がありますか?
    answer: >
      いいえ。アプリケーション プログラミング モデルはそのままでかまいません。 いつもの接続文字列とその他の通常の方法を使用して、ハイパースケール データベースを操作します。
  - question: >
      Hyperscale データベースの既定のトランザクション分離レベルは何ですか?
    answer: >
      プライマリ レプリカでは、既定のトランザクション分離レベルは RCSI (Read Committed スナップショット分離) です。 読み取りスケールアウトのセカンダリ レプリカでは、既定の分離レベルはスナップショットです。
  - question: >
      オンプレミスまたは IaaS の SQL Server ライセンスを Hyperscale に使用できますか?
    answer: >
      はい。[Azure ハイブリッド特典](https://azure.microsoft.com/pricing/hybrid-benefit/)をハイパースケールで利用できます。 SQL Server Standard コアそれぞれを 1 つのハイパースケール仮想コアにマップできます。 SQL Server Enterprise コアそれぞれを 4 つのハイパースケール仮想コアにマップできます。 セカンダリ レプリカの SQL ライセンスは不要です。 Azure ハイブリッド特典の価格が読み取りスケールアウト (セカンダリ) レプリカに自動的に適用されます。
  - question: >
      Hyperscale はどのような種類のワークロードを対象に設計されていますか?
    answer: >
      Hyperscale では、OLTP、ハイブリッド (HTAP)、分析 (データ マート) ワークロードなど、すべてのワークロードの種類をサポートしています。
  - question: >
      Azure Synapse Analytics と Azure SQL Database Hyperscale は、どのようにして選択すればよいですか?
    answer: "現在、SQL Server をデータ ウェアハウスとして使用して対話型分析クエリを実行している場合、ハイパースケールがオプションとして優れています。小規模および中規模データ ウェアハウス (数 TB から最大 100 TB) をホスティングするコストを抑えることができ、最小限の T-SQL コードの変更で SQL Server データ ウェアハウス ワークロードをハイパースケールに移行できます。\n\n複雑なクエリを使用し、100 MB/s を超える持続的なインジェスト速度で大規模に Data Analytics を実行しているか、Parallel Data Warehouse (PDW)、Teradata、またはその他の超並列処理 (MPP) データ ウェアハウスを使用している場合は、Azure Synapse Analytics が最適な選択肢である可能性があります。\n  \n"
- name: ハイパースケールのコンピューティングに関する質問
  questions:
  - question: >
      コンピューティングはいつでも一時停止できますか?
    answer: >
      現時点ではできませんが、コンピューティングとレプリカの数をスケールダウンして、ピーク時以外のコストを削減することができます。
  - question: >
      メモリ集中型ワークロードのために RAM を増やして計算レプリカをプロビジョニングできますか?
    answer: >
      いいえ。 RAM を増やすには、コンピューティング サイズをアップグレードして上げる必要があります。 詳しくは、[ハイパースケールのストレージ サイズおよびコンピューティング サイズ](resource-limits-vcore-single-databases.md#hyperscale---provisioned-compute---gen5)をご覧ください。
  - question: >
      サイズが違う複数の計算レプリカをプロビジョニングできますか?
    answer: >
      はい。 これは[名前付きレプリカ](service-tier-hyperscale-replicas.md#named-replica-in-preview)を使用して実現できます。
  - question: >
      サポートされている読み取りスケールアウト レプリカの数はいくつですか?
    answer: >
      ハイパースケール データベースは、既定で 1 つの読み取りスケールアウト レプリカを含むように作成されます (プライマリを含めて 2 つのレプリカ)。 [Azure portal](https://portal.azure.com) または [REST API](/rest/api/sql/databases/createorupdate) を使用して、読み取り専用レプリカの数を 0 から 4 の間でスケールすることができます。 さらに、[名前付きレプリカ](service-tier-hyperscale-replicas.md#named-replica-in-preview)を使用して、多くの読み取りスケールアウト シナリオも有効にできます。
  - question: >
      高可用性のために追加の計算レプリカをプロビジョニングする必要がありますか?
    answer: >
      ハイパースケール データベースでは、データ回復性はストレージ レベルで提供されます。 回復性を実現するために必要なのは 1 つのレプリカだけです。 コンピューティング レプリカが停止すると、新しいレプリカが自動的に作成されるためデータは失われません。


      ただし、レプリカが 1 つしかない場合は、フェールオーバー後に新しいレプリカにローカル キャッシュを構築するために少し時間がかかることがあります。 キャッシュ再構築フェーズで、データベースはページ サーバーからデータを直接フェッチするため、ストレージの待機時間が長くなり、クエリのパフォーマンスが低下します。


      高可用性を必要とするミッション クリティカル アプリケーションに対するフェールオーバーの影響を最小限に抑えるため、プライマリ計算レプリカを含めて少なくとも 2 つの計算レプリカをプロビジョニングする必要があります。 これは既定の構成です。 そうすることでフェールオーバー ターゲットとして機能するホットスタンバイ レプリカを用意できます。
- name: データ サイズとストレージに関する質問
  questions:
  - question: >
      Hyperscale でサポートされる最大データベース サイズはどれくらいですか?
    answer: 100 TB。
  - question: >
      Hyperscale でのトランザクション ログのサイズはどれくらいですか?
    answer: >
      ハイパースケールでのトランザクション ログは実質的に無制限です。 ログ スループットが高いシステム上では、ログ領域の不足を心配する必要はありません。 ただし、高い書き込みワークロードが継続する場合にはログ生成速度が調整される可能性があります。 ピークが持続するログ生成速度は、100 MB/秒です。
  - question: >
      データベースが拡大すると `tempdb` はスケーリングされますか?
    answer: >
      `tempdb` データベースはローカル SSD ストレージに配置され、プロビジョニングするコンピューティング サイズに比例してサイズが調整されます。 `tempdb` は、最大のパフォーマンス メリットを得られるように最適化されています。 `tempdb` サイズを構成することはできません。これは自動的に管理されます。 データベースの最大 `tempdb` サイズを決定するには、[Hyperscale のストレージとコンピューティング サイズ](resource-limits-vcore-single-databases.md#hyperscale---provisioned-compute---gen5)に関するセクションを参照してください。
  - question: >
      データベースのサイズは自動的に拡張されますか、それともデータ ファイルのサイズを自分で管理する必要がありますか?
    answer: >
      データベースのサイズは、データの挿入/取り込みに応じて自動的に拡大します。
  - question: >
      Hyperscale でサポートされる最小のデータベース サイズはどれくらいですか?
    answer: 40 GB です。 ハイパースケール データベースは、標準サイズである 10 GB で作成されます。 その後、10 分ごとに 10 GB ずつ拡大し、最終的には 40 GB に達します。 IOPS と I/O 並列処理を向上させるために、これらの 10 GB チャンクはそれぞれ別のページ サーバーに割り当てられます。 この最適化により、初期データベースのサイズとして 40 GB 未満を選択しても、データベースは少なくとも 40 GB までは自動的に拡大します。
  - question: >
      データベースのサイズはどれくらいの単位で増分されますか?
    answer: >
      各データ ファイルは 10 GB ずつ拡張されます。 複数のデータ ファイルが同時に拡張される可能性があります。
  - question: >
      Hyperscale のストレージはローカルですかリモートですか?
    answer: >
      ハイパースケールでは、データ ファイルは Azure Standard ストレージに格納されます。 計算レプリカに近いページ サーバーでは、データは完全にローカル SSD ストレージにキャッシュされます。 さらに、計算レプリカは、ローカル SSD とメモリ内にデータ キャッシュを持ち、リモート ページ サーバーからデータをフェッチする回数を減らします。
  - question: >
      Hyperscale ではファイルまたはファイル グループを管理または定義できますか?
    answer: >
      いいえ。 データ ファイルは自動的に追加されます。 追加のファイル グループを作成する一般的な理由は、ハイパースケール ストレージ アーキテクチャには適用されません。
  - question: >
      データベースのデータ増加に対してハード キャップをプロビジョニングできますか?
    answer: >
      いいえ。
  - question: >
      Hyperscale ではデータ ファイルはどのようにレイアウトされますか?
    answer: >
      データ ファイルはページ サーバーによって制御されます。ページ サーバーはデータ ファイルごとに 1 つあります。 データ サイズが大きくなると、データ ファイルと関連するページ サーバーが追加されます。
  - question: >
      データベースの縮小はサポートされますか?
    answer: >
      いいえ。
  - question: >
      データの圧縮はサポートされていますか?
    answer: >
      はい (行、ページ、列ストア圧縮を含む)。
  - question: >
      大きなテーブルがある場合、テーブルのデータは複数のデータ ファイルに分散されますか?
    answer: >
      はい。 特定のテーブルに関連付けられたデータ ページを、同じファイルグループに含まれる複数のデータ ファイルに分散することができます。 SQL Server は、[比例配分方式](/sql/relational-databases/databases/database-files-and-filegroups#file-and-filegroup-fill-strategy)を使用してデータをデータ ファイルに均等配置します。
- name: データの移行に関する質問
  questions:
  - question: >
      Azure SQL Database の既存のデータベースを Hyperscale サービス レベルに移行できますか?
    answer: "はい。 ハイパースケールには既存の Azure SQL Database データベースを移行できます。 これは一方向にしか移行できません。 ハイパースケールから他のサービス レベルにデータベースを移行することはできません。 概念実証 (POC) のために、データベースのコピーを作成して、そのコピーをハイパースケールに移行することをお勧めします。 \n\n既存のデータベースを Hyperscale に移動するのに必要な時間は、データのコピーにかかる時間と、データのコピー中にソース データベースに加えられた変更を再生する時間で構成されます。 データのコピー時間は、データのサイズに比例します。 書き込み操作が少ない期間に移動が行われた場合、変更の再生にかかる時間は短くなります。\n  \n"
  - question: >
      Hyperscale のデータベースを他のサービス レベルに移行できますか?
    answer: >
      いいえ。 現時点では、ハイパースケール データベースを別のサービス レベルに移行することはできません。
  - question: >
      Hyperscale サービス レベルに移行した後で使えなくなる機能がありますか?
    answer: >
      はい。 長期的なバックアップ リテンション期間を始めとする Azure SQL Database の一部の機能は、まだハイパースケールではサポートされていません。 ハイパースケールにデータベースを移行した後、これらの機能は動作を停止します。  これらの制限は一時的なものであると想定しています。 詳細については、「[既知の制限事項](service-tier-hyperscale.md#known-limitations)」を参照してください。
  - question: >
      オンプレミスの SQL Server データベース、またはクラウドの仮想マシンにある SQL Server データベースースを、Hyperscale に移行できますか?
    answer: >
      はい。 既存のすべての移行テクノロジを使用して、トランザクション レプリケーションやその他のデータ移動テクノロジ (一括コピー、Azure Data Factory、Azure Databricks、SSIS) などの Hyperscale に移行することができます。 [Azure Database Migration Service](../../dms/dms-overview.md) に関するページもご覧ください。このサービスでは、多くの移行シナリオがサポートされています。
  - question: >
      オンプレミスまたは仮想マシン環境から Hyperscale への移行時のダウンタイムはどれくらいで、どうすればそれを最小にできますか?
    answer: >
      ハイパースケールへの移行のダウンタイムは、ご自身のデータベースを他の Azure SQL Database サービス レベルに移行する際のダウンタイムと同じです。 [トランザクション レプリケーション](replication-to-sql-database.md#data-migration-scenario

      )を使用すると、サイズが数 TB までのデータベースについて移行時のダウンタイムを最小限に抑えることができます。 特に大規模なデータベース (10 TB 超) の場合は、ADF、Spark、またはその他のデータ移動方法を使用してデータを移行することを検討してください。
  - question: >
      容量 X のデータを Hyperscale に移行するには、どれくらいの時間がかかりますか?
    answer: >
      ハイパースケールは、新規または変更されたデータを 100 MB/秒で利用できますが、Azure SQL Database のデータベースにデータを移動するために必要な時間は、使用可能なネットワーク スループット、ソースの読み取り速度、ターゲット データベースのサービス レベル目標の影響も受けます。
  - question: >
      BLOB ストレージからのデータの読み取り、および高速読み込みを行うことができますか (Azure Synapse Analytics の Polybase のように)?
    answer: >
      クライアント アプリケーションで Azure Storage からデータを読み取り、ハイパースケール データベースに読み込むことができます (他の Azure SQL Database データベースの場合と同様です)。 Polybase は現在 Azure SQL Database でサポートされていません。 高速読み込みを提供する代替手段として、[Azure Data Factory](../../data-factory/index.yml) を使用するか、[SQL 用 Spark コネクタ](spark-connector.md)で Spark ジョブを [Azure Databricks](/azure/azure-databricks/) で使用できます。 SQL 用の Spark コネクタでは一括挿入がサポートされます。


      BULK INSERT または OPENROWSET を使用して、Azure BLOB ストアからデータを一括で読み取ることもできます。[Azure Blob Storage のデータに一括アクセスする例](/sql/relational-databases/import-export/examples-of-bulk-access-to-data-in-azure-blob-storage#accessing-data-in-a-csv-file-referencing-an-azure-blob-storage-location)。


      単純復旧モデルまたは一括ログ記録モデルはハイパースケールではサポートされていません。 高可用性を実現して特定の時点に復旧するには、完全復旧モデルが必要です。 ただし、ハイパースケール ログ アーキテクチャでは、他の Azure SQL Database サービス レベルと比較してデータ取り込み率が向上しています。
  - question: >
      Hyperscale では大量のデータの並列取り込み用に複数のノードをプロビジョニングできますか?
    answer: >
      いいえ。 ハイパースケールは対称型マルチプロセッシング (SMP) アーキテクチャです。超並列処理アーキテクチャ (MPP) またはマルチマスター アーキテクチャではありません。 読み取り専用ワークロードをスケールアウトするためには複数のレプリカを作成するしかありません。
  - question: >
      Hyperscale への移行でサポートされる最も古い SQL Server のバージョンは何ですか?
    answer: >
      SQL Server 2005。 詳しくは、「[単一データベースまたはプールされたデータベースに移行する](migrate-to-database-from-sql-server.md#migrate-to-a-single-database-or-a-pooled-database)」をご覧ください。 互換性の問題について詳しくは、「[データベース移行に関する互換性の問題の解決](migrate-to-database-from-sql-server.md#resolving-database-migration-compatibility-issues)」をご覧ください。
  - question: >
      Hyperscale では、他のデータ ソース (Amazon Aurora、MySQL、PostgreSQL、Oracle、DB2、その他のデータベース プラットフォーム) からの移行がサポートされますか?
    answer: >
      はい。 [Azure Database Migration Service](../../dms/dms-overview.md) では多くの移行シナリオがサポートされています。
- name: ビジネス継続性とディザスター リカバリーに関する質問
  questions:
  - question: >
      Hyperscale データベースにはどのような SLA が提供されますか?
    answer: >
      「[Azure SQL Database の SLA](https://azure.microsoft.com/support/legal/sla/azure-sql-database)」を参照してください。 セカンダリ計算レプリカを追加することで可用性が上がります。複数のセカンダリ計算レプリカを持つデータベースでは最大 99.99% になります。
  - question: >
      データベースのバックアップは Azure SQL Database によって自動的に管理されますか?
    answer: >
      はい。
  - question: >
      データベース バックアップの実行頻度はどれくらいですか?
    answer: >
      Hyperscale データベースでは、従来の完全バックアップ、差分バックアップ、トランザクション ログ バックアップは存在しません。 代わりに、データ ファイルの定期ストレージ スナップショットがあります。 生成されたトランザクション ログは、構成された保持期間だけそのまま保持されます。 復元時には、関連するトランザクション ログ レコードが復元されたストレージ スナップショットに適用され、その結果、保有期間内の特定の時点での、データ損失のないトランザクション上一貫性のあるデータベースが作成されます。
  - question: >
      Hyperscale ではポイントインタイム リストアがサポートされますか?
    answer: >
      はい。
  - question: >
      Hyperscale でのデータベースの復元に対する回復ポイントの目標 (RPO) と目標復旧時間 (RTO) はどれくらいですか?
    answer: >
      ポイントインタイム リストアの RPO は 0 分です。ほとんどのポイントインタイム リストア操作は、データベース サイズにかかわらず、60 分以内に完了します。 大規模なデータベースの場合、および復元ポイントの前とそこに至るまでの時間に大量の書き込みアクティビティが発生した場合は、復元時間が長くなる可能性があります。
  - question: >
      データベースのバックアップは、プライマリ レプリカまたはセカンダリ レプリカでのコンピューティング パフォーマンスに影響しますか?
    answer: >
      いいえ。 バックアップはストレージ サブシステムによって管理され、ストレージ スナップショットを利用します。 ユーザー ワークロードには影響しません。
  - question: >
      Hyperscale データベースで geo リストアを実行できますか?
    answer: >
      はい。 geo リストアは完全にサポートされています。 ポイントインタイム リストアとは異なり、geo リストアでは、データ サイズに応じた操作が必要です。 データ ファイルは並行してコピーされるため、この操作の実行時間は、データベースの合計サイズではなく、データベース内の最大ファイルのサイズによって主に決まります。 ソース データベースのリージョンと[ペアリングされた](../../best-practices-availability-paired-regions.md) Azure リージョンでデータベースを復元した場合、Geo リストアの時間は大幅に短くなります。
  - question: >
      Hyperscale データベースでは geo レプリケーションを設定できますか?
    answer: >
      はい。 Hyperscale データベースの [geo レプリケーション](active-geo-replication-overview.md)は、パブリック プレビュー段階です。
  - question: >
      Hyperscale データベースのバックアップを取得し、それをオンプレミス サーバーまたは VM の SQL Server に復元できますか?
    answer: >
      いいえ。 ハイパースケール データベースのストレージ形式は、リリース バージョンの SQL Server とは異なります。バックアップの管理またはバックアップへのアクセスはできません。 ハイパースケール データベースからデータを取り出すには、Azure Data Factory、Azure Databricks、SSIS などのデータ移動テクノロジを使用して、データを抽出できます。
- name: 移行前後の機能に関する質問
  questions:
  - question: >
      Hyperscale サービス レベルに移行した後で使えなくなる機能がありますか?
    answer: >
      はい。 長期的なバックアップ リテンション期間を始めとする Azure SQL Database の一部の機能は、ハイパースケールではサポートされていません。 ハイパースケールにデータベースを移行した後、これらの機能は動作を停止します。 詳細については、「[既知の制限事項](service-tier-hyperscale.md#known-limitations)」を参照してください。
  - question: >
      PolyBase は Hyperscale で動作しますか?
    answer: >
      いいえ。 PolyBase は Azure SQL Database ではサポートされていません。
  - question: >
      Hyperscale では R と Python はサポートされていますか?
    answer: >
      現時点ではありません。
  - question: >
      計算ノードはコンテナー化されますか?
    answer: >
      いいえ。 ハイパースケール プロセスは、コンテナーではなく [Service Fabric](https://azure.microsoft.com/services/service-fabric/) ノード (VM) で実行されます。
- name: パフォーマンスに関する質問
  questions:
  - question: >
      Hyperscale データベースではどれくらいの書き込みスループットをプッシュできますか?
    answer: >
      すべてのハイパースケール コンピューティング サイズについて、トランザクション ログ スループットの制限は 100 MB/秒に設定されています。 この速度を達成する能力は、ワークロードの種類やクライアントの構成など、さまざまな要因によって異なります。また、この速度でログを生成できるだけのコンピューティング容量がプライマリ計算レプリカにあるかにも影響されます。
  - question: >
      最大のコンピューティングで得られる IOPS はどれくらいですか?
    answer: >
      IOPS と IO 待ち時間は、ワークロードのパターンによって異なります。 アクセスされているデータが、コンピューティング レプリカの RBPEX にキャッシュされている場合、Business Critical または Premium サービス レベルの場合と同様の IO パフォーマンスになります。
  - question: >
      スループットはバックアップの影響を受けますか?
    answer: >
      いいえ。 コンピューティングはストレージ レイヤーから切り離されます。 これによりパフォーマンスへのバックアップの影響がなくなります。
  - question: >
      追加の計算レプリカをプロビジョニングすると、スループットに影響がありますか?
    answer: >
      ストレージが共有されており、プライマリ計算レプリカとセカンダリ計算レプリカの間では物理的なレプリケーションが直接発生しないため、セカンダリ レプリカを追加しても、プライマリ レプリカ上のスループットが直接影響を受けることはありません。 ただし、プライマリ継続する活発な書き込みワークロードを調整して、セカンダリ レプリカとページ サーバー上でログを適用できます。これで遅れを取り戻し、セカンダリ レプリカ上での読み取りパフォーマンスの悪化を回避できます。
  - question: >
      ハイパースケールは、大量のリソースが消費される、実行時間の長いクエリやトランザクションに適していますか?
    answer: >
      はい。 ただし、滅多にありませんが、接続が一時的なエラーによって終了する場合があることに注意してください。これにより、実行時間の長いクエリが中止され、トランザクションがロールバックされる可能性があります。 一時的なエラーの原因の 1 つとして、コンピューティングやストレージ リソースの継続的可用性を確保したり、計画メンテナンスを実行したりするために、システムによってデータベースが別のコンピューティング ノードにすばやくシフトされる場合があります。 これらの再構成イベントの多くは、10 秒未満で終了します。 データベースに接続するアプリケーションは、再試行ロジックを実装することによって、これらの発生頻度の低い一時的なエラーを想定して許容するように構築する必要があります。 また、計画メンテナンスのために一時的なエラーが発生しないように、ワークロードのスケジュールに一致する[メンテナンス期間](maintenance-window.md)を構成することを検討してください。
  - question: >
      Hyperscale データベースでのパフォーマンスの問題は、どのようにして診断およびトラブルシューティングしますか?
    answer: >
      パフォーマンスに関する問題のほとんど、特にストレージ パフォーマンスに根差していない問題については、一般的な SQL の診断とトラブルシューティングの手順が適用されます。 ハイパースケール固有のストレージ診断については、「[SQL Hyperscale のパフォーマンスのトラブルシューティング診断](hyperscale-performance-diagnostics.md)」を参照してください。
- name: スケーラビリティに関する質問
  questions:
  - question: >
      計算レプリカのスケールアップとスケールダウンにかかる時間はどれくらいですか?
    answer: >
      コンピューティングのスケールアップまたはスケールダウンには、データ サイズに関係なく、通常、最大 2 分かかります。
  - question: >
      スケールアップまたはスケールダウン操作の進行中に、データベースはオフラインになりますか?
    answer: >
      いいえ。 スケールアップ/スケールダウンはオンラインで行われます。
  - question: >
      スケーリング操作の進行中に、接続が切断されることを予期する必要がありますか?
    answer: >
      スケールアップまたはスケールダウンによって既存の接続が切断されるのは、スケーリング操作の終了時にフェールオーバーが発生したときです。 セカンダリ レプリカを追加または削除しても、プライマリの接続は切断されません。
  - question: >
      計算レプリカのスケールアップとスケールダウンは、自動的に行われますか、それともエンド ユーザーが開始する操作ですか?
    answer: "エンドユーザー。 自動ではありません。  \n"
  - question: >
      コンピューティングがスケールアップされると、`tempdb` データベースと RBPEX キャッシュのサイズも増えますか?
    answer: >
      はい。 コンピューティング ノードの `tempdb` データベースと [RBPEX キャッシュ](service-tier-hyperscale.md#distributed-functions-architecture)のサイズは、コア数の増加に応じて自動的にスケールアップされます。 詳細については、[Hyperscale のストレージとコンピューティング サイズ](resource-limits-vcore-single-databases.md#hyperscale---provisioned-compute---gen5)に関するセクションを参照してください。
  - question: >
      複数のプライマリ コンピューティング ヘッドでより高レベルの同時実行を推進できる、複数のプライマリ計算レプリカ (マルチマスター システムなど) をプロビジョニングできますか?
    answer: >
      いいえ。 読み取り/書き込み要求を受け入れるのはプライマリ計算レプリカのみです。 セカンダリ計算レプリカは、読み取り専用要求のみを受け入れます。
- name: 読み取りスケールアウトに関する質問
  questions:
  - question: >
      Hyperscale では、どのような種類のセカンダリ (読み取りスケールアウト) レプリカを使用できますか?
    answer: >
      Hyperscale では、高可用性 (HA) レプリカ、名前付きレプリカ、および geo レプリカがサポートされます。 詳細については、「[Hyperscale セカンダリ レプリカ](service-tier-hyperscale-replicas.md)」を参照してください。
  - question: >
      セカンダリ HA レプリカをいくつプロビジョニングできますか?
    answer: >
      既定では、Hyperscale データベース用にセカンダリ HA レプリカが 1 つ作成されます。 レプリカの数を調整する場合は、[Azure portal](https://portal.azure.com) または [REST API](/rest/api/sql/databases/createorupdate) を使用します。
  - question: >
      セカンダリ HA レプリカに接続するには、どうすればよいですか?
    answer: >
      これらの追加読み取り専用計算レプリカに接続するには、接続文字列の `ApplicationIntent` 引数を `ReadOnly` に設定します。 `ReadOnly` でマークされたすべての接続は、セカンダリ HA レプリカのいずれかに自動的にルーティングされます (データベースに追加されている場合)。 詳細については、「[読み取り専用レプリカを使用して読み取り専用クエリ ワークロードをオフロードする](read-scale-out.md)」を参照してください。
  - question: >
      SSMS やその他のクライアント ツールを使用してセカンダリ計算レプリカに正常に接続したかどうかをどのように確認するか
    answer: >
      T-SQL クエリ `SELECT DATABASEPROPERTYEX ('<database_name>', 'Updateability')` を実行できます。 結果は、読み取り専用セカンダリ レプリカに接続されている場合は `READ_ONLY`、プライマリ レプリカに接続されている場合は `READ_WRITE` になります。 データベース コンテキストは、`master` データベースではなく、ハイパースケール データベースの名前に設定する必要があることに注意してください。
  - question: >
      セカンダリ HA レプリカ用の専用エンドポイントを作成できますか?
    answer: "いいえ。 `ApplicationIntent=ReadOnly` を指定することによって、HA レプリカだけに接続できます。 ただし、[名前付きレプリカ](service-tier-hyperscale-replicas.md#named-replica-in-preview)には専用エンドポイントを使用できます。 \n"
  - question: >
      HA レプリカの読み取りワークロードは、システムによってインテリジェントに負荷分散されますか?
    answer: >
      いいえ。 読み取り専用の意図との新しい接続は、任意の HA レプリカにリダイレクトされます。
  - question: >
      HA レプリカは、プライマリ レプリカとは独立してスケールアップまたはスケールダウンできますか?
    answer: >
      いいえ。 HA レプリカは高可用性フェールオーバー ターゲットとして使用されるため、フェールオーバ後、期待されるパフォーマンスを提供できるように、プライマリと同じ構成にする必要があります。 [名前付きレプリカ](service-tier-hyperscale-replicas.md#named-replica-in-preview)には、各レプリカを個別にスケーリングする機能があります。
  - question: >
      プライマリ計算レプリカと HA レプリカで、異なる `tempdb` サイズを設定できますか?
    answer: >
      いいえ。 `tempdb` データベースはプロビジョニングされたコンピューティング サイズに基づいて構成され、HA レプリカは、`tempdb` も含めて、プライマリ計算と同じサイズになります。 [名前付きレプリカ](service-tier-hyperscale-replicas.md#named-replica-in-preview)では、`tempdb` のサイズはレプリカのコンピューティング サイズに応じて設定されるため、プライマリの `tempdb` より小さくなったり大きくなったりすることがあります。
  - question: >
      セカンダリ計算レプリカにインデックスとビューを追加できますか?
    answer: >
      いいえ。 ハイパースケール データベースではストレージが共有されます。つまり、すべての計算レプリカは同じテーブル、インデックス、ビューを見ることができます。 読み取りに対して最適化したインデックスをセカンダリに追加したい場合は、プライマリに追加する必要があります。
  - question: >
      プライマリ計算レプリカとセカンダリ計算レプリカの間の遅延はどれくらいですか?
    answer: >
      トランザクションがプライマリ上でコミットされてからセカンダリで読み取り可能になるまでのデータ待機時間は、現在のログ生成速度、トランザクション サイズ、レプリカへの負荷、およびその他の要因によって異なります。 小規模なトランザクションの一般的なデータ待機時間は数十ミリ秒ですが、データ待機時間に上限はありません。 特定のセカンダリ レプリカのデータは、トランザクションに対して常に一貫性があります。 ただし、特定の時点でのデータの待機時間は、セカンダリ レプリカによって異なる場合があります。 コミットされたデータの読み取りが直ちに必要なワークロードは、プライマリ レプリカで実行される必要があります。
additionalContent: "\n## <a name=\"next-steps\"></a>次のステップ\n\nハイパースケール サービス レベルについて詳しくは、[ハイパースケール サービス レベル](service-tier-hyperscale.md)に関するページをご覧ください。"
