---
title: マイ アプリの構成を計画する
description: 組織内でマイ アプリを効果的に使用するための計画ガイド。
titleSuffix: Azure AD
services: active-directory
author: davidmu1
manager: CelesteDG
ms.service: active-directory
ms.subservice: app-mgmt
ms.topic: conceptual
ms.workload: identity
ms.date: 09/02/2021
ms.author: davidmu
ms.reviewer: lenalepa
ms.openlocfilehash: eb85784ff37e78557a510c1b09f5656294d50696
ms.sourcegitcommit: 1d56a3ff255f1f72c6315a0588422842dbcbe502
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/06/2021
ms.locfileid: "129615830"
---
# <a name="plan-azure-active-directory-my-apps-configuration"></a>Azure Active Directory マイ アプリの構成を計画する

> [!NOTE]
> この記事は、組織のマイ アプリ ポータルの構成を計画する必要がある IT プロフェッショナル向けです。
>
> **エンド ユーザー向けドキュメントについては、「[マイ アプリ ポータルからサインインしてアプリを開始する](https://support.microsoft.com/account-billing/sign-in-and-start-apps-from-the-my-apps-portal-2f3b1bae-0e5a-4a86-a33e-876fbd2a4510)」を参照してください**。

Azure Active Directory (Azure AD) のマイ アプリは、アプリの起動と管理を行うための Web ベースのポータルです。 [マイ アプリ] ページを使用すると、ユーザーは 1 か所で、作業を開始し、アクセスできるすべてのアプリケーションを見つけることができます。 ユーザーは [https://myapps.microsoft.com](https://myapps.microsoft.com/) でマイ アプリにアクセスします。

> [!VIDEO https://www.youtube.com/embed/atj6Ivn5m0k]

## <a name="why-configure-my-apps"></a>マイ アプリを構成する理由

マイ アプリ ポータルは、ユーザーが既定で使用でき、無効にすることはできません。 可能な最良のエクスペリエンスが得られるように、そしてポータルが継続して役に立つように構成することが重要です。

次の両方の条件が満たされている場合に、Azure Active Directory のエンタープライズ アプリケーションの一覧にあるアプリケーションが表示されます。

* アプリの可視性プロパティが true に設定されている。
* アプリが任意のユーザーまたはグループに割り当てられている。 割り当てられたユーザーに対して表示されます。

ポータルを構成すると、適切なユーザーが適切なアプリを簡単に見つけられるようになります。

### <a name="how-is-the-my-apps-portal-used"></a>マイ アプリ ポータルの利用方法

ユーザーは以下のためにマイ アプリ ポータルにアクセスします。

* 組織の Azure AD 接続アプリケーションで自分がアクセスできるものすべてを検出してアクセスする。
   * ユーザーに最良のエクスペリエンスを提供できるように、アプリが確実にシングル サインオン (SSO) 用に構成されているようにすることをお勧めします。
* セルフサービス用に構成された新しいアプリへのアクセス権を要求する。
* 個人用のアプリのコレクションを作成する。
* アプリケーションへのアクセスを許可するために使用されるグループのグループ所有者ロールが割り当てられているか、制御を委任されている場合に、他のユーザーのアプリへのアクセスを管理する。

管理者は以下を構成できます。

* サービス使用条件をはじめとする[同意エクスペリエンス](../manage-apps/configure-user-consent.md)。
* [セルフサービスによるアプリケーションの検出とアクセスの要求](../manage-apps/access-panel-manage-self-service-access.md)。
* [アプリケーションのコレクション](../manage-apps/access-panel-collections.md)。
* アプリケーションへのアイコンの割り当て
* アプリケーションのユーザー フレンドリ名
* マイ アプリに表示される会社のブランド

## <a name="plan-consent-configuration"></a>同意の構成を計画する

### <a name="user-consent-for-applications"></a>アプリケーションに対するユーザーの同意

ユーザーがアプリケーションにサインインして、アプリケーションが組織のデータにアクセスできるようにするには、ユーザーまたは管理者が事前にアプリケーションにアクセス許可を付与する必要があります。 ユーザーの同意が許可されるかどうか、およびどの条件に基づくかを構成できます。 **Microsoft では、検証済みの発行元からのアプリケーションに対してのみユーザーの同意を許可することをお勧めします。**

詳細については、「[エンドユーザーがアプリケーションに同意する方法を構成する](../manage-apps/configure-user-consent.md)」を参照してください

### <a name="group-owner-consent-for-apps-accessing-data"></a>アプリがデータにアクセスすることへのグループ所有者の同意

グループ所有者とチーム所有者は、アプリケーション (たとえば、サードパーティ ベンダーによって発行されたアプリケーション) が、グループに関連付けられている組織のデータにアクセスすることを承認できます。 詳細については、「[Microsoft Teams でのリソース固有の同意](/microsoftteams/resource-specific-consent)」を参照してください。

この機能を許可するか無効にするかを構成できます。

詳細については、[グループに対する同意の許可の構成](../manage-apps/configure-user-consent-groups.md)に関するページを参照してください。

### <a name="plan-communications"></a>連絡を計画する

コミュニケーションは、新しいサービスの成功に必要不可欠です。 ユーザーのエクスペリエンスがいつ、どのように変化するか、また必要に応じてサポートを受ける方法を事前にユーザーに通知します。

通常、マイ アプリが原因でユーザー側の問題が発生することはありませんが、準備をすることは重要です。 立ち上げの前に、サポート担当者向けのガイドおよび全リソースの一覧を作成します。

#### <a name="communications-templates"></a>連絡テンプレート

Microsoft は、マイ アプリに関する[電子メールやその他の連絡用のカスタマイズ可能なテンプレート](https://aka.ms/APTemplates)を提供しています。 これらのアセットは、他の連絡チャネルで使用するために、企業のカルチャに合わせて改変することができます。

## <a name="plan-your-sso-configuration"></a>自分の SSO 構成を計画する

ユーザーが資格情報を入力しなくてもシームレスなエクスペリエンスを実現できるように、マイ アプリ ポータルのすべてのアプリで SSO が有効になっていれば最適です。

Azure AD は、複数の SSO オプションをサポートします。

* 詳細については、「[Azure AD のシングル サインオン オプション](sso-options.md)」を参照してください。
* アプリの ID プロバイダーとして Azure AD を使用する方法については、[アプリケーション管理に関するクイックスタート シリーズ](../manage-apps/view-applications-portal.md)を参照してください。

### <a name="use-federated-sso-if-possible"></a>可能な場合はフェデレーション SSO を使用する

[マイ アプリ] ページで最適なユーザー エクスペリエンスを実現するには、まずフェデレーション シングル サインオン (SSO) (OpenID Connect または SAML) で使用できるクラウド アプリケーションの統合から始めます。 フェデレーション SSO を使用すると、ユーザーはアプリケーションのサインイン時に一貫したワンクリック エクスペリエンスが得られ、構成制御がより堅牢になる傾向があります。

アプリケーションのシングル サインオンの構成の詳細については、「[シングル サインオンのデプロイを計画する](plan-sso-deployment.md)」を参照してください。

### <a name="considerations-for-special-sso-circumstances"></a>特殊な SSO 環境に関する考慮事項

> [!TIP]
> ユーザー エクスペリエンス向上のため、パスワード ベースの SSO や ADFS ではなく、この方法をアプリケーションがサポートしている場合は、Azure AD (OpenID Connect または SAML) を用いたフェデレーション SSO を使用します。

パスワードベースの SSO アプリケーション、または Azure AD アプリケーション プロキシによってアクセスされるアプリケーションにサインインするには、ユーザーはマイ アプリのセキュリティで保護されたサインイン拡張機能をインストールして使用する必要があります。 ユーザーは、パスワードベースの SSO またはアプリケーション プロキシ アプリケーションを最初に起動するときに、この拡張機能のインストールを求められます。

![スクリーンショット](./media/my-apps-deployment-plan/ap-dp-install-myapps.png)

拡張機能の詳細については、[マイ アプリのブラウザー拡張機能のインストール](https://support.microsoft.com/account-billing/sign-in-and-start-apps-from-the-my-apps-portal-2f3b1bae-0e5a-4a86-a33e-876fbd2a4510)に関するページを参照してください。

このようなアプリケーションを統合する必要がある場合、[サポートされているブラウザー](https://support.microsoft.com/account-billing/sign-in-and-start-apps-from-the-my-apps-portal-2f3b1bae-0e5a-4a86-a33e-876fbd2a4510)を使用して拡張機能を大規模にデプロイするためのメカニズムを定義する必要があります。 次のオプションがあります。

* [Chrome、Firefox、Microsoft Edge、IE 用のユーザー主導のダウンロードおよび構成](../user-help/my-apps-portal-end-user-access.md)
* [Internet Explorer の Configuration Manager](/mem/configmgr/core/clients/deploy/deploy-clients-to-windows-computers)

この拡張機能を使用すると、ユーザーはその検索バーから任意のアプリを起動し、最近使ったアプリケーションへのアクセスを検索したり、[マイ アプリ] ページへのリンクを使用したりできます。

![マイ アプリ拡張機能の検索のスクリーンショット](./media/my-apps-deployment-plan/my-app-extsension.png)

#### <a name="plan-for-mobile-access"></a>モバイル アクセスの計画

パスワードベースの SSO を使用するか、[Microsoft Azure AD アプリケーション プロキシ](../app-proxy/application-proxy.md)によってアクセスされるアプリケーションには、Microsoft Edge モバイルを使用する必要があります。 その他のアプリケーションには、任意のモバイル ブラウザーを使用できます。

### <a name="linked-sso"></a>リンクされた SSO

アプリケーションはリンクされた SSO オプションを使用して追加できます。 既存の Web アプリケーションの URL にリンクするアプリケーション タイルを構成できます。 リンクされた SSO を使用すると、すべてのアプリケーションを Azure AD SSO に移行することなく、[マイ アプリ] ポータルにユーザーを誘導することができます。 ユーザーのエクスペリエンスを損なうことなく、Azure AD SSO が構成されたアプリケーションに段階的に移行できます。

## <a name="plan-the-user-experience"></a>ユーザー エクスペリエンスを計画する

既定では、ユーザーがアクセス権を持っているすべてのアプリケーションと、セルフサービス検出用に構成されているすべてのアプリケーションが、ユーザーの [マイ アプリ] パネルに表示されます。 多くの組織にとって、これは非常に大規模なリストになる可能性があり、整理されていないと面倒です。

### <a name="plan-my-apps-collections"></a>マイ アプリ コレクションを計画する

ユーザーがアクセス権を持っているすべての Azure AD アプリケーションが、マイ アプリの **[アプリ]** コレクションに表示されます。 コレクションを使用して関連するアプリケーションをグループ化し、別々のタブで表示すれば、アプリケーションが見つけやすくなります。 たとえば、コレクションを使用して、特定の担当業務、タスク、プロジェクトなどに関連したアプリケーションの論理グループを作成することができます。

エンド ユーザーは、次のようにしてエクスペリエンスをカスタマイズすることもできます。

* 自分用のアプリ コレクションを作成する。
* [アプリ コレクションの非表示と並べ替え](access-panel-collections.md)を行う。

![セルフサービス構成のスクリーンショット](./media/my-apps-deployment-plan/collections.png)

マイ アプリ ポータルからアプリを非表示にしながら、Microsoft 365 ポータルなどの他の場所からのアクセスを許可することもできます。 詳細情報:[Azure Active Directory でユーザーのエクスペリエンスからアプリケーションを非表示にする](hide-application-from-user-portal.md)。

> [!IMPORTANT]
> マイ アプリを使用してアクセスできるのは、ユーザーがアクセスできる 950 個のアプリだけです。 これには、ユーザーまたは管理者によって非表示にされたアプリも含まれます。

### <a name="plan-self-service-group-management-membership"></a>セルフサービス グループ管理のメンバーシップを計画する

Azure AD では、独自のセキュリティ グループまたは Microsoft 365 グループを作成して管理することができます。 グループの所有者は、メンバーシップ要求を承認または拒否できます。また、グループ メンバーシップの制御を委任できます。 セルフサービス グループ管理機能は、メールを有効にしたセキュリティ グループまたは配布リストでは使用できません。

セルフサービスのグループ メンバーシップを計画するには、組織内のすべてのユーザーにグループの作成と管理を許可するか、それとも一部のユーザーのみに許可するかを決定します。 一部のユーザーを許可する場合、それらのユーザーの追加先となるグループを設定する必要があります。

これらのシナリオを有効にする方法の詳細については、「[Azure Active Directory でのセルフサービス グループ管理の設定](../enterprise-users/groups-self-service-management.md)」を参照してください。

### <a name="plan-self-service-application-access"></a>アプリケーションのセルフサービス アクセスを計画する

ユーザーが [マイ アプリ] パネルを使用してアプリケーションを検出し、アクセスを要求できるようにすることができます。 これを行うには、最初に次のことを行います。

* セルフサービス グループ管理を有効にする
* アプリの SSO を有効にする
* アプリケーション アクセス用のグループを作成する

![マイ アプリのセルフサービス構成のスクリーンショット](./media/my-apps-deployment-plan/my-apps-self-service.png)

ユーザーがアクセスを要求するとき、要求しているのは基になるグループへのアクセスです。グループの所有者は、グループ メンバーシップつまりアプリケーション アクセスを管理するための許可を委任できます。 承認ワークフローは、アプリケーションにアクセスするための明示的な承認に使用できます。 承認者であるユーザーは、アプリケーションへのアクセス要求が保留中になっていると、[マイ アプリ] ポータル内で通知を受け取ります。

## <a name="plan-reporting-and-auditing"></a>レポートと監査を計画する

Azure AD には、[技術やビジネスの分析情報を提供するレポート]../reports-monitoring/overview-reports.md) が用意されています。 ビジネスおよび技術アプリケーションの所有者と協力して、定期的にこれらのレポートの所有権を引き受け、使用します。 次の表に、一般的なレポート シナリオの例をいくつか示します。

| 例| リスクの管理| 生産性の向上| ガバナンスとコンプライアンス |
| - | - | - | -|
| レポートの種類| アプリケーションのアクセス許可と使用状況| アカウント プロビジョニングのアクティビティ| アプリケーションにアクセス中のユーザーの確認 |
| 潜在的なアクション| アクセスの監査。アクセス許可の取り消し| プロビジョニング エラーの修復| アクセス権の取り消し |

Azure AD は、ほとんどの監査データを 30 日間保持します。 データは、Azure 管理ポータルまたは API を使用して、分析システムにダウンロードできます。

#### <a name="auditing"></a>監査

アプリケーション アクセスの監査ログは 30 日間使用できます。 それよりも長いデータ保持期間が組織に必要な場合、Splunk や ArcSight などのセキュリティ情報イベントおよび管理 (SIEM) ツールにログをエクスポートする必要があります。

監査、レポート、ディザスター リカバリーのバックアップについて、必要なダウンロード頻度、ターゲット システム、各バックアップの管理責任者を文書化します。 監査とレポートのバックアップは分けなくてもよい場合があります。 ディザスター リカバリーのバックアップは独立している必要があります。

## <a name="validate-your-deployment"></a>デプロイを検証する

確実に、マイ アプリのデプロイについての十分なテストと、ロールバック計画が策定されているようにします。

企業所有のデバイスと個人のデバイスの両方で、以下のテストを実施します。 これらのテスト ケースには、ビジネスのユース ケースも反映させる必要があります。 一般的な技術シナリオに基づいて、いくつかのケースを次に示します。 読者のニーズに固有である他のケースを追加してください。

#### <a name="application-sso-access-test-case-examples"></a>アプリケーションの SSO アクセスのテスト ケース例:

| ビジネス ケース| 予想される結果 |
| - | - |
| ユーザーが [マイ アプリ] ポータルにサインインする| ユーザーはサインインして自分のアプリケーションを表示できる |
| ユーザーがフェデレーション SSO アプリケーションを起動する| ユーザーは自動的にアプリケーションにサインインする |
| ユーザーが初めてパスワード SSO アプリケーションを起動する| ユーザーは [マイ アプリ] 拡張機能をインストールする必要がある |
| ユーザーが後からパスワード SSO アプリケーションを起動する| ユーザーは自動的にアプリケーションにサインインする |
| ユーザーが Microsoft 365 ポータルからアプリを起動する| ユーザーは自動的にアプリケーションにサインインする |
| ユーザーが Managed Browser からアプリを起動する| ユーザーは自動的にアプリケーションにサインインする |

#### <a name="application-self-service-capabilities-test-case-examples"></a>アプリケーションのセルフサービス機能のテスト ケースの例

| ビジネス ケース| 予想される結果 |
| - | - |
| ユーザーはアプリケーションのメンバーシップを管理できる| ユーザーはアプリにアクセスできるメンバーを追加/削除できる |
| ユーザーはアプリケーションを編集できる| ユーザーはパスワード SSO アプリケーションの説明と資格情報を編集できる |

### <a name="rollback-steps"></a>手順をロールバックする

お客様のデプロイが想定どおりに行われない場合にどうするかを計画することは重要です。 デプロイ時に SSO の構成に失敗した場合に、[SSO の問題をトラブルシューティング](../hybrid/tshoot-connect-sso.md)してユーザーへの影響を軽減する方法を理解する必要があります。 極端な状況では、[SSO のロール バック](plan-sso-deployment.md)が必要になる場合があります。

## <a name="manage-your-implementation"></a>実装を管理する

Azure Active Directory 内で必要なタスクを実行するには、最小限の特権ロールを使用します。 [使用できるさまざまなロールを確認](../roles/permissions-reference.md)して、このアプリケーションの各ペルソナのニーズを満たすのに適したものを選択してください。 場合によっては、一部のロールは、一時的に適用してデプロイが完了した後で削除する必要があります。

| ペルソナ| ロール| Azure AD ロール |
| - | - | - |
| ヘルプデスク管理者| Tier 1 サポート| なし |
| ID 管理者| Azure AD に影響を与える問題が発生した場合の構成とデバッグ| 全体管理者 |
| アプリケーション管理者| アプリケーションでのユーザーの構成証明、アクセス許可を持つユーザーの構成| なし |
| インフラストラクチャ管理者| 証明書のロール オーバー所有者| 全体管理者 |
| ビジネスの所有者/利害関係者| アプリケーションでのユーザーの構成証明、アクセス許可を持つユーザーの構成| なし |

[Privileged Identity Management](../privileged-identity-management/pim-configure.md) を使用してロールを管理し、ディレクトリのアクセス許可を持つユーザーに対する追加の監査、制御、およびアクセス レビューを提供することができます。

## <a name="next-steps"></a>次のステップ

[Azure AD Multi-Factor Authentication のデプロイを計画する](../authentication/howto-mfa-getstarted.md)

[アプリケーション プロキシのデプロイ計画](../app-proxy/application-proxy-deployment-plan.md)