---
title: Azure で ISV ファイル サービスを実行する場合の考慮事項
titleSuffix: Azure Storage
description: Azure でのファイル サービスの実行に関するさまざまな ISV オプションについての基本的なガイダンス
author: dukicn
ms.author: nikoduki
ms.topic: conceptual
ms.date: 05/24/2021
ms.service: storage
ms.subservice: common
ms.openlocfilehash: 8b49504fdda0b065b28b90f946dd203716933745
ms.sourcegitcommit: 7d63ce88bfe8188b1ae70c3d006a29068d066287
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/22/2021
ms.locfileid: "114446138"
---
# <a name="running-isv-file-services-in-azure"></a>Azure での ISV ファイル サービスの実行

Azure には、ファイル データを格納するためのさまざまなオプションが用意されています。 Azure のネイティブ サービスは次のとおりです。
- [Azure Files](https://azure.microsoft.com/services/storage/files/) – 業界標準の SMB および NFS プロトコルを介してアクセスできる、クラウドのフル マネージド ファイル共有。 Azure Files には、パフォーマンス特性が異なる 2 つの種類 (Standard、Premium) が用意されています。
- [Azure NetApp Files](https://azure.microsoft.com/services/netapp/) – エンタープライズの基幹業務アプリケーションのパフォーマンス要件を満たすように設計された、クラウドのフル マネージド ファイル共有。 Azure NetApp Files には、パフォーマンスの制限が異なる複数のサービス レベル (Standard、Premium、Ultra) が用意されています。
- [Azure Blob Storage](https://azure.microsoft.com/services/storage/blobs/) – 非構造化データを格納するための大規模なオブジェクト ストレージ プラットフォーム。 Azure Blob Storage には、パフォーマンス特性が異なる 2 つの種類 (Standard、Premium) が用意されています。 
  
ネイティブ ファイル サービスの選択に関する違いと推奨事項について説明されている記事がいくつかあります。 詳細については以下を参照してください。
- 移行ガイドでは、[基本的なフロー チャート](../../../common/storage-migration-overview.md#choose-a-target-storage-service)について説明されています
- [Azure Files と Azure NetApp Files の詳細な比較](../../../files/storage-files-netapp-comparison.md)

多くの独立系ソフトウェア ベンダー (ISV) ソリューションでは、Azure でファイル サービスを提供できます。 この記事では、次の 2 つのトピックについて説明します。
- ファイル サービスの選択に関する一般的な考慮事項について説明します
- ISV ソリューションの違いについて説明します。
  
検証済みの ISV ソリューションの完全な一覧については、「[プライマリおよびセカンダリ ストレージの Azure Storage パートナー](./partner-overview.md)」を参照してください。

## <a name="considerations"></a>考慮事項

Azure でファイル サービスを実行する最適なソリューションを選択するときに重要な考慮事項がいくつかあります。

### <a name="basic-considerations"></a>基本的な考慮事項

基本的な機能に関する考慮事項では、基になるストレージ プラットフォームの最も一般的な機能を調べます。 このステップを最初に行って、要件を満たすために必要な基本的な機能が提供されるソリューションを確認します。 重要な基本機能は、状況によって異なります。 最も一般的なものは、プロトコルのサポート、名前空間のサイズ、自動階層化、暗号化、WORM のサポート、認証です。 ISV ソリューションでサポートされている基本的な機能の一覧は、[機能の比較](#isv-solutions-comparison)で確認できます。

### <a name="performance-considerations"></a>パフォーマンスに関する考慮事項

基本機能を満たすソリューションを選択した後は、必要なパフォーマンスを考慮する必要があります。 パフォーマンスの適合を見積もる方法は、次の 3 つの基本的なパフォーマンス特性に基づきます。
  - 待機時間
  - 帯域幅
  - IOPS または TPS

基本的なパフォーマンス特性の重要性は、ワークロードのコンカレンシー (並列要求の数) とブロック サイズ (要求のサイズ) によって異なります。

| ワークロードの種類 | Recommendations |
| -------------------- | --------------- |
| **コンカレンシーの低下** | 待機時間が最も重要な考慮事項です。 待機時間が短いほど、より高いパフォーマンスを実現できます。 コンカレンシーが低いワークロードでは、IOPS と帯域幅の制限に達することはほとんどありません |
| **高コンカレンシー** | コンカレンシーが高いので、待機時間の影響ははるかに小さくなります。 IOPS や帯域幅を考慮する必要があります。 |
| **ブロック サイズ** | ブロック サイズが小さいワークロードでは、IOPS の制限を考慮する重要性が増しますが、ブロック サイズが大きいワークロードでは、帯域幅の制限の方が重要です。 |

すべてのストレージ ワークロードは、これらの特性を念頭に置いて説明できます。 たとえば、OLTP ワークロードは、通常、コンカレンシーは高く、ブロック サイズは小さくなります。 HPC ワークロードは、通常、コンカレンシーは高くなりますが、ブロック サイズは小さいものから大きいものまでさまざまです。 
    
いくつかの一般的なルールは常に推奨されます。
  - プロトコルの選択: パフォーマンスが向上するので、可能であれば、マルチチャネルをサポートする SMB3 または nconnect をサポートする NFSv3 を使用します。 パフォーマンスだけでなく、セキュリティに関する考慮からも、レガシ プロトコルは使用しないようにします。 また、クライアントをチューニングすることもでき、パフォーマンスを最大化することが推奨されることにも注意してください。
  - ネットワーク: VM の種類でサポートされている場合は、高速ネットワークを使用します。 待機時間が短縮され、パフォーマンスに対して常によい影響があります。 
  - VM の種類: ワークロードに最も適した VM の種類を選択します。 ワークロードのクライアント数が少ない場合は、より少ない数の大きい VM でファイル サービスを実行する方が適しています。 これに対し、クライアントの数が多い場合は、より多くの小さい VM でファイル サービスを実行するとメリットがある可能性があります。
  - コンカレンシーが低く、ブロック サイズが小さいワークロードの場合は、次のようなソリューションを調べます。
    - マネージド ディスク (Premium または Ultra SSD ディスク) を使用する、または
    - 適切なキャッシュ アルゴリズムを備えている
  - コンカレンシーが高く、ブロック サイズが大きいワークロードの場合は、バックエンドとして Azure Blob Storage を使用するソリューションを調べます

## <a name="isv-solutions-overview-and-example-use-cases"></a>ISV のソリューション: 概要とユース ケースの例

この記事では、Azure でファイル サービスを提供する複数の ISV ソリューションを比較します。

| 解決策 | 概要 | ユース ケースの例 |
| -------- | ----------- | ----------------- |
| **Nasuni** | **UniFS** は、Microsoft Azure 上に構築された、よりシンプルで低コストのクラウド代替手段です | - プライマリ ファイル ストレージ <br> - 部門ファイル共有 <br> - 一元化されたファイル管理 <br> - グローバル ファイル ロックを使用したマルチサイト コラボレーション <br> - Windows Virtual Desktop <br> - リモート作業および VDI ファイル共有 |
| **NetApp** | **Cloud Volumes ONTAP** を使用すると、データ保護、セキュリティ、コンプライアンスが強化される一方で、クラウド ストレージのコストとパフォーマンスが最適化されます。 エンタープライズ レベルのデータ管理、可用性、耐久性が含まれます | - ビジネス アプリケーション <br> - リレーショナルおよび NoSQL データベース <br> - ビッグ データおよび分析 <br> - コンテナー用の永続的データ <br> - CI/CD パイプライン <br> - オンプレミスの NetApp ソリューション用のディザスター リカバリー |
| **Panzura**| **CloudFS** は、エンタープライズ グローバル ファイル システムであり、回復性とパフォーマンスが向上しています。 ランサムウェア対策を提供します。 | - レガシ ストレージの交換の簡素化 <br> - きめ細かい復旧機能を備えたバックアップとディザスター リカバリー <br> - 分析と AI/ML 用の非構造化データへのクラウド ネイティブ アクセス。 <br> - 自動ファイル ロックとリアル タイムのグローバル ファイルの一貫性を備えたマルチサイト ファイル コラボレーション <br> - クラウド VDI を使用したグローバル リモート作業 <br> - レガシ ワークロード向けの高速クラウド移行 |
| **Tiger Technology** | **Tiger Bridge** は、データ管理ソフトウェア ソリューションです。 NTFS ファイル システムと Azure Blob Storage または Azure マネージド ディスクの間の階層化を提供します。 ローカル ファイル ロックを使用して 1 つの名前空間を作成します。 | - クラウド アーカイブ<br> - 継続的データ保護 (CDP) <br> - Windows サーバー用のディザスター リカバリー <br> - マルチサイト同期とコラボレーション <br> - リモート ワークフロー (VDI)<br> - Analytics、AI、ML のクラウド データへのネイティブ アクセス |
| **XenData** | **Cloud File Gateway** では、Windows ファイル サーバーを使用して、拡張性の高いグローバル ファイル システムが作成されます | - エンジニアリング ファイルと科学ファイルのグローバル共有 <br> - 共同作業によるビデオ編集 |

## <a name="isv-solutions-comparison"></a>ISV ソリューションの比較

### <a name="supported-protocols"></a>サポートされるプロトコル

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **SMB 2.1**                                         | はい                  | はい                            | はい                       | はい                   | はい                   |
| **SMB 3.0**                                         | はい                  | はい                            | はい                       | はい                   | はい                   |
| **SMB 3.1**                                         | はい                  | はい                            | はい                       | はい                   | はい                   |
| **NFS v3**                                          | はい                  | はい                            | はい                       | はい                   | はい                   |
| **NFS v4.1**                                        | はい                  | はい                            | はい                       | はい                   | はい                   |
| **iSCSI**                                           | いいえ                   | はい                            | いいえ                        | はい                   | いいえ                    |

### <a name="supported-services-for-persistent-storage"></a>永続的ストレージでサポートされるサービス

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **マネージド ディスク**                                   | いいえ                   | はい                            | はい                       | はい                   | いいえ                    |
| **アンマネージド ディスク**                                 | いいえ                   | いいえ                             | いいえ                        | はい                   | いいえ                    |
| **Azure Storage ブロック BLOB**                       | はい                  | はい (階層化)                  | はい                       | はい                   | はい                   |
| **Azure Storage ページ BLOB**                        | いいえ                   | はい (HA の場合)                   | はい                       | いいえ                    | いいえ                    |
| **Azure アーカイブ層のサポート**                      | いいえ                   | いいえ                             | はい                       | はい                   | はい                   |
| **非透過形式でアクセス可能なファイル**           | いいえ                   | いいえ                             | いいえ                        | はい                   | はい                   |

### <a name="extended-features"></a>拡張された機能

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **動作環境**                           | UniFS                | ONTAP                          | PFOS                      | Windows Server        | Windows Server              |
| **高可用性**                               | はい                  | はい                            | はい                       | はい (セットアップが必要)  | はい                   |
| **クラスター内のノード間の自動フェールオーバー** | はい                  | はい                            | はい                       | はい (Windows クラスター) | はい (Windows クラスター) |
| **可用性ゾーン間の自動フェールオーバー**    | はい                  | いいえ                             | はい                       | はい (Windows クラスター) | はい (Windows クラスター) |
| **リージョン間の自動フェールオーバー**               | はい (Nasuni サポートあり)| いいえ                         | いいえ                        | はい (Windows クラスター) | はい (Windows クラスター) |
| **スナップショット サポート**                                | はい                  | はい                            | はい                       | はい                   | いいえ                    |
| **整合スナップショットのサポート**                     | はい                  | はい                            | はい                       | はい                   | いいえ                    |
| **統合バックアップ**                               | はい                  | はい (アドオン)                   | いいえ                        | はい                   | はい                   |
| **バージョン管理**                                      | はい                  | はい                            | いいえ                        | はい                   | はい                   |
| **ファイル レベルの復元**                              | はい                  | はい                            | はい                       | はい                   | はい                   |
| **ボリューム レベルの復元**                            | はい                  | はい                            | はい                       | はい                   | はい                   |
| **WORM**                                            | はい                  | はい                            | いいえ                        | はい                   | いいえ                    |
| **自動階層化**                               | はい                  | はい                            | いいえ                        | はい                   | はい                   |
| **グローバル ファイル ロック**                             | はい                  | はい (NetApp グローバル ファイル キャッシュ) | はい                       | はい                   | はい                   |
| **バックエンド ソースに対する名前空間の集計**      | はい                  | はい                            | いいえ                        | はい                   | はい                   |
| **アクティブなデータのキャッシュ**                          | はい                  | はい                            | はい                       | はい                   | ○                   |
| **サポートされるキャッシュ モード**                         | LRU、手動固定 | LRU (LRU)                            | LRU、手動固定      | LRU (LRU)                   | LRU (LRU)                   |
| **保存時の暗号化**                              | はい                  | はい                            | はい                       | はい                   | いいえ                    |
| **重複除去**                                  | はい                  | はい                            | はい                       | いいえ                    | いいえ                    |
| **圧縮**                                     | はい                  | はい                            | はい                       | いいえ                    | いいえ                    |

### <a name="authentication-sources"></a>認証ソース

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **Azure AD でのサポート**                                | はい (ADDS 経由)       | はい (ADDS 経由)                 | はい (ADDS 経由)            | はい (ADDS 経由)        | はい (ADDS 経由)        |
| **Active Directory のサポート**                        | はい                  | はい                            | はい                       | はい                   | はい                   |
| **LDAP のサポート**                                    | はい                  | はい                            | いいえ                        | はい                   | はい                   |

### <a name="management"></a>管理

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **REST API**                                        | はい                  | はい                            | はい                       | はい                   | いいえ                    |
| **Web GUI**                                         | はい                  | はい                            | はい                       | いいえ                    | いいえ                    |

### <a name="scalability"></a>スケーラビリティ

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **1 つのクラスター内のノードの最大数**     | 100                  | 2 (HA)                         | 最大 60 ノードまでテスト済み    | 該当なし                 | 該当なし                 |
| **ボリュームの最大数**                       | 800                  | 1024                           | 無制限                 | 該当なし                 | 1                     |
| **スナップショットの最大数**                     | 無制限            | 無制限                      | 無制限                 | 該当なし                 | 該当なし                 |
| **1 つの名前空間の最大サイズ**              | 無制限            | インフラストラクチャに依存      | 無制限                 | 該当なし                 | 該当なし                 |

### <a name="licensing"></a>ライセンス

|                                                     | Nasuni               | NetApp CVO                     | Panzura                   | Tiger Technology      | XenData               |
|-----------------------------------------------------|----------------------|--------------------------------|---------------------------|-----------------------|-----------------------|
| **BYOL**                                            | はい                  | はい                            | はい                       | はい                   | はい                   |
| **Azure ベネフィット対象**                          | いいえ                   | はい                            | はい                       | いいえ                    | いいえ                    |
| **デプロイ モデル (IaaS、SaaS)**                   | IaaS                 | IaaS                           | IaaS                      | IaaS                  | IaaS                  |

### <a name="other-features"></a>その他の機能

**Nasuni**
- [Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/nasunicorporation.nasuni-nea-90-prod?tab=Overview)
- マネージド ディスクを使用してデータをキャッシュできる
- すべてのエッジ アプライアンスの一元管理
- 無制限のファイル バージョン管理履歴
- 無制限のファイル システム サイズ
- 無制限のファイル サイズ
- HTTPS、REST API、FTP 経由でファイルにアクセスする
- Azure Load Balancer を使用して複数のファイラー間で負荷を分散する
- カスタマー マネージド キーを使用した暗号化
- サードパーティのセキュリティおよび監査ツール (Varonis、Stealthbits など) をサポートする
- ホワイト グローブ デプロイとプロフェッショナル サービス

**NetApp**
- [Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/netapp.netapp-ontap-cloud?tab=Overview)
- インフラストラクチャの使用量の削減によって顧客に渡される重複除去の削減

**Panzura**
- [Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/panzura-file-system.panzura-freedom-filer)
- バイト レベルのロック (複数の同時 R/W オープン)

**Tiger Technology**
- アプリケーションに認識されない
- 部分復元
- Windows シェルの統合 (オーバーレイ、コンテキスト メニュー、プロパティ シート)
- Azure の論理的な削除と削除の取り消しのサポート
- クラウド ターゲットに名前変更を適用するオプション
- オブジェクトへの部分的な書き込み
- [ランサムウェア防止]

**XenData**
- Cosmos DB サービスにより、グローバル コラボレーション用のアプリケーション固有の所有者ファイルなど、複数のゲートウェイの高速同期が提供される 
- ゲートウェイごとに、ローカルにキャッシュされるコンテンツを細かく制御できる
- ビデオ ストリーミングと部分的なファイル復元をサポートする
- Azure Data Box のアップロードのサポート
- Azure Blob Storage によって提供される暗号化

## <a name="next-steps"></a>次のステップ

詳細情報:

- [Azure ディスク](../../../../virtual-machines/managed-disks-overview.md)
- [Azure Blob Storage](https://azure.microsoft.com/services/storage/blobs/)
- [プライマリおよびセカンダリ ストレージに関する検証済みパートナー](./partner-overview.md)
- [Storage の移行の概要](../../../common/storage-migration-overview.md)
