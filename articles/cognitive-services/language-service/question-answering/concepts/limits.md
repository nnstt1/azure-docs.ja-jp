---
title: 制限と境界 - 質問応答
description: 質問応答には、ナレッジ ベースとサービスの一部について、メタデータの制限があります。 テストして発行するためには、これらの制限内にナレッジ ベースを維持することが重要です。
ms.service: cognitive-services
ms.subservice: language-service
author: mrbullwinkle
ms.author: mbullwin
ms.topic: conceptual
ms.date: 11/02/2021
ms.openlocfilehash: 185a76aeb4aeeadf4fea9b0b316b5905b1f598a5
ms.sourcegitcommit: 702df701fff4ec6cc39134aa607d023c766adec3
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2021
ms.locfileid: "131478002"
---
# <a name="project-limits-and-boundaries"></a>プロジェクトの制限と境界

以下に示す質問応答の制限は、[Azure Cognitive Search の価格レベルの制限](../../../../search/search-limits-quotas-capacity.md)と質問応答の制限を組み合わせたものです。 両方の制限のセットが、リソースごとに作成できるナレッジ ベースの数と各ナレッジ ベースを拡張できる限度に影響します。

## <a name="knowledge-bases"></a>ナレッジ ベース

ナレッジ ベースの最大数は、[Azure Cognitive Search レベルの制限](../../../../search/search-limits-quotas-capacity.md)に基づきます。

|**Azure Cognitive Search レベル** | **Free** | **Basic** |**S1** | **S2**| **S3** |**S3 HD**|
|---|---|---|---|---|---|----|
|許可される発行済みナレッジ ベースの最大数|2|14|49|199|199|2,999|

 たとえば、レベルに 15 個の許可されたインデックスがある場合、14 個のナレッジ ベースを発行できます (発行されたナレッジ ベースあたり 1 インデックス)。 15 番目のインデックス `testkb` は、作成およびテスト用にすべてのナレッジ ベースで使用されます。

## <a name="extraction-limits"></a>抽出の制限

### <a name="file-naming-constraints"></a>ファイルの名前付けの制約

ファイル名に次の文字を含めることはできません。

|使用できない文字|
|--|
|単一引用符 `'`|
|二重引用符 `"`|

### <a name="maximum-file-size"></a>ファイルの最大サイズ

|Format|最大ファイル サイズ (MB)|
|--|--|
|`.docx`|10|
|`.pdf`|25|
|`.tsv`|10|
|`.txt`|10|
|`.xlsx`|3|

### <a name="maximum-number-of-files"></a>ファイルの最大数

> [!NOTE]
> 現在、質問応答には、追加できるソースの数に制限はありません。 管理 API と予測 API の両方に対して、スループットは現在、毎秒 10 トランザクションに制限されています。

### <a name="maximum-number-of-deep-links-from-url"></a>URL からのディープリンクの最大数

URL ページから質問応答のペアを抽出するためにクロールできるディープリンクの最大数は **20** です。

## <a name="metadata-limits"></a>メタデータの制限

メタデータは、テキストベースの `key:value` のペアとして表されます (`product:windows 10` など)。 これは小文字で格納され、比較されます。 メタデータ フィールドの最大数は、 **[Azure Cognitive Search レベルの制限](../../../../search/search-limits-quotas-capacity.md)** に基づきます。

1 つの言語リソースで複数の言語のプロジェクトを選択した場合は、プロジェクト/ナレッジ ベースごとに専用のテスト インデックスがあります。 そのため、言語サービスのプロジェクト/ナレッジ ベースごとに制限が適用されます。

|**Azure Cognitive Search レベル** | **Free** | **Basic** |**S1** | **S2**| **S3** |**S3 HD**|
|---|---|---|---|---|---|----|
|言語サービスごとのメタデータ フィールドの最大数 (ナレッジ ベースごと)|1,000|100*|1,000|1,000|1,000|1,000|

複数の異なる言語のプロジェクトを使用するオプションを選択しなかった場合は、言語サービスのすべてのナレッジ ベースで制限が適用されます。

|**Azure Cognitive Search レベル** | **Free** | **Basic** |**S1** | **S2**| **S3** |**S3 HD**|
|---|---|---|---|---|---|----|
|言語サービスごとのメタデータ フィールドの最大数 (すべてのナレッジ ベース)|1,000|100*|1,000|1,000|1,000|1,000|

### <a name="by-name-and-value"></a>名前と値

次の表に、メタデータの名前および値に使用できる文字と長さを示します。

|Item|使用できる文字|正規表現パターン マッチ|最大文字数|
|--|--|--|--|
|名前 (キー)|以下の文字を使用可能:<br>英数字<br>`_` (アンダースコア)<br> スペースを含めることはできません。|`^[a-zA-Z0-9_]+$`|100|
|値|以下を除くすべての文字を使用可能:<br>`:` (コロン)<br>`|` (縦棒)<br>使用できる値は 1 つだけです。|`^[^:|]+$`|500|
|||||

## <a name="knowledge-base-content-limits"></a>ナレッジ ベースのコンテンツの制限
ナレッジ ベース内のコンテンツの全体的な制限は以下のとおりです。
* 回答のテキストの長さ: 25,000 文字
* 質問のテキストの長さ: 1,000 文字
* メタデータ キーのテキストの長さ: 100 文字
* メタデータ値のテキストの長さ: 500 文字
* メタデータ名でサポートされる文字: アルファベット、数字、`_`
* メタデータ値でサポートされる文字: `:` と `|` を除くすべての文字
* ファイル名の長さ: 200
* サポートされるファイル形式: ".tsv"、".pdf"、".txt"、".docx"、".xlsx"
* 代替の質問の最大数: 該当なし
* 質問と回答のペアの最大数: 選択した **[Azure Cognitive Search レベル](../../../../search/search-limits-quotas-capacity.md#document-limits)** によって異なります。 質問と回答のペアは、Azure Cognitive Search インデックスのドキュメントにマップされます。
* URL/HTML ページ: 100 万文字

## <a name="create-project-call-limits"></a>プロジェクト作成呼び出しの制限

これらは、プロジェクト/ナレッジ ベースの作成アクション (つまり、プロジェクト/ナレッジ ベースを作成するための *[新しいプロジェクトの作成]* の選択、または REST API の呼び出し) ごとの制限を表します。

* 回答ごとの代替質問の推奨最大数:該当なし
* URL の最大数: 10
* ファイルの最大数: 10
* 呼び出しごとに許可される QnA の最大数:1000

## <a name="update-knowledge-base-call-limits"></a>ナレッジ ベース更新呼び出しの制限

これらは、更新アクション (つまり、 *[保存]* の選択、または更新要求での REST API の呼び出し) ごとの制限を表しています。
* 各ソース名の長さ: 該当なし
* 追加または削除される代替質問の推奨最大数:該当なし
* 追加または削除されるメタデータ フィールドの最大数: 10
* 更新可能な URL の最大数: 5
* 呼び出しごとに許可される QnA の最大数:1000

## <a name="add-unstructured-file-limits"></a>非構造化ファイル制限の追加

> [!NOTE]
> * 制限を超えるファイルを使用する必要がある場合は、ファイルを小さなファイルに分割してから API に送信することができます。 

これらは、非構造化ファイルを使用して "*新しいプロジェクトを作成*" したり、REST API を呼び出してナレッジ ベース を作成したりする場合の制限を表しています。
* ファイルの長さ: 最初の 32,000 文字が抽出されます。
* ファイルあたりの最大応答数は 3 です。

## <a name="prebuilt-question-answering-limits"></a>事前構築済み質問回答の制限

> [!NOTE]
> * 制限を超えるドキュメントを使用する必要がある場合は、テキストを小さなチャンクに分割してから API に送信することができます。 
> * ドキュメントとは、テキスト文字の 1 つの文字列です。  

これらは、プロジェクト/ナレッジ ベースを作成せずに、REST API を使用して質問に回答する場合の制限を表しています。
* ドキュメントの数: 5
* 1 つのドキュメントの最大サイズ: 5,120 文字
* ドキュメントあたりの最大応答数は 3 です。