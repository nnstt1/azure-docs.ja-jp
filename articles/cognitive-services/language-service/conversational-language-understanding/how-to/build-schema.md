---
title: Conversational Language Understanding プロジェクト スキーマを作成する方法
titleSuffix: Azure Cognitive Services
description: この記事を使って、Conversational Language Understanding プロジェクト スキーマの作成を開始します
services: cognitive-services
author: aahill
manager: nitinme
ms.service: cognitive-services
ms.subservice: language-service
ms.topic: overview
ms.date: 11/02/2021
ms.author: aahi
ms.custom: language-service-clu, ignite-fall-2021
ms.openlocfilehash: 0a140457e67c24cc363d7c660f641a2c98a25939
ms.sourcegitcommit: 106f5c9fa5c6d3498dd1cfe63181a7ed4125ae6d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/02/2021
ms.locfileid: "131092766"
---
# <a name="how-to-build-your-project-schema"></a>プロジェクト スキーマを作成する方法
 
Conversational Language Understanding で、*スキーマ* はプロジェクト内の意図とエンティティの組み合わせとして定義されます。 スキーマの設計は、プロジェクトの成功のための不可欠な要素です。 スキーマを作成するときに、プロジェクトに含める意図とエンティティを検討する必要があります。

## <a name="guidelines-and-recommendations"></a>ガイドラインと推奨事項

プロジェクトの意図を選ぶ場合は、次のガイドラインを考慮してください。

  1. 分離可能な個別の意図を作成します。 意図は、わかりやすく説明すると、「ユーザーが望む全体的なアクション」です。 作成中のプロジェクトについて検討し、ユーザーがプロジェクトを操作するときに実行する可能性があるすべてのアクションを特定します。 送信、呼び出し、取り消しは、異なる意図として表現されるのが最適なアクションです。 "注文の取り消し と "予定の取り消し" は非常に似ていますが、取り消す "*内容*" が異なっています。 これらの 2 つのアクションは、同じ意図において表す必要があります。
  
  2. テキスト内の関連する情報を抽出するエンティティを作成します。 エンティティは、ユーザーのアクションを実現するために必要な関連情報をキャプチャするために使う必要があります。 たとえば、"*注文*" や "*予定*" は、ユーザーが取り消そうとしているさまざまなものになる可能性があります。その情報をキャプチャするエンティティを作成する必要があります。

*メッセージ*" の *"送信"* 、"*メール*" の *"送信"* 、またはパッケージの *"送信"* を実行できます。 これらの各要件をキャプチャする意図の作成は、時間の経過に伴ってスケーリングされることはないため、エンティティを使って、ユーザーが送信する "*内容*" を識別する必要があります。 意図とエンティティの組み合わせによって、会話フローが決まります。 

たとえば、ある会社のボット開発者が、ユーザーがカレンダーを使うときに行う最も一般的な 3 つのアクションを特定したとします。 

* 新しい会議を設定する 
* 会議の要求に応答する 
* 会議を取り消す 

これらの各アクションを表す意図が作成される場合があります。 また、次のようなアクションを実行するのに役立つエンティティが組み込まれる場合もあります。

* 会議の出席者
* Date
* 会議の継続時間


**オーケストレーション ワークフロー** プロジェクトの場合は、意図のみを作成できます。 オーケストレーション ワークフロー プロジェクトは、エンティティ抽出で有効にできる他のターゲット サービスにルーティングして、会話フローを完了するためのものです。 他のサービスに接続されている新しい意図の追加や、_あるいは_ どのサービスにも接続されていない意図 (切断された意図) の作成を行うことができます。 

切断された意図を追加すると、オーケストレーターでその意図にルーティングし、追加のサービス呼び出さずに戻ることができます。 切断された意図のトレーニング サンプルを提供する必要があります。 同じ Azure リソースによって所有されているプロジェクトにのみ接続できます。 

前の例の続きとして、ボットの開発者は、ボットの各スキル (カレンダー アクション、メール アクション、会社の FAQ など) に対して、これらの各スキルに接続する意図が必要であることを認識する場合もあります。  

## <a name="build-project-schema-for-conversation-projects"></a>会話プロジェクトのプロジェクト スキーマを作成する

会話プロジェクトのプロジェクト スキーマを作成するには:

1. [Build Schema]\(スキーマの作成\) ページの **[意図]** または **[エンティティ]** タブを選択し、 **[追加]** をクリックします。 意図またはエンティティの作成を完了する前に、名前の入力を求められます。 

2. 意図をクリックすると、[[tag utterances]\(発話にタグ付けする\)](tag-utterances.md) ページが表示され、意図の例を追加したり、エンティティの例にラベルを付けたりすることができます。

    :::image type="content" source="../media/build-schema-page.png" alt-text="Language Studio の会話プロジェクトのスキーマ作成ページを示すスクリーンショット。" lightbox="../media/build-schema-page.png":::
    
3. エンティティを作成すると、エンティティの詳細ページにルーティングされます。 すべてのコンポーネントは、複数のコンポーネントによって定義されます。 タグ発話ページのサンプルにラベルを付けて学習対象コンポーネントをトレーニングしたり、リスト コンポーネントで突き合わせる値のリストを追加したり、使用可能なライブラリから一連の事前構築済みコンポーネントを追加したりすることができます。 コンポーネントの詳細については、[こちら](../concepts/entity-components.md)を参照してください

    :::image type="content" source="../media/entity-details.png" alt-text="Language Studio の会話プロジェクトのエンティティの詳細ページを示すスクリーンショット。" lightbox="../media/entity-details.png":::

## <a name="build-project-schema-for-orchestration-workflow-projects"></a>オーケストレーション ワークフロー プロジェクトのプロジェクト スキーマを作成する

オーケストレーション ワークフロー プロジェクトのプロジェクト スキーマを作成するには: 

1. **[Build Schema]\(スキーマの作成\)** ページで **[追加]** を選びます。 名前の入力と、(ある場合は) 意図の接続を定義することを求めるメッセージが表示されます。 意図を接続する場合は、次を指定する必要があります。
    1. **サービスの種類**: LUIS、カスタム質問と回答 (QnA)、または Conversational Language Understanding。
    2. **プロジェクト名**: 意図の接続に使用するプロジェクト。
    3. **発話のバージョン** (LUIS の場合のみ): オーケストレーター分類モデルのトレーニングに使用する LUIS バージョン。

    :::image type="content" source="../media/orchestration-intent.png" alt-text="Language Studio のオーケストレーション プロジェクトの意図作成モーダルを示すスクリーンショット。" lightbox="../media/orchestration-intent.png":::

> [!IMPORTANT]
> * 接続された意図は選択できません。これは、選択された意図では既にターゲット プロジェクトのデータを使って意図の分類がトレーニングされているため、接続された意図にトレーニング サンプルを追加できないことが理由です。
> * 同じリソースによって所有されているターゲット サービスにのみ接続できます。

## <a name="next-steps"></a>次の手順
* [発話にタグ付けする](tag-utterances.md)
