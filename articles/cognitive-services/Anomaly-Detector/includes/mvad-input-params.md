---
title: MVAD 入力パラメーター
titleSuffix: Azure Cognitive Services
services: cognitive-services
author: quying
manager: tonyxin
ms.service: cognitive-services
ms.topic: include
ms.date: 7/1/2021
ms.author: yingqunpku
ms.openlocfilehash: 5b4cea9dea4bb8ee6d1f32ec0e21fd87eb55da95
ms.sourcegitcommit: 6bd31ec35ac44d79debfe98a3ef32fb3522e3934
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/02/2021
ms.locfileid: "113215248"
---
### <a name="input-parameters"></a>入力パラメーター

#### <a name="required-parameters"></a>必須のパラメーター

API 要求のトレーニングと推論には、次の 3 つのパラメーターが必要です。

* `source` - Shared Access Signature (SAS) を使用した Azure Blob Storage にある zip ファイルへのリンク。
* `startTime` - トレーニングまたは推論に使用されるデータの開始時刻。 データに実際にある最も早いタイムスタンプより前である場合は、その実際にある最も早いタイムスタンプが開始ポイントとして使用されます。
* `endTime` - トレーニングまたは推論に使用されるデータの終了時刻。この値は、`startTime` 以降である必要があります。 `endTime` がデータに実際にある最も遅いタイムスタンプよりも後である場合は、その実際にある最も遅いタイムスタンプが終了ポイントとして使用されます。 `endTime` が `startTime` に等しい場合は、ストリーミングのシナリオでよく使用される、1 つのデータ ポイントの推論を意味します。

#### <a name="optional-parameters-for-training-api"></a>トレーニング API の省略可能なパラメーター

トレーニング API のその他のパラメーターは省略可能です。

* `slidingWindow` - 異常を特定するために使用されるデータポイントの数。 28 から 2,880 の整数値です。 既定値は、300 です。 `slidingWindow` がモデル トレーニングの `k` である場合、有効な結果を得るには、推論時にソース ファイルから少なくとも `k` ポイントにアクセスできる必要があります。

    MVAD は、次のデータ ポイントが異常であるかどうかを決定するためにデータ ポイントのセグメントを取ります。 セグメントの長さは `slidingWindow` です。
    `slidingWindow` 値を選択する場合は、次の 2 つの点にご注意ください。
    1. データのプロパティ: 周期的であり、サンプリング レートであるかどうか。 データが周期的な場合は、1 から 3 サイクルの長さを `slidingWindow` として設定できます。 分レベルまたは秒レベルのように、データの頻度が高すぎる (細分性が小さい) 場合は、`slidingWindow` に比較的高い値を設定できます。
    1. トレーニング/推論時間と潜在的なパフォーマンスへの影響のトレードオフ。 `slidingWindow` が大きいほど、トレーニング/推論時間が長くなる場合があります。 `slidingWindow` が大きいほど、精度が向上するという保証は **ありません**。 `slidingWindow` が小さいと、モデルが最適なソリューションに収束できなくなる可能性があります。 たとえば、`slidingWindow` に 2 つのポイントしかない場合、異常を検出するのは困難です。

* `alignMode` - タイムスタンプに複数の変数 (時系列) を配置する方法。 このパラメーターには、`Inner` と `Outer` という 2 つのオプションがあり、既定値は `Outer` です。

    このパラメーターは、変数のタイムスタンプ シーケンス間に不整合がある場合に重要です。 このモデルでは、さらに処理する前に、変数を同じタイムスタンプ シーケンスに配置する必要があります。

    `Inner` の場合、モデルでは、**すべての変数** に値 (つまり、すべての変数の交点) を持つタイムスタンプに対してのみ、検出結果がレポートされます。 `Outer`の場合、モデルでは、**すべての変数** に値 (つまり、すべての変数の和集合) を持つタイムスタンプに対してのみ、検出結果がレポートされます。

    ここでは、さまざまな `alignModel` 値を説明するために例を示します。

    "*変数-1*"

    |timestamp | value|
    ----------| -----|
    |2020-11-01| 1  
    |2020-11-02| 2  
    |2020-11-04| 4  
    |2020-11-05| 5

    "*変数-2*"

    timestamp | value  
    --------- | -
    2020-11-01| 1  
    2020-11-02| 2  
    2020-11-03| 3  
    2020-11-04| 4

    "*2 つの変数の `Inner` 結合*"

    timestamp | 変数-1 | 変数-2
    ----------| - | -
    2020-11-01| 1 | 1
    2020-11-02| 2 | 2
    2020-11-04| 4 | 4

    "*2 つの変数の `Outer` 結合*"

    timestamp | 変数-1 | 変数-2
    --------- | - | -
    2020-11-01| 1 | 1
    2020-11-02| 2 | 2
    2020-11-03| `nan` | 3
    2020-11-04| 4 | 4
    2020-11-05| 5 | `nan`

* `fillNAMethod` - マージされたテーブルで `nan` を埋める方法。 マージされたテーブルに不足値がある場合は、適切に処理する必要があります。 これらを埋めるには、いくつかの方法があります。 オプションは、`Linear`、`Previous`、`Subsequent`、`Zero`、および`Fixed` で、既定値は `Linear` です。

    | オプション     | Method                                                                                           |
    | ---------- | -------------------------------------------------------------------------------------------------|
    | `Linear`     | `nan` 値を線状補間で埋める                                                           |
    | `Previous`   | 最後に有効だった値を伝達してギャップを埋める。 例: `[1, 2, nan, 3, nan, 4]` -> `[1, 2, 2, 3, 3, 4]` |
    | `Subsequent` | 次に有効な値を使用して、ギャップを埋める。 例: `[1, 2, nan, 3, nan, 4]` -> `[1, 2, 3, 3, 4, 4]`       |
    | `Zero`       | 0 で `nan` 値を埋める。                                                                           |
    | `Fixed`      | `paddingValue` で指定した有効な指定値で `nan` 値を埋める。          |

* `paddingValue` - パディング値は `fillNAMethod` が `Fixed` であり、その場合に指定する必要があるときに `nan` を埋めるために使用されます。 その他の場合は、省略可能です。

* `displayName` - これは、モデルを識別するために使用される省略可能なパラメーターです。 たとえば、パラメーター、データ ソース、およびモデルとその入力データに関するその他のメタデータをマークするために使用できます。 既定値は空の文字列です。
