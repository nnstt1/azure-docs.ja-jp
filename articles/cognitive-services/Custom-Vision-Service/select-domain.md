---
title: Custom Vision プロジェクトのドメインを選択する - Computer Vision
titleSuffix: Azure Cognitive Services
description: この記事では、Custom Vision Service でプロジェクトのドメインを選択する方法について説明します。
services: cognitive-services
author: shonohs
manager: nitinme
ms.service: cognitive-services
ms.subservice: custom-vision
ms.topic: conceptual
ms.date: 03/06/2020
ms.author: shono
ms.openlocfilehash: 5838185328920587b11bb66d21c9402ce93e9b6b
ms.sourcegitcommit: 702df701fff4ec6cc39134aa607d023c766adec3
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2021
ms.locfileid: "131458249"
---
# <a name="select-a-domain-for-a-custom-vision-project"></a>Custom Vision プロジェクトのドメインを選択する

Custom Vision プロジェクトの [設定] タブで、プロジェクトのドメインを選択できます。 お使いのシナリオに最も近いドメインを選択します。 クライアント ライブラリまたは REST API を通じて Custom Vision にアクセスする場合は、プロジェクトの作成時にドメイン ID を指定する必要があります。 ドメイン ID の一覧を取得するには、[ドメインの取得](https://westus2.dev.cognitive.microsoft.com/docs/services/Custom_Vision_Training_3.3/operations/5eb0bcc6548b571998fddeab)を使用するか、次の表を使用してください。

## <a name="image-classification"></a>画像の分類

|Domain|目的|
|---|---|
|__全般__| さまざまな画像分類タスクに最適化されています。 他の特定のドメインのいずれも適切でない場合、またはどのドメインを選択すればよいか不確かな場合は、全般ドメインのいずれかを選択してください。 ID: `ee85a74c-405e-4adc-bb47-ffa8ca0c9f31`|
|__全般 [A1]__| 全般ドメインと同等の推論時間で、精度がより高まるように最適化されています。 大規模なデータセットまたはより困難なユーザー シナリオの場合に推奨されます。 このドメインでは、より多くのトレーニング時間が必要です。 ID: `a8e3c40f-fb4a-466f-832a-5e457ae4a344`|
|__全般 [A2]__| 全般 [A1] と全般ドメインよりも短時間で推論でき、精度が向上します。 ほとんどのデータセットに推奨されます。 このドメインでは、全般 [A1] ドメインよりもトレーニング時間が短縮されます。 ID: `2e37d7fb-3a54-486a-b4d6-cfc369af0018` |
|__食料__|レストランのメニューで見るような料理の写真に最適化されています。 個々のフルーツや野菜の写真を分類する場合、食料ドメインを使用します。 ID: `c151d5b5-dd07-472a-acc8-15d29dea8518`|
|__ランドマーク__|自然物と人工物の両方の認識可能なランドマークに最適化されています。 このドメインは、ランドマークが写真にはっきりと映っているときに最も効果があります。 このドメインは、ランドマークがその前にいる人々によって少し邪魔されている場合でも機能します。 ID: `ca455789-012d-4b50-9fec-5bb63841c793`|
|__小売__|ショッピング カタログやショッピング Web サイトで見られる画像に最適化されています。 ドレス、ズボン、シャツを分類するときに高い精度が必要な場合に、このドメインを使用します。 ID: `b30a91ae-e3c1-4f73-a81e-c270bff27c39`|
|__コンパクト ドメイン__| エッジ デバイスでのリアルタイムの分類の制約に最適化されています。|


> [!NOTE]
> 全般 [A1] ドメインと全般 [A2] ドメインは、さまざまなシナリオ セットで使用でき、精度のために最適化されています。 全般 [A2] モデルは、推論速度の向上とトレーニング時間の短縮のために使用します。 大規模なデータセットの場合、全般 [A1] を使用し、全般 [A2] よりも高い精度でレンダリングできます。ただし、より長いトレーニングと推論時間を必要とします。 全般モデルでは、全般 [A1] と全般 [A2] のどちらよりも多くの推論時間が必要です。

## <a name="object-detection"></a>オブジェクトの検出

|Domain|目的|
|---|---|
|__全般__| さまざまなオブジェクト検出タスク用に最適化されています。 他のドメインのいずれも適切でないか、どのドメインを選択すればよいか不確かな場合は、汎用ドメインを選択してください。 ID: `da2e3a8a-40a5-4171-82f4-58522f70fbc1`|
|__全般 [A1]__| 全般ドメインと同等の推論時間で、精度がより高まるように最適化されています。 より正確な領域検出が必要なケース、大規模なデータセット、またはより困難なユーザー シナリオの場合に推奨されます。 このドメインにはより多くのトレーニング時間が必要であり、結果は決定論的ではありません。指定された同じトレーニング データに対して mAP (mean Average Precision) の差が ±1% であることが予想されます。 ID: `9c616dff-2e7d-ea11-af59-1866da359ce6`|
|__ロゴ__|画像内のブランド ロゴを探すために最適化されています。 ID: `1d8ffafe-ec40-4fb2-8f90-72b3b6cecea4`|
|__シェルブの製品__|シェルブで製品を検出して分類するために最適化されています。 ID: `3780a898-81c3-4516-81ae-3a139614e1f3`|
|__コンパクト ドメイン__| エッジ デバイス上でのリアルタイムのオブジェクト検出の制約に最適化されています。|

## <a name="compact-domains"></a>コンパクト ドメイン

コンパクト ドメインで生成されたモデルは、ローカルで実行するためにエクスポートできます。 Custom Vision 3.4 パブリック プレビュー API では、GetDomains API を呼び出すことにより、コンパクト ドメインのエクスポート可能なプラットフォームの一覧を取得できます。

以下のドメインはいずれも、ONNX、TensorFlow,TensorFlowLite、TensorFlow.js、CoreML、VAIDK 形式でのエクスポートをサポートします。ただし例外として、**物体検出の汎用 (コンパクト)** ドメインでは、VAIDK がサポートされません。

モデルのパフォーマンスは、選択したドメインによって異なります。 次の表では、Intel Desktop CPU および NVidia GPU \[1\] でモデルのサイズと推論時間をレポートします。 これらの数値には、前処理時間と後処理時間は含まれません。

|タスク|Domain|id|モデルのサイズ|CPU 推論時間|GPU 推論時間|
|---|---|---|---|---|---|
|分類|[General (compact)]\(汎用 (コンパクト)\)|`0732100f-1a38-4e49-a514-c9b44c697ab5`|6 MB|10 ms|5 ミリ秒|
|分類|汎用（コンパクト） [S1]|`a1db07ca-a19a-4830-bae8-e004a42dc863`|43 MB|50 ms|5 ミリ秒|
|オブジェクトの検出|[General (compact)]\(汎用 (コンパクト)\)|`a27d5ca5-bb19-49d8-a70a-fec086c47f5b`|45 MB|35 ミリ秒|5 ミリ秒|
|オブジェクトの検出|汎用（コンパクト） [S1]|`7ec2ac80-887b-48a6-8df9-8b1357765430`|14 MB|27 ミリ秒|7 ミリ秒|

>[!NOTE]
>オブジェクト検出のための __汎用（コンパクト）__ ドメインには、特別な後処理ロジックが必要です。 詳細については、エクスポートされた zip パッケージのサンプル スクリプトを参照してください。 後処理ロジックのないモデルが必要な場合は、__汎用（コンパクト） [S1]__ を使用します。

>[!IMPORTANT]
>エクスポートされたモデルでは、クラウド上の予測 API とまったく同じ結果が得られるという保証はありません。 実行中のプラットフォームまたは前処理実装のわずかな違いにより、モデル出力の差が大きくなることがあります。 前処理ロジックの詳細については、[このドキュメント](quickstarts/image-classification.md) を参照してください。

\[1\] Intel Xeon E5-2690 CPU および NVIDIA Tesla M60
