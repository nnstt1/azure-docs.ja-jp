---
title: メモリと同時実行の制限
description: Azure Synapse Analytics の専用 SQL プールのさまざまなパフォーマンス レベルとリソース クラスに割り当てられたメモリおよびコンカレンシーの制限を示します。
services: synapse-analytics
author: ronortloff
manager: craigg
ms.service: synapse-analytics
ms.topic: conceptual
ms.subservice: sql-dw
ms.date: 04/04/2021
ms.author: rortloff
ms.reviewer: jrasnick
ms.custom: azure-synapse
ms.openlocfilehash: 8fd628c649d379e60ddf8ec772e1cf708f3e50d1
ms.sourcegitcommit: bd65925eb409d0c516c48494c5b97960949aee05
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/06/2021
ms.locfileid: "111540281"
---
# <a name="memory-and-concurrency-limits-for-dedicated-sql-pool-in-azure-synapse-analytics"></a>Azure Synapse Analytics の専用 SQL プールのメモリおよびコンカレンシーの制限

Azure Synapse Analytics のさまざまなパフォーマンス レベルとリソース クラスに割り当てられたメモリおよびコンカレンシーの制限を表示します。  

> [!NOTE]
> ワークロード管理ワークロード グループは、動的または静的なリソース クラスよりも柔軟で、要求とコンカレンシーごとにリソースを構成することができます。  詳細については、[ワークロード グループ](sql-data-warehouse-workload-isolation.md)と [CREATE WORKLOAD GROUP](/sql/t-sql/statements/create-workload-group-transact-sql) 構文に関するページを参照してください。

## <a name="data-warehouse-capacity-settings"></a>データ ウェアハウスの容量設定

次の表は、さまざまなパフォーマンス レベルでのデータ ウェアハウスの最大容量を示しています。 パフォーマンス レベルを変更するには、[コンピューティングのスケーリング (ポータル)](quickstart-scale-compute-portal.md) に関するページを参照してください。

### <a name="service-levels"></a>サービス レベル

サービスレベルの範囲は DW100c から DW30000c までです。

| パフォーマンス レベル | コンピューティング ノード | コンピューティング ノードごとの配布 | データ ウェアハウスあたりのメモリ (GB) |
|:-----------------:|:-------------:|:------------------------------:|:------------------------------:|
| DW100c            | 1             | 60                             |    60                          |
| DW200c            | 1             | 60                             |   120                          |
| DW300c            | 1             | 60                             |   180                          |
| DW400c            | 1             | 60                             |   240                          |
| DW500c            | 1             | 60                             |   300                          |
| DW1000c           | 2             | 30                             |   600                          |
| DW1500c           | 3             | 20                             |   900                          |
| DW2000c           | 4             | 15                             |  1200                          |
| DW2500c           | 5             | 12                             |  1500                          |
| DW3000c           | 6             | 10                             |  1800                          |
| DW5000c           | 10            | 6                              |  3000                          |
| DW6000c           | 12            | 5                              |  3600                          |
| DW7500c           | 15            | 4                              |  4500                          |
| DW10000c          | 20            | 3                              |  6000                          |
| DW15000c          | 30            | 2                              |  9000                          |
| DW30000c          | 60            | 1                              | 18000                          |

最大のサービス レベルは DW30000c で、60 のコンピューティング ノードと、コンピューティング ノードごとに 1 つの配布です。 たとえば、DW30000c の 600 TB のデータ ウェアハウスは、コンピューティング ノードあたり約 10 TB を処理します。

## <a name="concurrency-maximums-for-workload-groups"></a>ワークロード グループの同時実行の最大値

[ワークロード グループ](sql-data-warehouse-workload-isolation.md)が導入され、コンカレンシー スロットの概念は適用されなくなりました。  要求ごとのリソースはパーセント単位で割り当てられ、ワークロード グループの定義で指定されます。  ただし、コンカレンシー スロットを削除したとしても、サービス レベルに基づいてクエリごとに必要なリソースの最小量があります。  次の表では、サービス レベル全体のクエリごとに必要なリソースの最小量と、実現可能な関連するコンカレンシー数を定義しています。

|サービス レベル|同時クエリの最大数|REQUEST_MIN_RESOURCE_GRANT_PERCENT でサポートされる最小量 (%)|
|---|---|---|
|DW100c|4|25%|
|DW200c|8|12.5%|
|DW300c|12|8%|
|DW400c|16|6.25%|
|DW500c|20|5%|
|DW1000c|32|3%|
|DW1500c|32|3%|
|DW2000c|48|2%|
|DW2500c|48|2%|
|DW3000c|64|1.5%|
|DW5000c|64|1.5%|
|DW6000c|128|0.75%|
|DW7500c|128|0.75%|
|DW10000c|128|0.75%|
|DW15000c|128|0.75%|
|DW30000c|128|0.75%|
||||

## <a name="concurrency-maximums-for-resource-classes"></a>リソース クラスのコンカレンシーの最大値

各クエリを効率的に実行するために十分なリソースが提供されるよう、Synapse SQL は各クエリにコンカレンシー スロットを割り当てることで、リソース使用率を追跡します。 システムは、重要度とコンカレンシー スロットに基づいて、クエリをキューに入れます。 十分な数のコンカレンシー スロットが利用できるようになるまで、クエリはキュー内で待機します。 [重要度](sql-data-warehouse-workload-importance.md)とコンカレンシー スロットによって、CPU の優先順位付けも決定されます。 詳細については、[ワークロードの分析](analyze-your-workload.md)に関するページを参照してください。

**静的リソース クラス**

次の表は、[静的なリソース クラス](resource-classes-for-workload-management.md)ごとの最大のコンカレント クエリ数とコンカレンシー スロット数を示しています。  

| サービス レベル | 同時クエリの最大数 | 割り当てられるコンカレンシー スロット数 | staticrc10 で使用されるスロット数 | staticrc20 で使用されるスロット数 | staticrc30 で使用されるスロット数 | staticrc40 で使用されるスロット数 | staticrc50 で使用されるスロット数 | staticrc60 で使用されるスロット数 | staticrc70 で使用されるスロット数 | staticrc80 で使用されるスロット数 |
|:-------------:|:--------------------------:|:---------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW100c        |  4                         |    4                        | 1         | 2          | 4          | 4          | 4         |  4         |  4         |  4         |
| DW200c        |  8                         |    8                        | 1         | 2          | 4          | 8          |  8         |  8         |  8         |  8        |
| DW300c        | 12                         |   12                        | 1         | 2          | 4          | 8          |  8         |  8         |  8         |   8        |
| DW400c        | 16                         |   16                        | 1         | 2          | 4          | 8          | 16         | 16         | 16         |  16        |
| DW500c        | 20                         |   20                        | 1         | 2          | 4          | 8          | 16         | 16         | 16         |  16        |
| DW1000c       | 32                         |   40                        | 1         | 2          | 4          | 8          | 16         | 32         | 32         |  32        |
| DW1500c       | 32                         |   60                        | 1         | 2          | 4          | 8          | 16         | 32         | 32         |  32        |
| DW2000c       | 48                         |   80                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW2500c       | 48                         |  100                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW3000c       | 64                         |  120                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         |  64        |
| DW5000c       | 64                         |  200                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW6000c       | 128                        |  240                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW7500c       | 128                        |  300                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW10000c      | 128                        |  400                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW15000c      | 128                        |  600                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |
| DW30000c      | 128                        | 1200                        | 1         | 2          | 4          | 8          | 16         | 32         | 64         | 128        |

**動的リソース クラス**

次の表は、[動的なリソース クラス](resource-classes-for-workload-management.md)ごとの最大のコンカレンシー クエリ数とコンカレンシー スロット数を示しています。 動的リソース クラスは、すべてのサービス レベルにおいて small-medium-large-xlarge リソース クラスに対して 3-10-22-70 のメモリ割り当て率を使用します。

| サービス レベル | 同時クエリの最大数 | 割り当てられるコンカレンシー スロット数 | smallrc で使用されるスロット数 | mediumrc で使用されるスロット数 | largerc で使用されるスロット数 | xlargerc で使用されるスロット数 |
|:-------------:|:--------------------------:|:---------------------------:|:---------------------:|:----------------------:|:---------------------:|:----------------------:|
| DW100c        |  4                         |    4                        | 1                     |  1                     |  1                    |   2                    |
| DW200c        |  8                         |    8                        | 1                     |  1                     |  1                    |   5                    |
| DW300c        | 12                         |   12                        | 1                     |  1                     |  2                    |   8                    |
| DW400c        | 16                         |   16                        | 1                     |  1                     |  3                    |  11                    |
| DW500c        | 20                         |   20                        | 1                     |  2                     |  4                    |  14                    |
| DW1000c       | 32                         |   40                        | 1                     |  4                     |  8                    |  28                    |
| DW1500c       | 32                         |   60                        | 1                     |  6                     |  13                   |  42                    |
| DW2000c       | 32                         |   80                        | 2                     |  8                     |  17                   |  56                    |
| DW2500c       | 32                         |  100                        | 3                     | 10                     |  22                   |  70                    |
| DW3000c       | 32                         |  120                        | 3                     | 12                     |  26                   |  84                    |
| DW5000c       | 32                         |  200                        | 6                     | 20                     |  44                   | 140                    |
| DW6000c       | 32                         |  240                        | 7                     | 24                     |  52                   | 168                    |
| DW7500c       | 32                         |  300                        | 9                     | 30                     |  66                   | 210                    |
| DW10000c      | 32                         |  400                        | 12                    | 40                     |  88                   | 280                    |
| DW15000c      | 32                         |  600                        | 18                    | 60                     | 132                   | 420                    |
| DW30000c      | 32                         | 1200                        | 36                    | 120                    | 264                   | 840                    |

クエリの実行を開始するのに十分な数のコンカレンシー スロットが空いていない場合、クエリはキューに入れられ、重要度に基づいて実行されます。  重要度が同じ場合、クエリは先入れ先出しで実行されます。  クエリが完了してクエリおよびスロットの数が制限値を下回ると、Azure Synapse Analytics では、キューに入れられていたクエリが解放されます。

## <a name="next-steps"></a>次のステップ

ワークロードをさらに最適化するためにリソース クラスを活用する方法の詳細については、次の記事を参照してください。

* [ワークロード管理ワークロード グループ](sql-data-warehouse-workload-isolation.md)
* [ワークロード グループを作成する](/sql/t-sql/statements/create-workload-group-transact-sql)
* [ワークロード管理用のリソース クラス](resource-classes-for-workload-management.md)
* [ワークロードの解析](analyze-your-workload.md)
