---
title: Azure IoT Central アプリケーションでユーザーとロールを管理する | Microsoft Docs
description: 管理者として Azure IoT Central アプリケーションでユーザーとロールを管理する方法
author: dominicbetts
ms.author: dobett
ms.date: 08/20/2021
ms.topic: how-to
ms.service: iot-central
services: iot-central
ms.openlocfilehash: 4398ab5ed46276c397e812cb4ffbcd1e6e1296e6
ms.sourcegitcommit: 27ddccfa351f574431fb4775e5cd486eb21080e0
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/08/2021
ms.locfileid: "131997573"
---
# <a name="manage-users-and-roles-in-your-iot-central-application"></a>IoT Central アプリケーションでユーザーとロールを管理する

この記事では、Azure IoT Central アプリケーションでユーザーを追加、編集、および削除する方法について説明します。 この記事では、アプリケーションでロールを管理する方法についても説明します。

**[管理]** セクションにアクセスして使用するには、Azure IoT Central アプリケーションの **アプリ管理者** ロールか、管理権限が含まれているカスタム ロールが必要です。 Azure IoT Central アプリケーションを作成したユーザーは、自動的にそのアプリケーションの **アプリ管理者** ロールに追加されます。

## <a name="add-users"></a>Add users

ユーザーがアプリケーションにサインインしてアクセスするには、ユーザー アカウントが必要です。 IoT Central では現在、Microsoft アカウントと Azure Active Directory アカウントがサポートされていますが、Azure Active Directory グループはサポートされていません。

詳細は、「[Microsoft アカウントのヘルプ](https://support.microsoft.com/products/microsoft-account?category=manage-account)」と「[クイック スタート: Azure Active Directory に新しいユーザーを追加する](../../active-directory/fundamentals/add-users-azure-active-directory.md)」を参照してください。

1. IoT Central アプリケーションにユーザーを追加するには、 **[管理]** セクションの **[ユーザー]** ページに移動します。

    :::image type="content" source="media/howto-manage-users-roles/manage-users-pnp.png" alt-text="[ユーザーの管理] のスクリーンショット。":::

1. **[Users (ユーザー)]** ページで、 **[+ Assign user (+ ユーザーの割り当て)]** を選択してユーザーを追加します。

1. アプリケーションで [組織](howto-create-organizations.md)を使用している場合は、 **[組織]** ドロップダウン メニューからユーザーに割り当てる組織を選択します。

1. **ロール** ドロップダウン メニューからユーザーに対するロールを選択します。 ロールの詳細については、この記事の「[ロールの管理](#manage-roles)」セクションを参照してください。

    :::image type="content" source="media/howto-manage-users-roles/add-user-pnp.png" alt-text="ユーザーを追加し、ロールを選択するスクリーンショット。":::

    利用可能なロールは、ユーザーが関連付けられている組織によって異なります。 ルート組織に関連付けられているユーザーに **アプリ** のロールを割り当て、階層内の他の組織に関連付けられているユーザーに **組織** のロールを割り当てることができます。

    > [!NOTE]
    > 他のユーザーを追加する権限が付与されるカスタム ロールのユーザーは、自分のロールと同じかそれよりも低い権限を持つロールにのみユーザーを追加できます。
  
    > [!NOTE]
    > ユーザーを Azure Active Directory から削除し、後で再び追加した場合、ユーザーは IoT Central アプリケーションにサインインできなくなります。 アクセスを再び有効にするには、アプリケーションの管理者がアプリケーションでもユーザーを削除してから再び追加する必要があります。

### <a name="edit-the-roles-and-organizations-that-are-assigned-to-users"></a>ユーザーに割り当てられているロールと組織を編集する

ロールと組織は、割り当てられた後に変更することはできません。 ユーザーまたは組織に割り当てられているロールを変更するには、ユーザーを削除してから、別のロールまたは組織を使用してユーザーを追加します。

> [!NOTE]
> 割り当てられたロールは IoT Central アプリケーションに固有であり、Azure portal から管理することはできません。

## <a name="delete-users"></a>ユーザーを削除する

ユーザーを削除するには、**ユーザー** ページで 1 つまたは複数のチェック ボックスを選択します｡ 次に、 **[削除]** を選択します。

## <a name="manage-roles"></a>ロールの管理

ロールを使用すると、組織内のだれが IoT Central でさまざまなタスクを実行できるかを制御できます。 アプリケーションのユーザーに割り当てることができる組み込みロールが 3 つあります。 より詳細な制御が必要な場合は、[カスタム ロールの作成](#create-a-custom-role)を行うこともできます。

:::image type="content" source="media/howto-manage-users-roles/manage-roles-pnp.png" alt-text="ロールの管理選択のスクリーンショット。":::

### <a name="app-administrator"></a>アプリの管理者

**アプリの管理者** ロールのユーザーは、課金を含め、アプリケーションのすべての部分を管理および制御できます。

アプリケーションを作成したユーザーは、自動的に **アプリの管理者** ロールに割り当てられます。 **アプリの管理者** ロールには、少なくとも 1 人のユーザーが常に存在している必要があります。

### <a name="app-builder"></a>アプリの開発者

**アプリの開発者** ロールのユーザーは、アプリのすべての部分を管理できますが、[管理] タブまたは [継続的データ エクスポート] タブで変更を加えることはできません。

### <a name="app-operator"></a>アプリのオペレーター

**アプリのオペレーター** ロールのユーザーは、デバイスの正常性と状態を監視できます。 デバイス テンプレートに変更を加えたり、アプリケーションを管理したりすることはできません。 オペレーターはデバイスの追加と削除、デバイス セットの管理、分析とジョブの実行が可能です。

### <a name="org-administrator"></a>組織管理者

このロールは、アプリケーションに組織を追加すると、IoT Central によって自動的に追加されます。 このロールは、組織の管理者が、請求先、ブランド化、カラー設定、API トークン、登録グループ情報などのアプリケーション全体にわたる機能にアクセスすることを制限します。

**組織の管理者** ロールのユーザーは、アプリケーションにユーザーを招待したり、組織階層内にサブ組織を作成したり、組織内のデバイスを管理したりすることができます。

### <a name="org-operator"></a>組織のオペレーター

このロールは、アプリケーションに組織を追加すると、IoT Central によって自動的に追加されます。 このロールは、組織のオペレーターがアプリケーション全体の機能にアクセスすることを制限します。

**組織のオペレーター** ロールのユーザーは、デバイスの追加、コマンドの実行、デバイス データの表示、ダッシュボードの作成、デバイス グループの作成などのタスクを実行することができます。

### <a name="org-viewer"></a>組織ビューアー

このロールは、アプリケーションに組織を追加すると、IoT Central によって自動的に追加されます。

**組織ビューアー** の役割を持つユーザーは、デバイスとそのデータ、組織のダッシュボード、デバイス グループ、デバイス テンプレートなどの項目を表示できます。

## <a name="create-a-custom-role"></a>カスタム ロールの作成

ソリューションに詳細なアクセス制御が必要な場合は、カスタムのアクセス許可セットを使用してロールを作成できます。 カスタム ロールを作成するには、アプリケーションの **[管理]** セクションの **[ロール]** ページに移動し、次のオプションのいずれかを選択します。

- **[+ 新しいロール]** を選択し、ロールの名前と説明を追加し、ロールの種類に **[アプリケーション]** または **[組織]** を選択します。 このオプションを使用すると、ロールの定義を最初から作成できます。
- 既存のロールに移動し、 **[コピー]** を選択します。 このオプションを使用すると、カスタマイズ可能な既存のロール定義から始めることができます。

:::image type="content" source="media/howto-manage-users-roles/create-custom-role-pnp.png" alt-text="カスタム ロールをビルドするためのスクリーンショット。":::

> [!WARNING]
> ロールの作成後にロールの種類を変更することはできません。

ユーザーをアプリケーションに招待するときに、ユーザーを次のように関連付けます。

- ルート組織と関連付けると、**アプリケーション** ロールのみを使用できます。
- その他の組織と関連付けると、**組織** ロールのみを使用できます。

組み込みロールにユーザーを追加するのと同じ方法で、ユーザーをカスタム ロールに追加できます

### <a name="custom-role-options"></a>カスタム ロールのオプション

カスタム ロールを定義する場合は、ユーザーがそのロールのメンバーである場合に付与されるアクセス許可のセットを選択します。 一部のアクセス許可は他のアクセス許可に依存しています。 たとえば、ロールに **[Update personal dashboards]\(個人用ダッシュボードの更新\)** アクセス許可を追加すると、 **[View personal dashboards]\(個人用ダッシュボードの表示\)** アクセス許可が自動的に追加されます。 次の表は、使用可能なアクセス許可とその依存関係をまとめたもので、カスタム ロールを作成するときに使用できます。

#### <a name="managing-devices"></a>デバイスの管理

**デバイス テンプレートのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 管理する | 表示 <br/> その他の依存関係:デバイス インスタンスの表示  |
| フル コントロール | 表示、管理 <br/> その他の依存関係:デバイス インスタンスの表示 |

**デバイス インスタンスのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示 |
| 更新 | 表示 <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示  |
| 作成 | 表示 <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示  |
| 削除 | 表示 <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示  |
| コマンドの実行 | 更新、表示 <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示  |
| 生データを表示する | 表示 <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示  |
| フル コントロール | 表示、更新、作成、削除、コマンドの実行、生データの表示 <br/> その他の依存関係:デバイス テンプレートとデバイス グループの表示  |

**デバイス グループのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし <br/> その他の依存関係:デバイス テンプレートとデバイス インスタンスの表示 |
| 更新 | 表示 <br/> その他の依存関係:デバイス テンプレートとデバイス インスタンスの表示   |
| 作成 | 表示、更新 <br/> その他の依存関係:デバイス テンプレートとデバイス インスタンスの表示   |
| 削除 | 表示 <br/> その他の依存関係:デバイス テンプレートとデバイス インスタンスの表示  |
| フル コントロール | 表示、更新、作成、削除 <br/> その他の依存関係:デバイス テンプレートとデバイス インスタンスの表示 |

**デバイス接続の管理のアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| インスタンスの読み取り | なし <br/> その他の依存関係:デバイス テンプレート、デバイス グループ、デバイス インスタンスの表示 |
| インスタンスの管理 | インスタンスの読み取り <br /> その他の依存関係:デバイス テンプレート、デバイス グループ、デバイス インスタンスの表示 |
| グローバルの読み取り | なし   |
| グローバルの管理 | グローバルの読み取り |
| フル コントロール | インスタンスの読み取り、インスタンスの管理、グローバルの読み取り、グローバルの管理 <br/> その他の依存関係:デバイス テンプレート、デバイス グループ、デバイス インスタンスの表示 |

**ジョブのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイス グループの表示 |
| 更新 | 表示 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイス グループの表示 |
| 作成 | 表示、更新 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイス グループの表示 |
| 削除 | 表示 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイス グループの表示 |
| 実行 | 表示 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイス グループの表示。デバイス インスタンスの更新。デバイス インスタンスでのコマンドの実行 |
| フル コントロール | 表示、更新、作成、削除、実行 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイス グループの表示。デバイス インスタンスの更新。デバイス インスタンスでのコマンドの実行 |

**ルールのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし <br/> その他の依存関係:デバイス テンプレートの表示 |
| 更新 | 表示 <br/> その他の依存関係:デバイス テンプレートの表示 |
| 作成 | 表示、更新 <br/> その他の依存関係:デバイス テンプレートの表示 |
| 削除 | 表示 <br/> その他の依存関係:デバイス テンプレートの表示 |
| フル コントロール | 表示、更新、作成、削除 <br/> その他の依存関係:デバイス テンプレートの表示 |

#### <a name="managing-the-app"></a>アプリの管理

**アプリケーション設定のアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 更新 | 表示   |
| コピー | 表示 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイスグ ループ、ダッシュボード、データ エクスポート、ブランド、ヘルプ リンク、カスタム ロール、ルールの表示 |
| 削除 | 表示   |
| フル コントロール | 表示、更新、コピー、削除 <br/> その他の依存関係:デバイス テンプレート、デバイスグ ループ、アプリケーション ダッシュボード、データ エクスポート、ブランド、ヘルプ リンク、カスタム ロール、ルールの表示 |

**アプリケーション テンプレートのエクスポートのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| エクスポート | 表示 <br/> その他の依存関係:デバイス テンプレート、デバイス インスタンス、デバイスグ ループ、ダッシュボード、データ エクスポート、ブランド、ヘルプ リンク、カスタム ロール、ルールの表示 |
| フル コントロール | 表示、エクスポート <br/> その他の依存関係:デバイス テンプレート、デバイスグ ループ、アプリケーション ダッシュボード、データ エクスポート、ブランド、ヘルプ リンク、カスタム ロール、ルールの表示 |

**デバイス ファイルのアップロードのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 管理する | 表示   |
| フル コントロール | 表示、管理 |

**課金のアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 管理する | なし     |
| フル コントロール | 管理する |

#### <a name="managing-users-and-roles"></a>ユーザーとロールの管理

**カスタム ロールのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし |
| 更新 | 表示 |
| 作成 | 表示、更新 |
| 削除 | 表示 |
| フル コントロール | 表示、更新、作成、削除 |

**ユーザー管理のアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし <br/> その他の依存関係:カスタム ロールの表示 |
| 追加 | 表示 <br/> その他の依存関係:カスタム ロールの表示 |
| 削除 | 表示 <br/> その他の依存関係:カスタム ロールの表示 |
| フル コントロール | 表示、追加、削除 <br/> その他の依存関係:カスタム ロールの表示 |

**組織の管理アクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし |
| 更新 | 表示 |
| 作成 | 表示、更新 |
| 削除 | 表示 |
| フル コントロール | 表示、更新、作成、削除 |

> [!NOTE]
> 他のユーザーを追加する権限が付与されるカスタム ロールのユーザーは、自分のロールと同じかそれよりも低い権限を持つロールにのみユーザーを追加できます。

#### <a name="customizing-the-app"></a>アプリのカスタマイズ

**アプリケーション ダッシュボードのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 更新 | 表示   |
| 作成 | 表示、更新 |
| 削除 | 表示   |
| フル コントロール | 表示、更新、作成、削除 |

**アプリケーション ダッシュボードのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 更新 | 表示   |
| 作成 | 表示、更新   |
| 削除 | 表示   |
| フル コントロール | 表示、更新、作成、削除 |

**ブランド、favicon、および色のアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 更新 | 表示   |
| フル コントロール | 表示、更新 |

**ヘルプ リンクのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 更新 | 表示   |
| フル コントロール | 表示、更新 |

#### <a name="extending-the-app"></a>アプリの拡張

**データのエクスポートのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし     |
| 更新 | 表示   |
| 作成 | 表示、更新  |
| 削除 | 表示   |
| フル コントロール | 表示、更新、作成、削除 |

**API トークンのアクセス許可**

| 名前 | 依存関係 |
| ---- | -------- |
| 表示 | なし  <br/> その他の依存関係:カスタム ロールの表示 |
| 作成 | 表示 <br/> その他の依存関係:カスタム ロールの表示 |
| 削除 | 表示 <br/> その他の依存関係:カスタム ロールの表示 |
| フル コントロール | 表示、作成、削除 <br/> その他の依存関係:カスタム ロールの表示 |

## <a name="next-steps"></a>次のステップ

IoT Central アプリケーションでユーザーとロールを管理する方法について学習しました。推奨される次の手順は、[アプリケーション UI をカスタマイズする](howto-customize-ui.md)方法について学習することです。
