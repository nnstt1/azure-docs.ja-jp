---
title: カスタム イメージと数式を比較する
description: 環境に最適なものを判断できるように、VM ベースとして使用するカスタム イメージと数式の違いについて説明します。
ms.topic: conceptual
ms.date: 08/26/2021
ms.openlocfilehash: 1eca53c8d38dc7cd51b7a91c2e40518e5adfc05f
ms.sourcegitcommit: 677e8acc9a2e8b842e4aef4472599f9264e989e7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/11/2021
ms.locfileid: "132286604"
---
# <a name="compare-custom-images-and-formulas-in-devtest-labs"></a>DevTest ラボのカスタム イメージと数式を比較する
[カスタム イメージ](devtest-lab-create-template.md)と[数式](devtest-lab-manage-formulas.md)の両方を、[新しいラボ仮想マシンの作成](devtest-lab-add-vm.md)のベースとして使用することができます。 カスタム イメージと数式の主な違いは、カスタム イメージは、仮想ハード ドライブ (VHD) に基づく単なるイメージであるということです。 数式は、VHD に基づくイメージに、事前に構成された設定を加えたものです。 構成済みの設定には、VM サイズ、仮想ネットワーク、サブネット、成果物を含めることができます。 これらの構成済みの設定は、VM の作成時にオーバーライド可能な既定値で設定されます。 

この記事では、カスタム イメージを使用する場合と数式を使用する場合の長所と短所について説明します。  また、「[VM からカスタム イメージを作成する方法](devtest-lab-create-custom-image-from-vm-using-portal.md)」と「[DevTest Labs の FAQ](devtest-lab-faq.yml)」も参照してください。

## <a name="custom-image-benefits"></a>カスタム イメージの利点
カスタム イメージでは、必要な環境から VM を作成するための静的で不変の方法が提供されます。 

|長所|短所|
|----|----|
|<li>イメージからの VM のスピンアップ後は何も変わらないため、カスタム イメージからすばやく VM をプロビジョニングできます。 つまり、カスタム イメージは設定のない単なるイメージであるため、適用する設定はありません。 <li>1 つのカスタム イメージから作成される VM は同じです。|<li>カスタム イメージの一部の要素を更新する必要がある場合、イメージを再作成する必要があります。 |

## <a name="formula-benefits"></a>数式の利点
  
数式では、必要な構成および設定から VM を作成するための動的な方法が提供されます。

|長所|短所|
|----|----|
|<li>環境の変更は、アーティファクトを介してすぐにキャプチャできます。 たとえば、リリース パイプラインからの最新のビットを使用して VM をインストールする場合や、リポジトリから最新のコードを登録する場合は、数式を使用します。 数式では、最新のビットをデプロイする成果物や最新のコードを登録する成果物を、ターゲットの基本イメージと共に指定することができます。 VM を作成するためにこの数式が使用されるたびに、最新のビットまたはコードが VM にデプロイまたは登録されます。  <li>数式では、VM サイズや仮想ネットワークの設定など、カスタム イメージで指定できない既定の設定を定義できます。  <li>数式で保存されている設定は既定値として表示されますが、VM の作成時に変更できます。 |<li> 数式から VM を作成すると、カスタム イメージから VM を作成する場合よりも時間がかかることがあります。

[!INCLUDE [devtest-lab-try-it-out](../../includes/devtest-lab-try-it-out.md)]
