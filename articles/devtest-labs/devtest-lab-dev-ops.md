---
title: Azure DevTest Labs と DevOps の統合
description: エンタープライズ環境の継続的インテグレーション (CI) と継続的デリバリー (CD) パイプライン内でラボを使用する方法について説明します。
ms.topic: conceptual
ms.date: 06/26/2020
ms.openlocfilehash: 59c259a27fa7e171a6e6aa6bd7bc2ffa25fa89fd
ms.sourcegitcommit: 677e8acc9a2e8b842e4aef4472599f9264e989e7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/11/2021
ms.locfileid: "132286338"
---
# <a name="integrate-azure-devtest-labs-and-azure-devops"></a>Azure DevTest Labs と Azure DevOps の統合
DevOps とは、ソフトウェア開発 (Dev) とシステムの運用 (Ops) を統合するソフトウェア開発方法論です。 このシステムでは、ビジネス目標に沿って新しい機能、更新プログラム、修正プログラムを提供できます。 この方法論は、目標、使用パターン、お客様からのフィードバックに基づいた新しい機能の設計から、問題が発生したときにシステムを修正、回復、強化することまで、あらゆる分野を網羅しています。 この手法で容易に識別されるコンポーネントは、継続的インテグレーション (CI) と継続的デリバリー (CD) パイプラインです。 CI/CD パイプラインは、一連のステップを通じてコミットから情報、コード、リソースを取得し、システムを作成します。 ステップには、構築、テスト、およびデプロイが含まれます。 この記事では、エンタープライズ環境のパイプライン内でラボを効果的に使用するためのさまざまな方法について重点的に説明します。 

## <a name="benefits-of-using-labs-in-devops-workflow"></a>DevOps ワークフローでラボを使用する利点 

### <a name="focused-access"></a>対象を絞ったアクセス 
ラボをコンポーネントとして使用すると、特定のエコシステムを限られたグループの人と関連付けることができます。 通常、共通の分野または特定の機能に従事しているチームまたはグループにラボが割り当てられています。   

### <a name="infrastructure-replication-in-the-cloud"></a>クラウド内でのインフラストラクチャのレプリケーション 
開発者は、ソース コードとツールを備えた開発ボックスを含む開発エコ システムをすばやく設定できます。 また、開発者は、運用環境の構成とほぼ同じ環境を作成することもできます。 この環境は、より高速な内部ループの開発に役立ちます。 

### <a name="pre-production"></a>実稼働前 
CI/CD パイプラインにラボを設定することにより、非同期テストのために複数の異なる実稼働前の環境またはマシンを同時に実行することが容易になります。 ビルド エージェントなど、さまざまなサポート インフラストラクチャをラボ内にデプロイして管理できます。 

## <a name="devops-with-devtest-labs"></a>DevTest Labs を使用した DevOps 

### <a name="development--operation"></a>開発/運用 
ラボでは機能領域で作業しているチームに焦点を合わせる必要があります。 このように共通の焦点を持つことで、ツール、スクリプト、または Resource Manager テンプレートなど、領域固有のリソースを共有できるようになります。 共通の焦点を持つことにより、マイナスの影響を小さいグループに限定しながら、より速い変更が可能になります。 共有リソースにより、開発者は必要なすべてのコード、ツール、構成を持つ開発 VM を作成できます。 リソースは、動的に作成することも、基本イメージをカスタマイズして作成するシステムに作成することもできます。 開発者は、VM を作成することも、ラボ内に適切な Azure リソースを作成するために必要なテンプレートに基づいて DevTest Labs 環境を構築することもできます。 他のユーザーに影響を与えずに、ラボ環境に対して変更や破壊的な作業を行うことができます。 製品が顧客のマシンにインストールされているスタンドアロン システムであるというシナリオを考えてみましょう。 このシナリオでは、DevTest Labs により、成果物を使用したソフトウェアのインストールや、コードのより高速な内部ループ テストのための顧客構成の事前作成など、VM の作成が改善されました。 
  
## <a name="cicd-pipeline"></a>CI/CD パイプライン 
CI/CD パイプラインは、DevOps の重要なコンポーネントの 1 つです。 パイプラインは、開発者の pull request からコードを移動し、既存のコードと統合して、運用環境のエコシステムにデプロイします。 すべてのリソースがラボ内にある必要はありません。 たとえば、Jenkins ホストは、より永続的なリソースとしてラボの外部に設定できます。 以下に、ラボをパイプラインに統合する具体的な例をいくつか示します。 

### <a name="build"></a>Build 
ビルド パイプラインでは、リリース パイプラインに渡すために一緒にテストされるコンポーネントのパッケージの作成に重点が置かれています。 ラボは、ビルド エージェントとその他のサポート リソース用の場所として、ビルド パイプラインに含めることができます。 インフラストラクチャを動的に構築できることにより、より細かい制御が可能になります。 1 つのラボに複数の環境を持つことができるため、各ビルドを非同期に実行できます。 ビルド ID は、特定のビルドに対してリソースを一意に識別する環境情報の一部です。   

ビルド エージェントの場合は、ラボのアクセス制限機能によりセキュリティが強化され、偶発的な破損の可能性が減少します。  

### <a name="test"></a>テスト 
DevTest Labs により、自動テストおよび手動テストに使用する Azure リソース (VM、環境) の作成を CI/CD パイプラインで自動化できます。 テストに必要なさまざまなカスタム構成を作成するために、ビルド プロセスからの情報を使用する成果物や数式を使用して VM が作成されます。   

### <a name="release"></a>Release 
DevTest Labs は一般的に、コードがデプロイされる前のリリース セクションで検証用に使用されます。 このプロセスは、ビルドのセクションでのテストに似ています。 DevTest Labs には運用環境のリソースをデプロイすることはできません。 

### <a name="customization"></a>カスタマイズ 
Azure DevOps には、特定のラボ内で VM や環境を操作できるようにする既存のタスクがあります。 Azure DevOps Services は、CI/CD パイプラインを管理する方法の 1 つです。 このラボは、REST Api の呼び出し、PowerShell スクリプトの実行、または Azure CLI を使用する機能をサポートする任意のシステムに統合できます。 

一部の CI/CD パイプライン マネージャーには、Azure および DevTest Labs 内のリソースを管理できる既存のオープンソース プラグインがありますが、 パイプラインの特定のニーズに合わせるために何らかのカスタム スクリプトを使用しなければならない場合があります。  このことを考慮して、タスクを実行するときに、ラボへアクセスするための適切なロールを持つサービス プリンシパルを使用します。 サービス プリンシパルには通常、ラボへの共同作成者ロールのアクセス権が必要になります。 詳細については、「[Azure DevOps 継続的インテグレーションと配信パイプラインへの Azure DevTest Labs の統合](devtest-lab-integrate-ci-cd.md)」を参照してください。 
 