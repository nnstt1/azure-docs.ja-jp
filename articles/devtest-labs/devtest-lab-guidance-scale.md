---
title: Azure DevTest Labs インフラストラクチャをスケールアップする
description: Azure DevTest Labs インフラストラクチャのスケールアップに関する情報とガイダンスをご覧ください。
ms.topic: how-to
ms.date: 06/26/2020
ms.reviewer: christianreddington,anthdela,juselph
ms.openlocfilehash: 02019d65424acde2459dc24317dd607168ff2934
ms.sourcegitcommit: e1037fa0082931f3f0039b9a2761861b632e986d
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/12/2021
ms.locfileid: "132398556"
---
# <a name="scale-up-your-azure-devtest-labs-infrastructure"></a>Azure DevTest Labs インフラストラクチャをスケールアップする
エンタープライズ規模で DevTest Labs を実装する前に、いくつかの重要な意思決定ポイントがあります。 これらの意思決定ポイントを高いレベルで理解することは、将来の設計上の決定を抱えている組織に役立ちます。 ただし、これらのポイントが、組織が概念実証を開始する妨げとならないようにする必要があります。 初期のスケール アップ計画には、重要な領域が 3 つあります。

- ネットワークとセキュリティ
- サブスクリプションのトポロジ
- ロールと責任

## <a name="networking-and-security"></a>ネットワークとセキュリティ
ネットワークとセキュリティは、すべての組織の土台となるものです。 エンタープライズ全体の展開には非常に深い分析が必要ですが、適切に概念実証を完了するための要件の数は、より少数です。 いくつかの主な重点領域は次のとおりです。

- **Azure サブスクリプション** – DevTest Labs を配置するためには、リソースを作成するための適切な権限を持って Azure サブスクリプションにアクセスできる必要があります。 マイクロソフト エンタープライズ契約や従量課金制など、Azure サブスクリプションにアクセスする方法はいくつかあります。 Azure サブスクリプションへのアクセス権取得の詳細については、「[企業向け Azure ライセンス付与](https://azure.microsoft.com/pricing/enterprise-agreement/)」をご覧ください。
- **オンプレミスのリソースへのアクセス** – 組織によっては、DevTest Labs 内のリソースが、オンプレミスのリソースにアクセスできる必要があります。 オンプレミス環境から Azure へのセキュリティ的に安全な接続が必要です。 開始する前に、VPN または接続 Azure ExpressRoute 接続をセットアップして構成することが重要です。 詳細については、「[Virtual Network の概要](../virtual-network/virtual-networks-overview.md)」を参照してください。
- **その他のセキュリティ要件** – マシン ポリシー、パブリック IP アドレスへのアクセス、インターネットへの接続など、その他のセキュリティ要件は、概念実証を実行する前に再調査が必要となる可能性があるシナリオです。 

## <a name="subscription-topology"></a>サブスクリプションのトポロジ
サブスクリプションのトポロジは、企業に DevTest Labs を配置する場合の重要な設計上の考慮事項です。 ただし、概念実証が完了するまでにすべての決定を固める必要はありません。 エンタープライズ実装に必要なサブスクリプションの数を評価する場合、2 つの極端な状況があります。 

- 組織全体に対して 1 つのサブスクリプション
- ユーザーごとのサブスクリプション

次に、各アプローチの利点を強調します。

### <a name="one-subscription"></a>1 つのサブスクリプション
大企業においては、1 つのサブスクリプションのアプローチでは管理ができないことがよくあります。 ただし、サブスクリプションの数を制限すると以下の利点があります。

- エンタープライズのコストの **予測**。  1 つのサブスクリプションでは、すべてのリソースが 1 つのプール内にあるため、予算の作成がずっと容易になります。 このアプローチでは、請求サイクル内の特定の時点において、コスト管理対策をいつ実施するかの意思決定を単純化できます。
- 多数のサブスクリプションにわたって更新を行うのではなく、すべての更新は 1 つのサブスクリプション内でのみ必要となるため、VM、成果物、数式、ネットワーク構成、アクセス許可、ポリシーなどの **管理の容易性** が高まります。
- オンプレミス接続を要件とする企業にとって 1 つのサブスクリプションとなるため **ネットワーク** 作業が容易です。 サブスクリプションの追加があると、サブスクリプション間の仮想ネットワークの接続 (ハブスポーク モデル) が必要となり、より多くの構成、管理、IP アドレス空間が必要となります。
- 全員が同じサブスクリプションで作業すれば、**チームのコラボレーション** が容易になります。 たとえば、同僚への VM の再割り当てやチーム リソースの共有が簡単です。

### <a name="subscription-per-user"></a>ユーザーごとのサブスクリプション
ユーザーごとの個別のサブスクリプションでは、選択肢の範囲が限定されなくなります。 多くのサブスクリプションを利用する場合の利点は以下のとおりです。

- **Azure のスケーリング クォータ** による導入の妨げがない。 たとえば、この記事の作成時点では、Azure においてサブスクリプションあたり 200 のストレージ アカウントを使用できます。 Azure ではほとんどのサービスにおいて運用上のクォータがあります (多くはカスタマイズできますが、できないサービスもあります)。 このユーザーごとのサブスクリプションというモデルでは、ほとんどのクォータに関して、上限に達する可能性はごくわずかです。 Azure でのスケーリングのクォータに関する詳細については、「[Azure サブスクリプションとサービスの制限、クォータ、制約](../azure-resource-manager/management/azure-subscription-service-limits.md)」を参照してください。
- グループまたは個人開発者への **チャージ バック** が大幅に容易になるので、組織は現在のモデルを使用してコストを計上できます。
- DevTest Labs 環境の **所有権とアクセス許可** は単純です。 開発者にはサブスクリプション レベルのアクセスを与え、ネットワーク構成、ラボのポリシー、VM の管理を含むすべてのことを管理させます。

Enterprise 内では、こうした両極端の範囲では多くの制約が生じる可能性があります。 そのため、これらの両極端の間になる方法でサブスクリプションを設定する必要があるでしょう。 ベスト プラクティスとしては、組織の目標は、できるだけ少ない数のサブスクリプションを使うことであるべきです。 サブスクリプションの総数が増加するような機能に注意しましょう。 繰り返しますが、サブスクリプションのトポロジは企業の DevTest Labs のデプロイにおいて重要ですが、概念実証を遅らせてはいけません。 [ガバナンス](devtest-lab-guidance-governance-policy-compliance.md)に関する記事に、組織におけるサブスクリプションとラボの細分性を決定する方法についての詳細が記載されています。

## <a name="roles-and-responsibilities"></a>ロールと責任
DevTest Labs での概念実証には、責任が定義されたプライマリ ロールとして、サブスクリプション所有者、DevTest Labs 所有者、DevTest Labs ユーザーの 3 つがあります。また、必要に応じて共同作成者が加わります。

- **サブスクリプション所有者** – サブスクリプション所有者は、ユーザーの割り当て、ポリシーの管理、ネットワーク トポロジの作成と管理、クォータ増加の要求など、Azure サブスクリプションを管理する権限を持ちます。 詳細については、 [こちらの記事](../role-based-access-control/rbac-and-directory-admin-roles.md)を参照してください。
- **DevTest Labs 所有者** – DevTest Labs 所有者は、ラボに対する完全な管理者アクセスを持っています。 このユーザーは、ユーザーの追加と削除、コスト設定の管理、一般的なラボの設定、およびその他の VM/成果物ベースのタスクを管理します。 ラボ所有者は、DevTest Labs ユーザーのすべての権利も持っています。
- **DevTest Labs ユーザー** – DevTest Labs ユーザーは、ラボ内で仮想マシンを作成して使用することができます。 これらのユーザーは、自分が作成する VM に対して最小限の管理機能をいくつか持ってします (自分の VM の開始/停止/削除/構成)。 ユーザーは、他のユーザーの VM は管理できません。

## <a name="next-steps"></a>次のステップ
このシリーズの次の記事「[Azure DevTest Labs の実装を調整する](devtest-lab-guidance-orchestrate-implementation.md)」を参照してください