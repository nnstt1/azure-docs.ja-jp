---
title: 'データセットへの変換: コンポーネント リファレンス'
titleSuffix: Azure Machine Learning
description: Azure Machine Learning デザイナーのデータセットへの変換コンポーネントを使用し、データ入力を内部データセット形式に変換する方法について説明します。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: e86c7c6f6a5eb3c4b3a388dab4680d2856a80b43
ms.sourcegitcommit: e41827d894a4aa12cbff62c51393dfc236297e10
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/04/2021
ms.locfileid: "131565647"
---
# <a name="convert-to-dataset"></a>データセットへの変換

この記事では、Azure Machine Learning デザイナーのデータセットへの変換コンポーネントを使用し、パイプラインのデータをデザイナーの内部形式に変換する方法について説明します。
  
ほとんどの場合、変換は必須ではありません。 Azure Machine Learning では、データに対して何らかの操作を実行する時点で、データがネイティブのデータセット形式に暗黙的に変換されます。 

データのセットに対して何らかの正規化やクリーニングを実行し、その変更が他のパイプラインで確実に使用されるようにしたい場合には、データをこのデータセット形式に保存することをお勧めします。  
  
> [!NOTE]
> データセットへの変換では、データの形式のみが変化します。 ワークスペースにデータの新しいコピーは保存されません。 データセットを保存するには、出力ポートをダブルクリックし、 **[データセットとして保存]** を選択して新しい名前を入力します。  
  
## <a name="how-to-use-convert-to-dataset"></a>データセットへの変換の使用方法  

データセットへの変換を使用する前に、[メタデータの編集](edit-metadata.md)コンポーネントを使用してデータセットを準備することをお勧めします。 必要に応じて列名の追加や変更、データ型の調整などの編集を加えることができます。

1.  データセットへの変換コンポーネントをパイプラインに追加します。 このコンポーネントは、デザイナーの **[データ変換]** カテゴリ内にあります。 

2. データセットを出力する任意のコンポーネントにそれを接続します。   

    データが[表形式](/python/api/azureml-core/azureml.data.tabulardataset)の場合は、データセットに変換できます。 これには、[データのインポート](import-data.md)を使用して読み込まれたデータ、[データの手動入力](enter-data-manually.md)を使用して作成されたデータ、または[変換の適用](apply-transformation.md)を使用して変換されたデータセットが含まれます。

3.  **[アクション]** ボックスの一覧で、データセットを保存する前にデータのクリーンアップを実行するかどうかを指定します。  
  
    - **なし**: データをそのまま使用します。  
  
    - **SetMissingValue**:データセット内の特定の値を欠損値に設定します。 既定のプレースホルダーは疑問符 (?) ですが、 **[Custom missing value]\(カスタム欠損値\)** オプションを使用して別の値を入力することもできます。 たとえば、 **[Custom missing value]\(カスタム欠損値\)** に「**Taxi**」と入力すると、データセット内に出てくる **Taxi** という値がすべて欠損値に変わります。
  
    - **ReplaceValues**:このオプションを使用して、その他の正確な値に置き換えられる単一の正確な値を指定します。 欠損値とカスタム値のどちらを置換するかに応じて、 **[置換]** の方法を次のように設定します。

      - **[Missing]\(欠損\)** :入力データセット内の欠損値を置き換える場合にこのオプションを選択します。 **[新しい値]** には、欠損値を置き換える値を入力します。
      - **Custom**:入力データセット内のカスタム値を置き換える場合にこのオプションを選択します。 **[Custom value]\(カスタム値\)** には、検索する値を入力します。 たとえば、欠損値のプレースホルダーとして使用される文字列 `obs` がデータに含まれている場合は、「`obs`」と入力します。 **[新しい値]** には、元の文字列を置き換える新しい値を入力します。
  
    **ReplaceValues** 操作は、完全一致にのみ適用されることに注意してください。 たとえば、`obs.` や `obsolete` といった文字列は影響を受けません。  
 
  
5.  パイプラインを送信します。  

## <a name="results"></a>結果

+  結果のデータセットを新しい名前で保存するには、コンポーネントの右パネルにある **[出力]** タブの下の **[データセットの登録]** アイコンを選択します。  
  
## <a name="technical-notes"></a>テクニカル ノート  

-   データセットを入力として受け取るコンポーネントは、CSV ファイルまたは TSV ファイルのデータを受け取ることもできます。 入力は、コンポーネント コードの実行前に前処理されます。 その前処理は、入力に対してデータセットへの変換コンポーネントを実行した場合と同じものです。  
  
-   SVMLight 形式からデータセットに変換することはできません。  
  
-   カスタム置換操作を指定する場合、検索と置換の操作は完全な値に適用されます。 部分一致は許可されません。 たとえば、3 を -1 や 33 に置き換えることはできますが、35 などの 2 桁の数字の中の 3 を置き換えることはできません。  
  
-   カスタム置換操作では、列の現在のデータ型に準拠していない文字を置換として使用すると、置換は自動的に失敗します。  

  
## <a name="next-steps"></a>次のステップ

Azure Machine Learning で[使用できる一連のコンポーネント](component-reference.md)を参照してください。