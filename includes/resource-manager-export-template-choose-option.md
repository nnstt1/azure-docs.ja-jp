---
author: tfitzmac
ms.service: azure-resource-manager
ms.topic: include
ms.date: 09/03/2021
ms.author: tomfitz
ms.openlocfilehash: 6a7c9b230ffa42a539dd41cc9301915d7dbe3a34
ms.sourcegitcommit: e8b229b3ef22068c5e7cd294785532e144b7a45a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/04/2021
ms.locfileid: "123479160"
---
## <a name="choose-the-right-export-option"></a>適切なエクスポート オプションを選択する

テンプレートをエクスポートするには、次の 2 とおりの方法があります。

* **リソース グループまたはリソースからのエクスポート**。 このオプションでは、既存のリソースから新しいテンプレートを生成します。 エクスポートされたテンプレートは、リソース グループの現在の状態の "スナップショット" です。 リソース グループ全体、またはそのリソース グループ内の特定のリソースをエクスポートできます。

* **履歴から保存**。 このオプションでは、デプロイに使用されたテンプレートのそのままのコピーを取得します。 デプロイ履歴からデプロイを指定します。 

選択したオプションに応じて、エクスポートされたテンプレートの品質は異なります。

| リソース グループまたはリソースから | 履歴から |
| --------------------- | ----------------- |
| テンプレートは自動生成されます。 コードをデプロイする前に、改善する必要がある場合があります。 | テンプレートは、テンプレート作成者によって作成されたコピーの正確なコピーです。 変更なしで再デプロイできる状態です。 |
| テンプレートは、リソースの現在の状態のスナップショットです。 デプロイ後に手動で行った変更も含まれます。 | テンプレートにはデプロイ時点のリソースの状態のみが表示されます。 デプロイ後に手動で行った変更は含まれません。 |
| リソース グループからエクスポートするリソースを選択できます。 | 特定のデプロイに関するすべてのリソースが含まれます。 これらのリソースのサブセットを選択したり、別の時点で追加されたリソースを追加したりすることはできません。 |
| テンプレートには、通常はデプロイ中に設定しない一部のプロパティを含め、リソースのすべてのプロパティが含まれています。 テンプレートを再利用する前に、このようなプロパティを削除またはクリーンアップすることをお勧めします。 | テンプレートには、デプロイに必要なプロパティのみが含まれています。 テンプレートはよりスパースであり、読みやすくなっています。 |
| テンプレートには、再利用に必要なすべてのパラメーターが含まれていない場合もあります。 ほとんどのプロパティ値は、テンプレートにハードコーディングされています。 他の環境でテンプレートを再デプロイするには、リソースを構成する機能を高めるパラメーターを追加する必要があります。  独自のパラメーターを作成できるように、 **[パラメーターを含める]** を選択解除できます。 | テンプレートには、さまざまな環境での再デプロイが簡単になるパラメーターが含まれています。 |

次の場合に、リソース グループまたはリソースからテンプレートをエクスポートします。

* 元のデプロイ後に行われたリソースへの変更をキャプチャする必要がある。
* エクスポートするリソースを選択したい。
* テンプレートを使用してリソースを作成していない。

次の場合に、履歴からテンプレートをエクスポートします。

* 再利用しやすいテンプレートがほしい。
* 元のデプロイ後に行った変更を含める必要はない。
